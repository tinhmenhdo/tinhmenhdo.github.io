import"kleur/colors";import{clsx}from"clsx";import{escape}from"html-escaper";import{encodeBase64,encodeHexUpperCase,decodeBase64}from"@oslojs/encoding";import{z}from"zod";import"cssesc";function normalizeLF(e){return e.replace(/\r\n|\r(?!\n)|\n/g,"\n")}function codeFrame(e,t){if(!t||void 0===t.line||void 0===t.column)return"";const r=normalizeLF(e).split("\n").map((e=>e.replace(/\t/g,"  "))),n=[];for(let e=-2;e<=2;e++)r[t.line+e]&&n.push(t.line+e);let o=0;for(const e of n){let t=`> ${e}`;t.length>o&&(o=t.length)}let s="";for(const e of n){const n=e===t.line-1;s+=n?"> ":"  ",s+=`${e+1} | ${r[e]}\n`,n&&(s+=`${Array.from({length:o}).join(" ")}  | ${Array.from({length:t.column}).join(" ")}^\n`)}return s}class AstroError extends Error{loc;title;hint;frame;type="AstroError";constructor(e,t){const{name:r,title:n,message:o,stack:s,location:i,hint:a,frame:c}=e;super(o,t),this.title=n,this.name=r,o&&(this.message=o),this.stack=s||this.stack,this.loc=i,this.hint=a,this.frame=c}setLocation(e){this.loc=e}setName(e){this.name=e}setMessage(e){this.message=e}setHint(e){this.hint=e}setFrame(e,t){this.frame=codeFrame(e,t)}static is(e){return"AstroError"===e.type}}class AstroUserError extends Error{type="AstroUserError";hint;name="AstroUserError";constructor(e,t){super(),this.message=e,this.hint=t}static is(e){return"AstroUserError"===e.type}}const MissingMediaQueryDirective={name:"MissingMediaQueryDirective",title:"Missing value for `client:media` directive.",message:'Media query not provided for `client:media` directive. A media query similar to `client:media="(max-width: 600px)"` must be provided'},NoMatchingRenderer={name:"NoMatchingRenderer",title:"No matching renderer found.",message:(e,t,r,n)=>`Unable to render \`${e}\`.\n\n${n>0?`There ${r?"are":"is"} ${n} renderer${r?"s":""} configured in your \`astro.config.mjs\` file,\nbut ${r?"none were":"it was not"} able to server-side render \`${e}\`.`:"No valid renderer was found "+(t?`for the \`.${t}\` file extension.`:"for this file extension.")}`,hint:e=>`Did you mean to enable the ${e} integration?\n\nSee https://docs.astro.build/en/guides/framework-components/ for more information on how to install and configure integrations.`},NoClientOnlyHint={name:"NoClientOnlyHint",title:"Missing hint on client:only directive.",message:e=>`Unable to render \`${e}\`. When using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.`,hint:e=>`Did you mean to pass \`client:only="${e}"\`? See https://docs.astro.build/en/reference/directives-reference/#clientonly for more information on client:only`},NoMatchingImport={name:"NoMatchingImport",title:"No import found for component.",message:e=>`Could not render \`${e}\`. No matching import has been found for \`${e}\`.`,hint:"Please make sure the component is properly imported."},InvalidComponentArgs={name:"InvalidComponentArgs",title:"Invalid component arguments.",message:e=>`Invalid arguments passed to${e?` <${e}>`:""} component.`,hint:"Astro components cannot be rendered directly via function call, such as `Component()` or `{items.map(Component)}`."},ImageMissingAlt={name:"ImageMissingAlt",title:'Image missing required "alt" property.',message:'Image missing "alt" property. "alt" text is required to describe important images on the page.',hint:'Use an empty string ("") for decorative images.'},InvalidImageService={name:"InvalidImageService",title:"Error while loading image service.",message:"There was an error loading the configured image service. Please see the stack trace for more information."},MissingImageDimension={name:"MissingImageDimension",title:"Missing image dimensions",message:(e,t)=>`Missing ${"both"===e?"width and height attributes":`${e} attribute`} for ${t}. When using remote images, both dimensions are required in order to avoid CLS.`,hint:"If your image is inside your `src` folder, you probably meant to import it instead. See [the Imports guide for more information](https://docs.astro.build/en/guides/imports/#other-assets). You can also use `inferSize={true}` for remote images to get the original dimensions."},FailedToFetchRemoteImageDimensions={name:"FailedToFetchRemoteImageDimensions",title:"Failed to retrieve remote image dimensions",message:e=>`Failed to get the dimensions for ${e}.`,hint:"Verify your remote image URL is accurate, and that you are not using `inferSize` with a file located in your `public/` folder."},UnsupportedImageFormat={name:"UnsupportedImageFormat",title:"Unsupported image format",message:(e,t,r)=>`Received unsupported format \`${e}\` from \`${t}\`. Currently only ${r.join(", ")} are supported by our image services.`,hint:"Using an `img` tag directly instead of the `Image` component might be what you're looking for."},UnsupportedImageConversion={name:"UnsupportedImageConversion",title:"Unsupported image conversion",message:"Converting between vector (such as SVGs) and raster (such as PNGs and JPEGs) images is not currently supported."},ExpectedImage={name:"ExpectedImage",title:"Expected src to be an image.",message:(e,t,r)=>`Expected \`src\` property for \`getImage\` or \`<Image />\` to be either an ESM imported image or a string with the path of a remote image. Received \`${e}\` (type: \`${t}\`).\n\nFull serialized options received: \`${r}\`.`,hint:"This error can often happen because of a wrong path. Make sure the path to your image is correct. If you're passing an async function, make sure to call and await it."},ExpectedImageOptions={name:"ExpectedImageOptions",title:"Expected image options.",message:e=>`Expected getImage() parameter to be an object. Received \`${e}\`.`},ExpectedNotESMImage={name:"ExpectedNotESMImage",title:"Expected image options, not an ESM-imported image.",message:"An ESM-imported image cannot be passed directly to `getImage()`. Instead, pass an object with the image in the `src` property.",hint:"Try changing `getImage(myImage)` to `getImage({ src: myImage })`"},IncompatibleDescriptorOptions={name:"IncompatibleDescriptorOptions",title:"Cannot set both `densities` and `widths`",message:"Only one of `densities` or `widths` can be specified. In most cases, you'll probably want to use only `widths` if you require specific widths.",hint:"Those attributes are used to construct a `srcset` attribute, which cannot have both `x` and `w` descriptors."},NoImageMetadata={name:"NoImageMetadata",title:"Could not process image metadata.",message:e=>`Could not process image metadata${e?` for \`${e}\``:""}.`,hint:"This is often caused by a corrupted or malformed image. Re-exporting the image from your image editor may fix this issue."},LocalImageUsedWrongly={name:"LocalImageUsedWrongly",title:"Local images must be imported.",message:e=>`\`Image\`'s and \`getImage\`'s \`src\` parameter must be an imported image or an URL, it cannot be a string filepath. Received \`${e}\`.`,hint:"If you want to use an image from your `src` folder, you need to either import it or if the image is coming from a content collection, use the [image() schema helper](https://docs.astro.build/en/guides/images/#images-in-content-collections). See https://docs.astro.build/en/guides/images/#src-required for more information on the `src` property."},AstroGlobUsedOutside={name:"AstroGlobUsedOutside",title:"Astro.glob() used outside of an Astro file.",message:e=>`\`Astro.glob(${e})\` can only be used in \`.astro\` files. \`import.meta.glob(${e})\` can be used instead to achieve a similar result.`,hint:"See Vite's documentation on `import.meta.glob` for more information: https://vite.dev/guide/features.html#glob-import"},AstroGlobNoMatch={name:"AstroGlobNoMatch",title:"Astro.glob() did not match any files.",message:e=>`\`Astro.glob(${e})\` did not return any matching files.`,hint:"Check the pattern for typos."},MissingSharp={name:"MissingSharp",title:"Could not find Sharp.",message:"Could not find Sharp. Please install Sharp (`sharp`) manually into your project or migrate to another image service.",hint:"See Sharp's installation instructions for more information: https://sharp.pixelplumbing.com/install. If you are not relying on `astro:assets` to optimize, transform, or process any images, you can configure a passthrough image service instead of installing Sharp. See https://docs.astro.build/en/reference/errors/missing-sharp for more information.\n\nSee https://docs.astro.build/en/guides/images/#default-image-service for more information on how to migrate to another image service."},ForbiddenRewrite={name:"ForbiddenRewrite",title:"Forbidden rewrite to a static route.",message:(e,t,r)=>`You tried to rewrite the on-demand route '${e}' with the static route '${t}', when using the 'server' output. \n\nThe static route '${t}' is rendered by the component\n'${r}', which is marked as prerendered. This is a forbidden operation because during the build the component '${r}' is compiled to an\nHTML file, which can't be retrieved at runtime by Astro.`,hint:e=>`Add \`export const prerender = false\` to the component '${e}', or use a Astro.redirect().`},ExperimentalFontsNotEnabled={name:"ExperimentalFontsNotEnabled",title:"Experimental fonts are not enabled",message:"The Font component is used but experimental fonts have not been registered in the config.",hint:"Check that you have enabled experimental fonts and also configured your preferred fonts."},FontFamilyNotFound={name:"FontFamilyNotFound",title:"Font family not found",message:e=>`No data was found for the \`"${e}"\` family passed to the \`<Font>\` component.`,hint:"This is often caused by a typo. Check that your Font component is using a `cssVariable` specified in your config."},UnknownContentCollectionError={name:"UnknownContentCollectionError",title:"Unknown Content Collection Error."},RenderUndefinedEntryError={name:"RenderUndefinedEntryError",title:"Attempted to render an undefined content collection entry.",hint:"Check if the entry is undefined before passing it to `render()`"};function validateArgs(e){return 3===e.length&&!(!e[0]||"object"!=typeof e[0])}function baseCreateComponent(e,t,r){const n=t?.split("/").pop()?.replace(".astro","")??"",o=(...t)=>{if(!validateArgs(t))throw new AstroError({...InvalidComponentArgs,message:InvalidComponentArgs.message(n)});return e(...t)};return Object.defineProperty(o,"name",{value:n,writable:!1}),o.isAstroComponentFactory=!0,o.moduleId=t,o.propagation=r,o}function createComponentWithOptions(e){return baseCreateComponent(e.factory,e.moduleId,e.propagation)}function createComponent(e,t,r){return"function"==typeof e?baseCreateComponent(e,t,r):createComponentWithOptions(e)}const ASTRO_VERSION="5.13.6",NOOP_MIDDLEWARE_HEADER="X-Astro-Noop",originPathnameSymbol=Symbol.for("astro.originPathname");function createAstroGlobFn(){return e=>{if(console.warn("Astro.glob is deprecated and will be removed in a future major version of Astro.\nUse import.meta.glob instead: https://vitejs.dev/guide/features.html#glob-import"),"string"==typeof e)throw new AstroError({...AstroGlobUsedOutside,message:AstroGlobUsedOutside.message(JSON.stringify(e))});let t=[...Object.values(e)];if(0===t.length)throw new AstroError({...AstroGlobNoMatch,message:AstroGlobNoMatch.message(JSON.stringify(e))});return Promise.all(t.map((e=>e())))}}function createAstro(e){return{site:new URL(e),generator:"Astro v5.13.6",glob:createAstroGlobFn()}}function isPromise(e){return!!e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}async function*streamAsyncIterator(e){const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}const escapeHTML=escape;class HTMLBytes extends Uint8Array{}Object.defineProperty(HTMLBytes.prototype,Symbol.toStringTag,{get:()=>"HTMLBytes"});class HTMLString extends String{get[Symbol.toStringTag](){return"HTMLString"}}const markHTMLString=e=>e instanceof HTMLString?e:"string"==typeof e?new HTMLString(e):e;function isHTMLString(e){return"[object HTMLString]"===Object.prototype.toString.call(e)}function markHTMLBytes(e){return new HTMLBytes(e)}function hasGetReader(e){return"function"==typeof e.getReader}async function*unescapeChunksAsync(e){if(hasGetReader(e))for await(const t of streamAsyncIterator(e))yield unescapeHTML(t);else for await(const t of e)yield unescapeHTML(t)}function*unescapeChunks(e){for(const t of e)yield unescapeHTML(t)}function unescapeHTML(e){if(e&&"object"==typeof e){if(e instanceof Uint8Array)return markHTMLBytes(e);if(e instanceof Response&&e.body){return unescapeChunksAsync(e.body)}if("function"==typeof e.then)return Promise.resolve(e).then((e=>unescapeHTML(e)));if(e[Symbol.for("astro:slot-string")])return e;if(Symbol.iterator in e)return unescapeChunks(e);if(Symbol.asyncIterator in e||hasGetReader(e))return unescapeChunksAsync(e)}return markHTMLString(e)}function isAstroComponentFactory(e){return null!=e&&!0===e.isAstroComponentFactory}function isAPropagatingComponent(e,t){const r=getPropagationHint(e,t);return"in-tree"===r||"self"===r}function getPropagationHint(e,t){let r=t.propagation||"none";return t.moduleId&&e.componentMetadata.has(t.moduleId)&&"none"===r&&(r=e.componentMetadata.get(t.moduleId).propagation),r}const PROP_TYPE={Value:0,JSON:1,RegExp:2,Date:3,Map:4,Set:5,BigInt:6,URL:7,Uint8Array:8,Uint16Array:9,Uint32Array:10,Infinity:11};function serializeArray(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!\n\nCyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);const n=e.map((e=>convertToSerializedForm(e,t,r)));return r.delete(e),n}function serializeObject(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!\n\nCyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);const n=Object.fromEntries(Object.entries(e).map((([e,n])=>[e,convertToSerializedForm(n,t,r)])));return r.delete(e),n}function convertToSerializedForm(e,t={},r=new WeakSet){switch(Object.prototype.toString.call(e)){case"[object Date]":return[PROP_TYPE.Date,e.toISOString()];case"[object RegExp]":return[PROP_TYPE.RegExp,e.source];case"[object Map]":return[PROP_TYPE.Map,serializeArray(Array.from(e),t,r)];case"[object Set]":return[PROP_TYPE.Set,serializeArray(Array.from(e),t,r)];case"[object BigInt]":return[PROP_TYPE.BigInt,e.toString()];case"[object URL]":return[PROP_TYPE.URL,e.toString()];case"[object Array]":return[PROP_TYPE.JSON,serializeArray(e,t,r)];case"[object Uint8Array]":return[PROP_TYPE.Uint8Array,Array.from(e)];case"[object Uint16Array]":return[PROP_TYPE.Uint16Array,Array.from(e)];case"[object Uint32Array]":return[PROP_TYPE.Uint32Array,Array.from(e)];default:return null!==e&&"object"==typeof e?[PROP_TYPE.Value,serializeObject(e,t,r)]:e===1/0?[PROP_TYPE.Infinity,1]:e===-1/0?[PROP_TYPE.Infinity,-1]:void 0===e?[PROP_TYPE.Value]:[PROP_TYPE.Value,e]}}function serializeProps(e,t){return JSON.stringify(serializeObject(e,t))}const transitionDirectivesToCopyOnIsland=Object.freeze(["data-astro-transition-scope","data-astro-transition-persist","data-astro-transition-persist-props"]);function extractDirectives(e,t){let r={isPage:!1,hydration:null,props:{},propsWithoutTransitionAttributes:{}};for(const[n,o]of Object.entries(e))if(n.startsWith("server:")&&"server:root"===n&&(r.isPage=!0),n.startsWith("client:"))switch(r.hydration||(r.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),n){case"client:component-path":r.hydration.componentUrl=o;break;case"client:component-export":r.hydration.componentExport.value=o;break;case"client:component-hydration":case"client:display-name":break;default:if(r.hydration.directive=n.split(":")[1],r.hydration.value=o,!t.has(r.hydration.directive)){const e=Array.from(t.keys()).map((e=>`client:${e}`)).join(", ");throw new Error(`Error: invalid hydration directive "${n}". Supported hydration methods: ${e}`)}if("media"===r.hydration.directive&&"string"!=typeof r.hydration.value)throw new AstroError(MissingMediaQueryDirective)}else r.props[n]=o,transitionDirectivesToCopyOnIsland.includes(n)||(r.propsWithoutTransitionAttributes[n]=o);for(const t of Object.getOwnPropertySymbols(e))r.props[t]=e[t],r.propsWithoutTransitionAttributes[t]=e[t];return r}async function generateHydrateScript(e,t){const{renderer:r,result:n,astroId:o,props:s,attrs:i}=e,{hydrate:a,componentUrl:c,componentExport:l}=t;if(!l.value)throw new AstroError({...NoMatchingImport,message:NoMatchingImport.message(t.displayName)});const d={children:"",props:{uid:o}};if(i)for(const[e,t]of Object.entries(i))d.props[e]=escapeHTML(t);d.props["component-url"]=await n.resolve(decodeURI(c)),r.clientEntrypoint&&(d.props["component-export"]=l.value,d.props["renderer-url"]=await n.resolve(decodeURI(r.clientEntrypoint.toString())),d.props.props=escapeHTML(serializeProps(s,t))),d.props.ssr="",d.props.client=a;let p=await n.resolve("astro:scripts/before-hydration.js");return p.length&&(d.props["before-hydration-url"]=p),d.props.opts=escapeHTML(JSON.stringify({name:t.displayName,value:t.hydrateArgs||""})),transitionDirectivesToCopyOnIsland.forEach((e=>{void 0!==s[e]&&(d.props[e]=s[e])})),d}const dictionary="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY",binary=61;function bitwise(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t}function shorthash(e){let t,r="",n=bitwise(e);const o=n<0?"Z":"";for(n=Math.abs(n);n>=61;)t=n%61,n=Math.floor(n/61),r=dictionary[t]+r;return n>0&&(r=dictionary[n]+r),o+r}const headAndContentSym=Symbol.for("astro.headAndContent");function isHeadAndContent(e){return"object"==typeof e&&null!==e&&!!e[headAndContentSym]}function createHeadAndContent(e,t){return{[headAndContentSym]:!0,head:e,content:t}}function createThinHead(){return{[headAndContentSym]:!0}}var astro_island_prebuilt_default='(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();',astro_island_prebuilt_dev_default='(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var l=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>y(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[h,e]=t;return h in i?i[h](e):void 0},a=t=>t.map(o),y=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([h,e])=>[h,o(e)]));class f extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},p=this.querySelectorAll("template[data-astro-template]");for(let r of p){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let u;try{u=this.hasAttribute("props")?y(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let d,m=this.hydrator(this);d=performance.now(),await m(this.Component,u,n,{client:this.getAttribute("client")}),d&&this.setAttribute("client-render-time",(performance.now()-d).toString()),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[p,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=p[d];else{this.Component=p;for(let m of d.split("."))this.Component=this.Component[m]}return this.hydrator=u,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}l(f,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",f)}})();';const ISLAND_STYLES="astro-island,astro-slot,astro-static-slot{display:contents}";function determineIfNeedsHydrationScript(e){return!e._metadata.hasHydrationScript&&(e._metadata.hasHydrationScript=!0)}function determinesIfNeedsDirectiveScript(e,t){return!e._metadata.hasDirectives.has(t)&&(e._metadata.hasDirectives.add(t),!0)}function getDirectiveScriptText(e,t){const r=e.clientDirectives.get(t);if(!r)throw new Error(`Unknown directive: ${t}`);return r}function getPrescripts(e,t,r){switch(t){case"both":return`<style>${ISLAND_STYLES}</style><script>${getDirectiveScriptText(e,r)}<\/script><script>${"development"===process.env.NODE_ENV?astro_island_prebuilt_dev_default:astro_island_prebuilt_default}<\/script>`;case"directive":return`<script>${getDirectiveScriptText(e,r)}<\/script>`}}function renderCspContent(e){const t=new Set,r=new Set;for(const r of e.scriptHashes)t.add(`'${r}'`);for(const t of e.styleHashes)r.add(`'${t}'`);for(const t of e._metadata.extraStyleHashes)r.add(`'${t}'`);for(const r of e._metadata.extraScriptHashes)t.add(`'${r}'`);let n;e.directives.length>0&&(n=e.directives.join(";")+";");let o="'self'";e.scriptResources.length>0&&(o=e.scriptResources.map((e=>`${e}`)).join(" "));let s="'self'";e.styleResources.length>0&&(s=e.styleResources.map((e=>`${e}`)).join(" "));const i=e.isStrictDynamic?" 'strict-dynamic'":"";return[n,`script-src ${o} ${Array.from(t).join(" ")}${i};`,`style-src ${s} ${Array.from(r).join(" ")};`].filter(Boolean).join(" ")}const RenderInstructionSymbol=Symbol.for("astro:render");function createRenderInstruction(e){return Object.defineProperty(e,RenderInstructionSymbol,{value:!0})}function isRenderInstruction(e){return e&&"object"==typeof e&&e[RenderInstructionSymbol]}const voidElementNames=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,htmlBooleanAttributes=/^(?:allowfullscreen|async|autofocus|autoplay|checked|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|inert|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|selected|itemscope)$/i,AMPERSAND_REGEX=/&/g,DOUBLE_QUOTE_REGEX=/"/g,STATIC_DIRECTIVES=new Set(["set:html","set:text"]),toIdent=e=>e.trim().replace(/(?!^)\b\w|\s+|\W+/g,((e,t)=>/\W/.test(e)?"":0===t?e:e.toUpperCase())),toAttributeString=(e,t=!0)=>t?String(e).replace(AMPERSAND_REGEX,"&#38;").replace(DOUBLE_QUOTE_REGEX,"&#34;"):e,kebab=e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),toStyleString=e=>Object.entries(e).filter((([e,t])=>"string"==typeof t&&t.trim()||"number"==typeof t)).map((([e,t])=>"-"!==e[0]&&"-"!==e[1]?`${kebab(e)}:${t}`:`${e}:${t}`)).join(";");function defineScriptVars(e){let t="";for(const[r,n]of Object.entries(e))t+=`const ${toIdent(r)} = ${JSON.stringify(n)?.replace(/<\/script>/g,"\\x3C/script>")};\n`;return markHTMLString(t)}function formatList(e){return 1===e.length?e[0]:`${e.slice(0,-1).join(", ")} or ${e[e.length-1]}`}function isCustomElement(e){return e.includes("-")}function handleBooleanAttribute(e,t,r,n){return n&&isCustomElement(n)?markHTMLString(` ${e}="${toAttributeString(t,r)}"`):markHTMLString(t?` ${e}`:"")}function addAttribute(e,t,r=!0,n=""){if(null==e)return"";if(STATIC_DIRECTIVES.has(t))return console.warn(`[astro] The "${t}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.\n\nMake sure to use the static attribute syntax (\`${t}={value}\`) instead of the dynamic spread syntax (\`{...{ "${t}": value }}\`).`),"";if("class:list"===t){const n=toAttributeString(clsx(e),r);return""===n?"":markHTMLString(` ${t.slice(0,-5)}="${n}"`)}if("style"===t&&!(e instanceof HTMLString)){if(Array.isArray(e)&&2===e.length)return markHTMLString(` ${t}="${toAttributeString(`${toStyleString(e[0])};${e[1]}`,r)}"`);if("object"==typeof e)return markHTMLString(` ${t}="${toAttributeString(toStyleString(e),r)}"`)}return"className"===t?markHTMLString(` class="${toAttributeString(e,r)}"`):"string"==typeof e&&e.includes("&")&&isHttpUrl(e)?markHTMLString(` ${t}="${toAttributeString(e,!1)}"`):htmlBooleanAttributes.test(t)?handleBooleanAttribute(t,e,r,n):""===e?markHTMLString(` ${t}`):"popover"===t&&"boolean"==typeof e||"download"===t&&"boolean"==typeof e?handleBooleanAttribute(t,e,r,n):markHTMLString(` ${t}="${toAttributeString(e,r)}"`)}function internalSpreadAttributes(e,t=!0,r){let n="";for(const[o,s]of Object.entries(e))n+=addAttribute(s,o,t,r);return markHTMLString(n)}function renderElement$1(e,{props:t,children:r=""},n=!0){const{lang:o,"data-astro-id":s,"define:vars":i,...a}=t;return i&&("style"===e&&(delete a["is:global"],delete a["is:scoped"]),"script"===e&&(delete a.hoist,r=defineScriptVars(i)+"\n"+r)),null!=r&&""!=r||!voidElementNames.test(e)?`<${e}${internalSpreadAttributes(a,n,e)}>${r}</${e}>`:`<${e}${internalSpreadAttributes(a,n,e)}>`}const noop=()=>{};class BufferedRenderer{chunks=[];renderPromise;destination;flushed=!1;constructor(e,t){this.destination=e,this.renderPromise=t(this),isPromise(this.renderPromise)&&Promise.resolve(this.renderPromise).catch(noop)}write(e){this.flushed?this.destination.write(e):this.chunks.push(e)}flush(){if(this.flushed)throw new Error("The render buffer has already been flushed.");this.flushed=!0;for(const e of this.chunks)this.destination.write(e);return this.renderPromise}}function createBufferedRenderer(e,t){return new BufferedRenderer(e,t)}"undefined"!=typeof process&&Object.prototype.toString.call(process);const VALID_PROTOCOLS=["http:","https:"];function isHttpUrl(e){try{const t=new URL(e);return VALID_PROTOCOLS.includes(t.protocol)}catch{return!1}}const uniqueElements=(e,t,r)=>{const n=JSON.stringify(e.props),o=e.children;return t===r.findIndex((e=>JSON.stringify(e.props)===n&&e.children==o))};function renderAllHeadContent(e){e._metadata.hasRenderedHead=!0;let t="";e.shouldInjectCspMetaTags&&"meta"===e.cspDestination&&(t+=renderElement$1("meta",{props:{"http-equiv":"content-security-policy",content:renderCspContent(e)},children:""},!1));const r=Array.from(e.styles).filter(uniqueElements).map((e=>"stylesheet"===e.props.rel?renderElement$1("link",e):renderElement$1("style",e)));e.styles.clear();const n=Array.from(e.scripts).filter(uniqueElements).map((t=>(e.userAssetsBase&&(t.props.src=("/"===e.base?"":e.base)+e.userAssetsBase+t.props.src),renderElement$1("script",t,!1)))),o=Array.from(e.links).filter(uniqueElements).map((e=>renderElement$1("link",e,!1)));if(t+=r.join("\n")+o.join("\n")+n.join("\n"),e._metadata.extraHead.length>0)for(const r of e._metadata.extraHead)t+=r;return markHTMLString(t)}function renderHead(){return createRenderInstruction({type:"head"})}function maybeRenderHead(){return createRenderInstruction({type:"maybe-head"})}const ALGORITHMS={"SHA-256":"sha256-","SHA-384":"sha384-","SHA-512":"sha512-"},ALGORITHM_VALUES=Object.values(ALGORITHMS);z.enum(Object.keys(ALGORITHMS)).optional().default("SHA-256"),z.custom((e=>"string"==typeof e&&ALGORITHM_VALUES.some((t=>e.startsWith(t)))));const ALLOWED_DIRECTIVES=["base-uri","child-src","connect-src","default-src","fenced-frame-src","font-src","form-action","frame-ancestors","frame-src","img-src","manifest-src","media-src","object-src","referrer","report-to","report-uri","require-trusted-types-for","sandbox","trusted-types","upgrade-insecure-requests","worker-src"];z.custom((e=>"string"==typeof e&&ALLOWED_DIRECTIVES.some((t=>e.startsWith(t)))));const ALGORITHM="AES-GCM";async function decodeKey(e){const t=decodeBase64(e);return crypto.subtle.importKey("raw",Buffer.from(t),"AES-GCM",!0,["encrypt","decrypt"])}const encoder=new TextEncoder;new TextDecoder;const IV_LENGTH=24;async function encryptString(e,t){const r=crypto.getRandomValues(new Uint8Array(12)),n=encoder.encode(t),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,n);return encodeHexUpperCase(r)+encodeBase64(new Uint8Array(o))}async function generateCspDigest(e,t){const r=await crypto.subtle.digest(t,encoder.encode(e)),n=encodeBase64(new Uint8Array(r));return`${ALGORITHMS[t]}${n}`}const renderTemplateResultSym=Symbol.for("astro.renderTemplateResult");class RenderTemplateResult{[renderTemplateResultSym]=!0;htmlParts;expressions;error;constructor(e,t){this.htmlParts=e,this.error=void 0,this.expressions=t.map((e=>isPromise(e)?Promise.resolve(e).catch((e=>{if(!this.error)throw this.error=e,e})):e))}render(e){const t=this.expressions.map((t=>createBufferedRenderer(e,(e=>{if(t||0===t)return renderChild(e,t)}))));let r=0;const n=()=>{for(;r<this.htmlParts.length;){const o=this.htmlParts[r],s=t[r];if(r++,o&&e.write(markHTMLString(o)),s){const e=s.flush();if(isPromise(e))return e.then(n)}}};return n()}}function isRenderTemplateResult(e){return"object"==typeof e&&null!==e&&!!e[renderTemplateResultSym]}function renderTemplate(e,...t){return new RenderTemplateResult(e,t)}const slotString=Symbol.for("astro:slot-string");class SlotString extends HTMLString{instructions;[slotString];constructor(e,t){super(e),this.instructions=t,this[slotString]=!0}}function isSlotString(e){return!!e[slotString]}function renderSlot(e,t,r){return!t&&r?renderSlot(e,r):{async render(r){await renderChild(r,"function"==typeof t?t(e):t)}}}async function renderSlotToString(e,t,r){let n="",o=null;const s={write(t){if(t instanceof SlotString)n+=t,t.instructions&&(o??=[],o.push(...t.instructions));else{if(t instanceof Response)return;"object"==typeof t&&"type"in t&&"string"==typeof t.type?(null===o&&(o=[]),o.push(t)):n+=chunkToString(e,t)}}},i=renderSlot(e,t,r);return await i.render(s),markHTMLString(new SlotString(n,o))}async function renderSlots(e,t={}){let r=null,n={};return t&&await Promise.all(Object.entries(t).map((([t,o])=>renderSlotToString(e,o).then((e=>{e.instructions&&(null===r&&(r=[]),r.push(...e.instructions)),n[t]=e}))))),{slotInstructions:r,children:n}}const internalProps=new Set(["server:component-path","server:component-export","server:component-directive","server:defer"]);function containsServerDirective(e){return"server:component-directive"in e}const SCRIPT_RE=/<\/script/giu,COMMENT_RE=/<!--/gu,SCRIPT_REPLACER="<\\/script",COMMENT_REPLACER="\\u003C!--";function safeJsonStringify(e){return JSON.stringify(e).replace(SCRIPT_RE,"<\\/script").replace(COMMENT_RE,"\\u003C!--")}function createSearchParams(e,t,r){const n=new URLSearchParams;return n.set("e",e),n.set("p",t),n.set("s",r),n}function isWithinURLLimit(e,t){return(e+"?"+t.toString()).length<2048}class ServerIslandComponent{result;props;slots;displayName;hostId;islandContent;componentPath;componentExport;componentId;constructor(e,t,r,n){this.result=e,this.props=t,this.slots=r,this.displayName=n}async init(){const e=await this.getIslandContent();if(this.result.cspDestination){this.result._metadata.extraScriptHashes.push(await generateCspDigest(SERVER_ISLAND_REPLACER,this.result.cspAlgorithm));const t=await generateCspDigest(e,this.result.cspAlgorithm);this.result._metadata.extraScriptHashes.push(t)}return createThinHead()}async render(e){const t=await this.getHostId(),r=await this.getIslandContent();e.write(createRenderInstruction({type:"server-island-runtime"})),e.write("\x3c!--[if astro]>server-island-start<![endif]--\x3e");for(const t in this.slots)"fallback"===t&&await renderChild(e,this.slots.fallback(this.result));e.write(`<script type="module" data-astro-rerun data-island-id="${t}">${r}<\/script>`)}getComponentPath(){if(this.componentPath)return this.componentPath;const e=this.props["server:component-path"];if(!e)throw new Error("Could not find server component path");return this.componentPath=e,e}getComponentExport(){if(this.componentExport)return this.componentExport;const e=this.props["server:component-export"];if(!e)throw new Error("Could not find server component export");return this.componentExport=e,e}async getHostId(){return this.hostId||(this.hostId=await crypto.randomUUID()),this.hostId}async getIslandContent(){if(this.islandContent)return this.islandContent;const e=this.getComponentPath(),t=this.getComponentExport(),r=this.result.serverIslandNameMap.get(e);if(!r)throw new Error("Could not find server component name");for(const e of Object.keys(this.props))internalProps.has(e)&&delete this.props[e];const n={};for(const e in this.slots)if("fallback"!==e){const t=await renderSlotToString(this.result,this.slots[e]);n[e]=t.toString()}const o=await this.result.key,s=0===Object.keys(this.props).length?"":await encryptString(o,JSON.stringify(this.props)),i=await this.getHostId(),a=this.result.base.endsWith("/")?"":"/";let c=`${this.result.base}${a}_server-islands/${r}${"always"===this.result.trailingSlash?"/":""}`;const l=createSearchParams(t,s,safeJsonStringify(n)),d=isWithinURLLimit(c,l);d&&(c+="?"+l.toString(),this.result._metadata.extraHead.push(markHTMLString(`<link rel="preload" as="fetch" href="${c}" crossorigin="anonymous">`)));const p=d?`let response = await fetch('${c}');`:`let data = {\n\tcomponentExport: ${safeJsonStringify(t)},\n\tencryptedProps: ${safeJsonStringify(s)},\n\tslots: ${safeJsonStringify(n)},\n};\nlet response = await fetch('${c}', {\n\tmethod: 'POST',\n\tbody: JSON.stringify(data),\n});`;return this.islandContent=`${p}replaceServerIsland('${i}', response);`,this.islandContent}}const renderServerIslandRuntime=()=>`<script>${SERVER_ISLAND_REPLACER}<\/script>`,SERVER_ISLAND_REPLACER=markHTMLString("async function replaceServerIsland(id, r) {\n\tlet s = document.querySelector(`script[data-island-id=\"${id}\"]`);\n\t// If there's no matching script, or the request fails then return\n\tif (!s || r.status !== 200 || r.headers.get('content-type')?.split(';')[0].trim() !== 'text/html') return;\n\t// Load the HTML before modifying the DOM in case of errors\n\tlet html = await r.text();\n\t// Remove any placeholder content before the island script\n\twhile (s.previousSibling && s.previousSibling.nodeType !== 8 && s.previousSibling.data !== '[if astro]>server-island-start<![endif]')\n\t\ts.previousSibling.remove();\n\ts.previousSibling?.remove();\n\t// Insert the new HTML\n\ts.before(document.createRange().createContextualFragment(html));\n\t// Remove the script. Prior to v5.4.2, this was the trick to force rerun of scripts.  Keeping it to minimize change to the existing behavior.\n\ts.remove();\n}".split("\n").map((e=>e.trim())).filter((e=>e&&!e.startsWith("//"))).join(" ")),Fragment=Symbol.for("astro:fragment"),Renderer=Symbol.for("astro:renderer");new TextEncoder;const decoder=new TextDecoder;function stringifyChunk(e,t){if(isRenderInstruction(t)){const r=t;switch(r.type){case"directive":{const{hydration:t}=r;let n=t&&determineIfNeedsHydrationScript(e),o=t&&determinesIfNeedsDirectiveScript(e,t.directive);if(n){let r=getPrescripts(e,"both",t.directive);return markHTMLString(r)}if(o){let r=getPrescripts(e,"directive",t.directive);return markHTMLString(r)}return""}case"head":return e._metadata.hasRenderedHead||e.partial?"":renderAllHeadContent(e);case"maybe-head":return e._metadata.hasRenderedHead||e._metadata.headInTree||e.partial?"":renderAllHeadContent(e);case"renderer-hydration-script":{const{rendererSpecificHydrationScripts:t}=e._metadata,{rendererName:n}=r;return t.has(n)?"":(t.add(n),r.render())}case"server-island-runtime":return e._metadata.hasRenderedServerIslandRuntime?"":(e._metadata.hasRenderedServerIslandRuntime=!0,renderServerIslandRuntime());default:throw new Error(`Unknown chunk type: ${t.type}`)}}else{if(t instanceof Response)return"";if(isSlotString(t)){let r="";const n=t;if(n.instructions)for(const t of n.instructions)r+=stringifyChunk(e,t);return r+=t.toString(),r}}return t.toString()}function chunkToString(e,t){return ArrayBuffer.isView(t)?decoder.decode(t):stringifyChunk(e,t)}function isRenderInstance(e){return!!e&&"object"==typeof e&&"render"in e&&"function"==typeof e.render}function renderChild(e,t){if(isPromise(t))return t.then((t=>renderChild(e,t)));if(t instanceof SlotString)e.write(t);else if(isHTMLString(t))e.write(t);else{if(Array.isArray(t))return renderArray(e,t);if("function"==typeof t)return renderChild(e,t());if(t||0===t)if("string"!=typeof t){if(isRenderInstance(t))return t.render(e);if(isRenderTemplateResult(t))return t.render(e);if(isAstroComponentInstance(t))return t.render(e);if(!ArrayBuffer.isView(t))return"object"==typeof t&&(Symbol.asyncIterator in t||Symbol.iterator in t)?Symbol.asyncIterator in t?renderAsyncIterable(e,t):renderIterable(e,t):void e.write(t);e.write(t)}else e.write(markHTMLString(escapeHTML(t)))}}function renderArray(e,t){const r=t.map((t=>createBufferedRenderer(e,(e=>renderChild(e,t)))))[Symbol.iterator](),n=()=>{for(;;){const{value:e,done:t}=r.next();if(t)break;const o=e.flush();if(isPromise(o))return o.then(n)}};return n()}function renderIterable(e,t){const r=t[Symbol.iterator](),n=()=>{for(;;){const{value:t,done:o}=r.next();if(o)break;const s=renderChild(e,t);if(isPromise(s))return s.then(n)}};return n()}async function renderAsyncIterable(e,t){for await(const r of t)await renderChild(e,r)}const astroComponentInstanceSym=Symbol.for("astro.componentInstance");class AstroComponentInstance{[astroComponentInstanceSym]=!0;result;props;slotValues;factory;returnValue;constructor(e,t,r,n){this.result=e,this.props=t,this.factory=n,this.slotValues={};for(const t in r){let n=!1,o=r[t](e);this.slotValues[t]=()=>n?r[t](e):(n=!0,o)}}init(e){return void 0!==this.returnValue||(this.returnValue=this.factory(e,this.props,this.slotValues),isPromise(this.returnValue)&&this.returnValue.then((e=>{this.returnValue=e})).catch((()=>{}))),this.returnValue}render(e){const t=this.init(this.result);return isPromise(t)?t.then((t=>this.renderImpl(e,t))):this.renderImpl(e,t)}renderImpl(e,t){return isHeadAndContent(t)?t.content.render(e):renderChild(e,t)}}function validateComponentProps(e,t,r){if(null!=e){const n=[...t.keys()].map((e=>`client:${e}`));for(const t of Object.keys(e))n.includes(t)&&console.warn(`You are attempting to render <${r} ${t} />, but ${r} is an Astro component. Astro components do not render in the client and should not have a hydration directive. Please use a framework component for client rendering.`)}}function createAstroComponentInstance(e,t,r,n,o={}){validateComponentProps(n,e.clientDirectives,t);const s=new AstroComponentInstance(e,n,o,r);return isAPropagatingComponent(e,r)&&e._metadata.propagators.add(s),s}function isAstroComponentInstance(e){return"object"==typeof e&&null!==e&&!!e[astroComponentInstanceSym]}async function bufferHeadContent(e){const t=e._metadata.propagators.values();for(;;){const{value:r,done:n}=t.next();if(n)break;const o=await r.init(e);isHeadAndContent(o)&&o.head&&e._metadata.extraHead.push(o.head)}}function componentIsHTMLElement(e){return"undefined"!=typeof HTMLElement&&HTMLElement.isPrototypeOf(e)}async function renderHTMLElement(e,t,r,n){const o=getHTMLElementName(t);let s="";for(const e in r)s+=` ${e}="${toAttributeString(await r[e])}"`;return markHTMLString(`<${o}${s}>${await renderSlotToString(e,n?.default)}</${o}>`)}function getHTMLElementName(e){const t=customElements.getName(e);if(t)return t;return e.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-")}const needsHeadRenderingSymbol=Symbol.for("astro.needsHeadRendering"),rendererAliases=new Map([["solid","solid-js"]]),clientOnlyValues=new Set(["solid-js","react","preact","vue","svelte"]);function guessRenderers(e){const t=e?.split(".").pop();switch(t){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue","@astrojs/svelte"]}}function isFragmentComponent(e){return e===Fragment}function isHTMLComponent(e){return e&&!0===e["astro:html"]}const ASTRO_SLOT_EXP=/<\/?astro-slot\b[^>]*>/g,ASTRO_STATIC_SLOT_EXP=/<\/?astro-static-slot\b[^>]*>/g;function removeStaticAstroSlot(e,t=!0){const r=t?ASTRO_STATIC_SLOT_EXP:ASTRO_SLOT_EXP;return e.replace(r,"")}async function renderFrameworkComponent(e,t,r,n,o={}){if(!r&&"client:only"in n==!1)throw new Error(`Unable to render ${t} because it is ${r}!\nDid you forget to import the component or is it possible there is a typo?`);const{renderers:s,clientDirectives:i}=e,a={astroStaticSlot:!0,displayName:t},{hydration:c,isPage:l,props:d,propsWithoutTransitionAttributes:p}=extractDirectives(n,i);let u,m="";c&&(a.hydrate=c.directive,a.hydrateArgs=c.value,a.componentExport=c.componentExport,a.componentUrl=c.componentUrl);const h=guessRenderers(a.componentUrl),f=s.filter((e=>"astro:jsx"!==e.name)),{children:y,slotInstructions:g}=await renderSlots(e,o);let b,S;if("only"!==a.hydrate){let t=!1;try{t=r&&r[Renderer]}catch{}if(t){const e=r[Renderer];b=s.find((({name:t})=>t===e))}if(!b){let t;for(const n of s)try{if(await n.ssr.check.call({result:e},r,d,y)){b=n;break}}catch(e){t??=e}if(!b&&t)throw t}if(!b&&"function"==typeof HTMLElement&&componentIsHTMLElement(r)){const t=await renderHTMLElement(e,r,n,o);return{render(e){e.write(t)}}}}else{if(a.hydrateArgs){const e=rendererAliases.has(a.hydrateArgs)?rendererAliases.get(a.hydrateArgs):a.hydrateArgs;clientOnlyValues.has(e)&&(b=s.find((({name:t})=>t===`@astrojs/${e}`||t===e)))}if(b||1!==f.length||(b=f[0]),!b){const e=a.componentUrl?.split(".").pop();b=s.find((({name:t})=>t===`@astrojs/${e}`||t===e))}}if(b)if("only"===a.hydrate)m=await renderSlotToString(e,o?.fallback);else{const t=performance.now();({html:m,attrs:u}=await b.ssr.renderToStaticMarkup.call({result:e},r,p,y,a)),"development"===process.env.NODE_ENV&&(S=performance.now()-t)}else{if("only"===a.hydrate){const e=rendererAliases.has(a.hydrateArgs)?rendererAliases.get(a.hydrateArgs):a.hydrateArgs;if(clientOnlyValues.has(e)){const e=f.length>1;throw new AstroError({...NoMatchingRenderer,message:NoMatchingRenderer.message(a.displayName,a?.componentUrl?.split(".").pop(),e,f.length),hint:NoMatchingRenderer.hint(formatList(h.map((e=>"`"+e+"`"))))})}throw new AstroError({...NoClientOnlyHint,message:NoClientOnlyHint.message(a.displayName),hint:NoClientOnlyHint.hint(h.map((e=>e.replace("@astrojs/",""))).join("|"))})}if("string"!=typeof r){const t=f.filter((e=>h.includes(e.name))),n=f.length>1;if(0===t.length)throw new AstroError({...NoMatchingRenderer,message:NoMatchingRenderer.message(a.displayName,a?.componentUrl?.split(".").pop(),n,f.length),hint:NoMatchingRenderer.hint(formatList(h.map((e=>"`"+e+"`"))))});if(1!==t.length)throw new Error(`Unable to render ${a.displayName}!\n\nThis component likely uses ${formatList(h)},\nbut Astro encountered an error during server-side rendering.\n\nPlease ensure that ${a.displayName}:\n1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.\n   If this is unavoidable, use the \`client:only\` hydration directive.\n2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.\n\nIf you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`);b=t[0],({html:m,attrs:u}=await b.ssr.renderToStaticMarkup.call({result:e},r,p,y,a))}}if(!m&&"string"==typeof r){const t=sanitizeElementName(r),n=Object.values(y).join(""),o=renderTemplate`<${t}${internalSpreadAttributes(d,!0,t)}${markHTMLString(""===n&&voidElementNames.test(t)?"/>":`>${n}</${t}>`)}`;m="";const s={write(t){t instanceof Response||(m+=chunkToString(e,t))}};await o.render(s)}if(!c)return{render(e){if(g)for(const t of g)e.write(t);l||"astro:jsx"===b?.name?e.write(m):m&&m.length>0&&e.write(markHTMLString(removeStaticAstroSlot(m,b?.ssr?.supportsAstroStaticSlot)))}};const A=shorthash(`\x3c!--${a.componentExport.value}:${a.componentUrl}--\x3e\n${m}\n${serializeProps(d,a)}`),v=await generateHydrateScript({renderer:b,result:e,astroId:A,props:d,attrs:u},a);S&&"development"===process.env.NODE_ENV&&(v.props["server-render-time"]=S);let w=[];if(m){if(Object.keys(y).length>0)for(const e of Object.keys(y)){let t=b?.ssr?.supportsAstroStaticSlot?a.hydrate?"astro-slot":"astro-static-slot":"astro-slot",r="default"===e?`<${t}>`:`<${t} name="${e}">`;m.includes(r)||w.push(e)}}else w=Object.keys(y);const E=w.length>0?w.map((e=>`<template data-astro-template${"default"!==e?`="${e}"`:""}>${y[e]}</template>`)).join(""):"";return v.children=`${m??""}${E}`,v.children&&(v.props["await-children"]="",v.children+="\x3c!--astro:end--\x3e"),{render(e){if(g)for(const t of g)e.write(t);e.write(createRenderInstruction({type:"directive",hydration:c})),"only"!==c.directive&&b?.ssr.renderHydrationScript&&e.write(createRenderInstruction({type:"renderer-hydration-script",rendererName:b.name,render:b.ssr.renderHydrationScript}));const t=renderElement$1("astro-island",v,!1);e.write(markHTMLString(t))}}}function sanitizeElementName(e){const t=/[&<>'"\s]+/;return t.test(e)?e.trim().split(t)[0].trim():e}async function renderFragmentComponent(e,t={}){const r=await renderSlotToString(e,t?.default);return{render(e){null!=r&&e.write(r)}}}async function renderHTMLComponent(e,t,r,n={}){const{slotInstructions:o,children:s}=await renderSlots(e,n),i=t({slots:s}),a=o?o.map((t=>chunkToString(e,t))).join(""):"";return{render(e){e.write(markHTMLString(a+i))}}}function renderAstroComponent(e,t,r,n,o={}){if(containsServerDirective(n)){const r=new ServerIslandComponent(e,n,o,t);return e._metadata.propagators.add(r),r}const s=createAstroComponentInstance(e,t,r,n,o);return{render:e=>s.render(e)}}function renderComponent(e,t,r,n,o={}){return isPromise(r)?r.catch(s).then((r=>renderComponent(e,t,r,n,o))):isFragmentComponent(r)?renderFragmentComponent(e,o).catch(s):(n=normalizeProps(n),isHTMLComponent(r)?renderHTMLComponent(e,r,n,o).catch(s):isAstroComponentFactory(r)?renderAstroComponent(e,t,r,n,o):renderFrameworkComponent(e,t,r,n,o).catch(s));function s(t){if(e.cancelled)return{render(){}};throw t}}function normalizeProps(e){if(void 0!==e["class:list"]){const t=e["class:list"];delete e["class:list"],e.class=clsx(e.class,t),""===e.class&&delete e.class}return e}async function renderComponentToString(e,t,r,n,o={},s=!1,i){let a="",c=!1,l="";s&&!e.partial&&nonAstroPageNeedsHeadInjection(r)&&(l+=chunkToString(e,maybeRenderHead()));try{const i={write(t){if(s&&!e.partial&&!c&&(c=!0,!/<!doctype html/i.test(String(t)))){const t=e.compressHTML?"<!DOCTYPE html>":"<!DOCTYPE html>\n";a+=t+l}t instanceof Response||(a+=chunkToString(e,t))}},d=await renderComponent(e,t,r,n,o);containsServerDirective(n)&&await bufferHeadContent(e),await d.render(i)}catch(e){throw AstroError.is(e)&&!e.loc&&e.setLocation({file:i?.component}),e}return a}function nonAstroPageNeedsHeadInjection(e){return!!e?.[needsHeadRenderingSymbol]}const ClientOnlyPlaceholder="astro-client-only",hasTriedRenderComponentSymbol=Symbol("hasTriedRenderComponent");async function renderJSX(e,t){switch(!0){case t instanceof HTMLString:return""===t.toString().trim()?"":t;case"string"==typeof t:return markHTMLString(escapeHTML(t));case"function"==typeof t:return t;case!t&&0!==t:return"";case Array.isArray(t):return markHTMLString((await Promise.all(t.map((t=>renderJSX(e,t))))).join(""))}return renderJSXVNode(e,t)}async function renderJSXVNode(e,t){if(isVNode(t)){switch(!0){case!t.type:throw new Error(`Unable to render ${e.pathname} because it contains an undefined Component!\nDid you forget to import the component or is it possible there is a typo?`);case t.type===Symbol.for("astro:fragment"):return renderJSX(e,t.props.children);case isAstroComponentFactory(t.type):{let r={},n={};for(const[o,s]of Object.entries(t.props??{}))"children"===o||s&&"object"==typeof s&&s.$$slot?n["children"===o?"default":o]=()=>renderJSX(e,s):r[o]=s;const o=await renderComponentToString(e,t.type.name,t.type,r,n);return markHTMLString(o)}case!t.type&&0!==t.type:return"";case"string"==typeof t.type&&"astro-client-only"!==t.type:return markHTMLString(await renderElement(e,t.type,t.props??{}))}if(t.type){let r=function(e){return Array.isArray(e)?e.map((e=>r(e))):isVNode(e)&&"slot"in e.props?(s[e.props.slot]=[...s[e.props.slot]??[],e],void delete e.props.slot):void s.default.push(e)};if("function"==typeof t.type&&t.props["server:root"]){const r=await t.type(t.props??{});return await renderJSX(e,r)}if("function"==typeof t.type){if(t.props[hasTriedRenderComponentSymbol]){delete t.props[hasTriedRenderComponentSymbol];const r=await t.type(t.props??{});return r?.[AstroJSX]||!r?await renderJSXVNode(e,r):void 0}t.props[hasTriedRenderComponentSymbol]=!0}const{children:n=null,...o}=t.props??{},s={default:[]};r(n);for(const[e,t]of Object.entries(o))t?.$$slot&&(s[e]=t,delete o[e]);const i=[],a={};for(const[t,r]of Object.entries(s))i.push(renderJSX(e,r).then((e=>{0!==e.toString().trim().length&&(a[t]=()=>e)})));let c;return await Promise.all(i),c="astro-client-only"===t.type&&t.props["client:only"]?await renderComponentToString(e,t.props["client:display-name"]??"",null,o,a):await renderComponentToString(e,"function"==typeof t.type?t.type.name:t.type,t.type,o,a),markHTMLString(c)}}return markHTMLString(`${t}`)}async function renderElement(e,t,{children:r,...n}){return markHTMLString(`<${t}${spreadAttributes(n)}${markHTMLString(null!=r&&""!=r||!voidElementNames.test(t)?`>${null==r?"":await renderJSX(e,prerenderElementChildren(t,r))}</${t}>`:"/>")}`)}function prerenderElementChildren(e,t){return"string"!=typeof t||"style"!==e&&"script"!==e?t:markHTMLString(t)}async function renderScript(e,t){if(e._metadata.renderedScripts.has(t))return;e._metadata.renderedScripts.add(t);const r=e.inlinedScripts.get(t);if(null!=r)return r?markHTMLString(`<script type="module">${r}<\/script>`):"";const n=await e.resolve(t);return markHTMLString(`<script type="module" src="${e.userAssetsBase?("/"===e.base?"":e.base)+e.userAssetsBase:""}${n}"><\/script>`)}function renderScriptElement({props:e,children:t}){return renderElement$1("script",{props:e,children:t})}function renderUniqueStylesheet(e,t){return"external"===t.type?Array.from(e.styles).some((e=>e.props.href===t.src))?"":renderElement$1("link",{props:{rel:"stylesheet",href:t.src},children:""}):"inline"===t.type?Array.from(e.styles).some((e=>e.children.includes(t.content)))?"":renderElement$1("style",{props:{},children:t.content}):void 0}function __astro_tag_component__(e,t){e&&"function"==typeof e&&Object.defineProperty(e,Renderer,{value:t,enumerable:!1,writable:!1})}function spreadAttributes(e={},t,{class:r}={}){let n="";r&&(void 0!==e.class?e.class+=` ${r}`:void 0!==e["class:list"]?e["class:list"]=[e["class:list"],r]:e.class=r);for(const[r,o]of Object.entries(e))n+=addAttribute(o,r,!0,t);return markHTMLString(n)}function defineStyleVars(e){let t="",r=Array.isArray(e)?e:[e];for(const e of r)for(const[r,n]of Object.entries(e))(n||0===n)&&(t+=`--${r}: ${n};`);return markHTMLString(t)}"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce(((e,t)=>(e[t.charCodeAt(0)]=t,e)),[]),"-0123456789_".split("").reduce(((e,t)=>(e[t.charCodeAt(0)]=t,e)),[]);const AstroJSX="astro:jsx",Empty=Symbol("empty"),toSlotName=e=>e;function isVNode(e){return e&&"object"==typeof e&&e[AstroJSX]}function transformSlots(e){if("string"==typeof e.type)return e;const t={};if(isVNode(e.props.children)){const r=e.props.children;if(!isVNode(r))return;if(!("slot"in r.props))return;const n=toSlotName(r.props.slot);t[n]=[r],t[n].$$slot=!0,delete r.props.slot,delete e.props.children}else Array.isArray(e.props.children)&&(e.props.children=e.props.children.map((e=>{if(!isVNode(e))return e;if(!("slot"in e.props))return e;const r=toSlotName(e.props.slot);return Array.isArray(t[r])?t[r].push(e):(t[r]=[e],t[r].$$slot=!0),delete e.props.slot,Empty})).filter((e=>e!==Empty)));Object.assign(e.props,t)}function markRawChildren(e){return"string"==typeof e?markHTMLString(e):Array.isArray(e)?e.map((e=>markRawChildren(e))):e}function transformSetDirectives(e){if("set:html"in e.props||"set:text"in e.props){if("set:html"in e.props){const t=markRawChildren(e.props["set:html"]);return delete e.props["set:html"],void Object.assign(e.props,{children:t})}if("set:text"in e.props){const t=e.props["set:text"];return delete e.props["set:text"],void Object.assign(e.props,{children:t})}}}function createVNode(e,t={},r){const n={[Renderer]:"astro:jsx",[AstroJSX]:!0,type:e,props:t};return transformSetDirectives(n),transformSlots(n),n}export{AstroError as A,NoImageMetadata as B,FailedToFetchRemoteImageDimensions as C,ExpectedImageOptions as D,ExpectedImage as E,ForbiddenRewrite as F,ExpectedNotESMImage as G,InvalidImageService as H,IncompatibleDescriptorOptions as I,ImageMissingAlt as J,ExperimentalFontsNotEnabled as K,LocalImageUsedWrongly as L,MissingImageDimension as M,NOOP_MIDDLEWARE_HEADER as N,FontFamilyNotFound as O,MissingSharp as P,RenderUndefinedEntryError as R,UnknownContentCollectionError as U,__astro_tag_component__ as _,renderTemplate as a,addAttribute as b,createComponent as c,createAstro as d,renderSlot as e,Fragment as f,renderUniqueStylesheet as g,renderScriptElement as h,createHeadAndContent as i,renderScript as j,defineScriptVars as k,defineStyleVars as l,maybeRenderHead as m,renderHead as n,originPathnameSymbol as o,renderJSX as p,createVNode as q,renderComponent as r,spreadAttributes as s,AstroJSX as t,unescapeHTML as u,AstroUserError as v,decodeKey as w,UnsupportedImageFormat as x,UnsupportedImageConversion as y,toStyleString as z};
const __vite__mapDeps=(t,e=__vite__mapDeps,n=e.f||(e.f=["X1wtVAogOOWgb6/DYMj-iqF.js","X1wtVAogOOWgb6/Bq1fMrfD.js","X1wtVAogOOWgb6/Ct-_TUOu.js","X1wtVAogOOWgb6/C7a9ZG1V.js","X1wtVAogOOWgb6/B_3cwFyS.js","X1wtVAogOOWgb6/pX-UiV6d.js","X1wtVAogOOWgb6/Cat91CNq.js","X1wtVAogOOWgb6/Di-IYUbH.js","X1wtVAogOOWgb6/L3iKq7wR.js","X1wtVAogOOWgb6/DJoO2p0P.js","X1wtVAogOOWgb6/y9moraqD.js","X1wtVAogOOWgb6/H1lITHM6.js","X1wtVAogOOWgb6/CE4ipk5a.css","X1wtVAogOOWgb6/DgIyxd-w.js"]))=>t.map((t=>n[t]));import{_ as t}from"./Cat91CNq.js";import{j as e}from"./Bq1fMrfD.js";import"./Di-IYUbH.js";import{d as n}from"./pX-UiV6d.js";import{c as s,g as i,R as React,r as o}from"./Ct-_TUOu.js";import{c as a}from"./L3iKq7wR.js";import{H as r,a as l,k as c,C as h,b as d,f as u,O as p,d as m,l as f,g,m as b,n as w,o as y,p as x,q as v,h as S,x as k,r as j,s as N,t as C,e as T,G as P,u as A,v as L,w as M,y as _,z as E,F as B,B as $,D,c as O,E as F,J as I,T as H,K as z,i as V,M as R,L as K}from"./C7a9ZG1V.js";import{c as W}from"./y9moraqD.js";import{d as G,e as U,f as q,g as Y,h as Z,r as X,i as Q,j as J,k as tt,l as et,m as nt,c as st,n as it,o as ot,p as at,L as rt,C as lt,T as ct,A as ht,K as dt}from"./H1lITHM6.js";var ut,pt,mt,ft,gt,bt,wt,yt,xt,vt,St,kt,jt,Nt,Ct,Tt,Pt,At,Lt,Mt,_t,Et,Bt,$t,Dt,Ot,Ft,It;function Ht(){return pt?ut:(pt=1,ut=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)})}function zt(){if(bt)return gt;bt=1;var t=function(){if(ft)return mt;ft=1;var t="object"==typeof s&&s&&s.Object===Object&&s;return mt=t}(),e="object"==typeof self&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return gt=n}function Vt(){if(Nt)return jt;Nt=1;var t=zt().Symbol;return jt=t}const Rt=i(function(){if(It)return Ft;It=1;var t=Ht(),e=function(){if(yt)return wt;yt=1;var t=zt();return wt=function(){return t.Date.now()}}(),n=function(){if(Ot)return Dt;Ot=1;var t=function(){if(kt)return St;kt=1;var t=function(){if(vt)return xt;vt=1;var t=/\s/;return xt=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}}(),e=/^\s+/;return St=function(n){return n?n.slice(0,t(n)+1).replace(e,""):n}}(),e=Ht(),n=function(){if($t)return Bt;$t=1;var t=function(){if(Mt)return Lt;Mt=1;var t=Vt(),e=function(){if(Tt)return Ct;Tt=1;var t=Vt(),e=Object.prototype,n=e.hasOwnProperty,s=e.toString,i=t?t.toStringTag:void 0;return Ct=function(t){var e=n.call(t,i),o=t[i];try{t[i]=void 0;var a=!0}catch(t){}var r=s.call(t);return a&&(e?t[i]=o:delete t[i]),r}}(),n=function(){if(At)return Pt;At=1;var t=Object.prototype.toString;return Pt=function(e){return t.call(e)}}(),s=t?t.toStringTag:void 0;return Lt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?e(t):n(t)}}(),e=Et?_t:(Et=1,_t=function(t){return null!=t&&"object"==typeof t});return Bt=function(n){return"symbol"==typeof n||e(n)&&"[object Symbol]"==t(n)}}(),s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;return Dt=function(r){if("number"==typeof r)return r;if(n(r))return NaN;if(e(r)){var l="function"==typeof r.valueOf?r.valueOf():r;r=e(l)?l+"":l}if("string"!=typeof r)return 0===r?r:+r;r=t(r);var c=i.test(r);return c||o.test(r)?a(r.slice(2),c?2:8):s.test(r)?NaN:+r}}(),s=Math.max,i=Math.min;return Ft=function(o,a,r){var l,c,h,d,u,p,m=0,f=!1,g=!1,b=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function w(t){var e=l,n=c;return l=c=void 0,m=t,d=o.apply(n,e)}function y(t){var e=t-p;return void 0===p||e>=a||e<0||g&&t-m>=h}function x(){var t=e();if(y(t))return v(t);u=setTimeout(x,function(t){var e=a-(t-p);return g?i(e,h-(t-m)):e}(t))}function v(t){return u=void 0,b&&l?w(t):(l=c=void 0,d)}function S(){var t=e(),n=y(t);if(l=arguments,c=this,p=t,n){if(void 0===u)return function(t){return m=t,u=setTimeout(x,a),f?w(t):d}(p);if(g)return clearTimeout(u),u=setTimeout(x,a),w(p)}return void 0===u&&(u=setTimeout(x,a)),d}return a=n(a)||0,t(r)&&(f=!!r.leading,h=(g="maxWait"in r)?s(n(r.maxWait)||0,a):h,b="trailing"in r?!!r.trailing:b),S.cancel=function(){void 0!==u&&clearTimeout(u),m=0,l=p=c=u=void 0},S.flush=function(){return void 0===u?d:v(e())},S}}());function Kt(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Wt(t,e){return t.get(Kt(t,e))}const Gt={},Ut="swal2-",qt=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce(((t,e)=>(t[e]=Ut+e,t)),{}),Yt=["success","warning","info","question","error"].reduce(((t,e)=>(t[e]=Ut+e,t)),{}),Zt=t=>t.charAt(0).toUpperCase()+t.slice(1),Xt=[],Qt=(t,e=null)=>{(t=>{Xt.includes(t)||Xt.push(t)})(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Jt=t=>"function"==typeof t?t():t,te=t=>t&&"function"==typeof t.toPromise,ee=t=>te(t)?t.toPromise():Promise.resolve(t),ne=t=>t&&Promise.resolve(t)===t,se=()=>document.body.querySelector(`.${qt.container}`),ie=t=>{const e=se();return e?e.querySelector(t):null},oe=t=>ie(`.${t}`),ae=()=>oe(qt.popup),re=()=>oe(qt.icon),le=()=>oe(qt.title),ce=()=>oe(qt["html-container"]),he=()=>oe(qt.image),de=()=>oe(qt["progress-steps"]),ue=()=>oe(qt["validation-message"]),pe=()=>ie(`.${qt.actions} .${qt.confirm}`),me=()=>ie(`.${qt.actions} .${qt.cancel}`),fe=()=>ie(`.${qt.actions} .${qt.deny}`),ge=()=>ie(`.${qt.loader}`),be=()=>oe(qt.actions),we=()=>oe(qt.footer),ye=()=>oe(qt["timer-progress-bar"]),xe=()=>oe(qt.close),ve=()=>{const t=ae();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort(((t,e)=>{const n=parseInt(t.getAttribute("tabindex")||"0"),s=parseInt(e.getAttribute("tabindex")||"0");return n>s?1:n<s?-1:0})),s=t.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),i=Array.from(s).filter((t=>"-1"!==t.getAttribute("tabindex")));return[...new Set(n.concat(i))].filter((t=>Ie(t)))},Se=()=>Ne(document.body,qt.shown)&&!Ne(document.body,qt["toast-shown"])&&!Ne(document.body,qt["no-backdrop"]),ke=()=>{const t=ae();return!!t&&Ne(t,qt.toast)},je=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html"),s=n.querySelector("head");s&&Array.from(s.childNodes).forEach((e=>{t.appendChild(e)}));const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach((e=>{e instanceof HTMLVideoElement||e instanceof HTMLAudioElement?t.appendChild(e.cloneNode(!0)):t.appendChild(e)}))}},Ne=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let e=0;e<n.length;e++)if(!t.classList.contains(n[e]))return!1;return!0},Ce=(t,e,n)=>{if(((t,e)=>{Array.from(t.classList).forEach((n=>{Object.values(qt).includes(n)||Object.values(Yt).includes(n)||Object.values(e.showClass||{}).includes(n)||t.classList.remove(n)}))})(t,e),!e.customClass)return;const s=e.customClass[n];s&&("string"==typeof s||s.forEach)&&Le(t,s)},Te=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${qt.popup} > .${qt[e]}`);case"checkbox":return t.querySelector(`.${qt.popup} > .${qt.checkbox} input`);case"radio":return t.querySelector(`.${qt.popup} > .${qt.radio} input:checked`)||t.querySelector(`.${qt.popup} > .${qt.radio} input:first-child`);case"range":return t.querySelector(`.${qt.popup} > .${qt.range} input`);default:return t.querySelector(`.${qt.popup} > .${qt.input}`)}},Pe=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},Ae=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((e=>{Array.isArray(t)?t.forEach((t=>{n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},Le=(t,e)=>{Ae(t,e,!0)},Me=(t,e)=>{Ae(t,e,!1)},_e=(t,e)=>{const n=Array.from(t.children);for(let t=0;t<n.length;t++){const s=n[t];if(s instanceof HTMLElement&&Ne(s,e))return s}},Ee=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?t.style.setProperty(e,"number"==typeof n?`${n}px`:n):t.style.removeProperty(e)},Be=(t,e="flex")=>{t&&(t.style.display=e)},$e=t=>{t&&(t.style.display="none")},De=(t,e="block")=>{t&&new MutationObserver((()=>{Fe(t,t.innerHTML,e)})).observe(t,{childList:!0,subtree:!0})},Oe=(t,e,n,s)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,s)},Fe=(t,e,n="flex")=>{e?Be(t,n):$e(t)},Ie=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),He=t=>!!(t.scrollHeight>t.clientHeight),ze=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||s>0},Ve=(t,e=!1)=>{const n=ye();n&&Ie(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"}),10))},Re=`\n <div aria-labelledby="${qt.title}" aria-describedby="${qt["html-container"]}" class="${qt.popup}" tabindex="-1">\n   <button type="button" class="${qt.close}"></button>\n   <ul class="${qt["progress-steps"]}"></ul>\n   <div class="${qt.icon}"></div>\n   <img class="${qt.image}" />\n   <h2 class="${qt.title}" id="${qt.title}"></h2>\n   <div class="${qt["html-container"]}" id="${qt["html-container"]}"></div>\n   <input class="${qt.input}" id="${qt.input}" />\n   <input type="file" class="${qt.file}" />\n   <div class="${qt.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${qt.select}" id="${qt.select}"></select>\n   <div class="${qt.radio}"></div>\n   <label class="${qt.checkbox}">\n     <input type="checkbox" id="${qt.checkbox}" />\n     <span class="${qt.label}"></span>\n   </label>\n   <textarea class="${qt.textarea}" id="${qt.textarea}"></textarea>\n   <div class="${qt["validation-message"]}" id="${qt["validation-message"]}"></div>\n   <div class="${qt.actions}">\n     <div class="${qt.loader}"></div>\n     <button type="button" class="${qt.confirm}"></button>\n     <button type="button" class="${qt.deny}"></button>\n     <button type="button" class="${qt.cancel}"></button>\n   </div>\n   <div class="${qt.footer}"></div>\n   <div class="${qt["timer-progress-bar-container"]}">\n     <div class="${qt["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Ke=()=>{Gt.currentInstance.resetValidationMessage()},We=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?Ge(t,e):t&&je(e,t)},Ge=(t,e)=>{t.jquery?Ue(e,t):je(e,t.toString())},Ue=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))};function qe(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Ye(t,e,n){const s=Zt(e);Fe(t,n[`show${s}Button`],"inline-block"),je(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=qt[e],Ce(t,n,`${e}Button`)}var Ze={innerParams:new WeakMap,domCache:new WeakMap};const Xe=["input","file","range","select","radio","checkbox","textarea"],Qe=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Je=(t,e,n)=>{if(n.inputLabel){const s=document.createElement("label"),i=qt["input-label"];s.setAttribute("for",t.id),s.className=i,"object"==typeof n.customClass&&Le(s,n.customClass.inputLabel),s.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",s)}},tn=t=>{const e=ae();if(e)return _e(e,qt[t]||qt.input)},en=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:ne(e)},nn={};nn.text=nn.email=nn.password=nn.number=nn.tel=nn.url=nn.search=nn.date=nn["datetime-local"]=nn.time=nn.week=nn.month=(t,e)=>(en(t,e.inputValue),Je(t,t,e),Qe(t,e),t.type=e.input,t),nn.file=(t,e)=>(Je(t,t,e),Qe(t,e),t),nn.range=(t,e)=>{const n=t.querySelector("input"),s=t.querySelector("output");return en(n,e.inputValue),n.type=e.input,en(s,e.inputValue),Je(n,t,e),t},nn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");je(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Je(t,t,e),t},nn.radio=t=>(t.textContent="",t),nn.checkbox=(t,e)=>{const n=Te(ae(),"checkbox");n.value="1",n.checked=Boolean(e.inputValue);const s=t.querySelector("span");return je(s,e.inputPlaceholder||e.inputLabel),n},nn.textarea=(t,e)=>(en(t,e.inputValue),Qe(t,e),Je(t,t,e),setTimeout((()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(ae()).width);new MutationObserver((()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+(t=>parseInt(window.getComputedStyle(t).marginLeft)+parseInt(window.getComputedStyle(t).marginRight))(t);s>n?ae().style.width=`${s}px`:Ee(ae(),"width",e.width)})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t);const sn=(t,e)=>{for(const[n,s]of Object.entries(Yt))e.icon!==n&&Me(t,s);Le(t,e.icon&&Yt[e.icon]),rn(t,e),on(),Ce(t,e,"icon")},on=()=>{const t=ae();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let t=0;t<n.length;t++)n[t].style.backgroundColor=e},an=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,s="";e.iconHtml?s=ln(e.iconHtml):"success"===e.icon?(s='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',n=n.replace(/ style=".*?"/g,"")):"error"===e.icon?s='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':e.icon&&(s=ln({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==s.trim()&&je(t,s)},rn=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Oe(t,n,"background-color",e.iconColor);Oe(t,".swal2-success-ring","border-color",e.iconColor)}},ln=t=>`<div class="${qt["icon-content"]}">${t}</div>`;let cn=!1,hn=0,dn=0,un=0,pn=0;const mn=t=>{const e=ae();if(t.target===e||re().contains(t.target)){cn=!0;const n=bn(t);hn=n.clientX,dn=n.clientY,un=parseInt(e.style.insetInlineStart)||0,pn=parseInt(e.style.insetBlockStart)||0,Le(e,"swal2-dragging")}},fn=t=>{const e=ae();if(cn){let{clientX:n,clientY:s}=bn(t);e.style.insetInlineStart=`${un+(n-hn)}px`,e.style.insetBlockStart=`${pn+(s-dn)}px`}},gn=()=>{const t=ae();cn=!1,Me(t,"swal2-dragging")},bn=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},wn=(t,e)=>{((t,e)=>{const n=se(),s=ae();if(n&&s){if(e.toast){Ee(n,"width",e.width),s.style.width="100%";const t=ge();t&&s.insertBefore(t,re())}else Ee(s,"width",e.width);Ee(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),$e(ue()),((t,e)=>{const n=e.showClass||{};t.className=`${qt.popup} ${Ie(t)?n.popup:""}`,e.toast?(Le([document.documentElement,document.body],qt["toast-shown"]),Le(t,qt.toast)):Le(t,qt.modal),Ce(t,e,"popup"),"string"==typeof e.customClass&&Le(t,e.customClass),e.icon&&Le(t,qt[`icon-${e.icon}`])})(s,e),e.draggable&&!e.toast?(Le(s,qt.draggable),(t=>{t.addEventListener("mousedown",mn),document.body.addEventListener("mousemove",fn),t.addEventListener("mouseup",gn),t.addEventListener("touchstart",mn),document.body.addEventListener("touchmove",fn),t.addEventListener("touchend",gn)})(s)):(Me(s,qt.draggable),(t=>{t.removeEventListener("mousedown",mn),document.body.removeEventListener("mousemove",fn),t.removeEventListener("mouseup",gn),t.removeEventListener("touchstart",mn),document.body.removeEventListener("touchmove",fn),t.removeEventListener("touchend",gn)})(s))}})(0,e),((t,e)=>{const n=se();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||Le([document.documentElement,document.body],qt["no-backdrop"])}(n,e.backdrop),function(t,e){e&&Le(t,e in qt?qt[e]:qt.center)}(n,e.position),function(t,e){e&&Le(t,qt[`grow-${e}`])}(n,e.grow),Ce(n,e,"container"))})(0,e),((t,e)=>{const n=de();if(!n)return;const{progressSteps:s,currentProgressStep:i}=e;s&&0!==s.length&&void 0!==i?(Be(n),n.textContent="",s.length,s.forEach(((t,o)=>{const a=(t=>{const e=document.createElement("li");return Le(e,qt["progress-step"]),je(e,t),e})(t);if(n.appendChild(a),o===i&&Le(a,qt["active-progress-step"]),o!==s.length-1){const t=(t=>{const e=document.createElement("li");return Le(e,qt["progress-step-line"]),t.progressStepsDistance&&Ee(e,"width",t.progressStepsDistance),e})(e);n.appendChild(t)}}))):$e(n)})(0,e),((t,e)=>{const n=Ze.innerParams.get(t),s=re();if(s){if(n&&e.icon===n.icon)return an(s,e),void sn(s,e);if(e.icon||e.iconHtml)return e.icon&&-1===Object.keys(Yt).indexOf(e.icon)?(e.icon,void $e(s)):(Be(s),an(s,e),sn(s,e),Le(s,e.showClass&&e.showClass.icon),void window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",on));$e(s)}})(t,e),((t,e)=>{const n=he();n&&(e.imageUrl?(Be(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Ee(n,"width",e.imageWidth),Ee(n,"height",e.imageHeight),n.className=qt.image,Ce(n,e,"image")):$e(n))})(0,e),((t,e)=>{const n=le();n&&(De(n),Fe(n,e.title||e.titleText,"block"),e.title&&We(e.title,n),e.titleText&&(n.innerText=e.titleText),Ce(n,e,"title"))})(0,e),((t,e)=>{const n=xe();n&&(je(n,e.closeButtonHtml||""),Ce(n,e,"closeButton"),Fe(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))})(0,e),((t,e)=>{const n=ce();n&&(De(n),Ce(n,e,"htmlContainer"),e.html?(We(e.html,n),Be(n,"block")):e.text?(n.textContent=e.text,Be(n,"block")):$e(n),((t,e)=>{const n=ae();if(!n)return;const s=Ze.innerParams.get(t),i=!s||e.input!==s.input;Xe.forEach((t=>{const s=_e(n,qt[t]);s&&(((t,e)=>{const n=ae();if(!n)return;const s=Te(n,t);if(s){(t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}})(s);for(const t in e)s.setAttribute(t,e[t])}})(t,e.inputAttributes),s.className=qt[t],i&&$e(s))})),e.input&&(i&&(t=>{if(!t.input)return;if(!nn[t.input])return Object.keys(nn).join(" | "),void t.input;const e=tn(t.input);if(!e)return;const n=nn[t.input](e,t);Be(e),t.inputAutoFocus&&setTimeout((()=>{Pe(n)}))})(e),(t=>{if(!t.input)return;const e=tn(t.input);e&&Ce(e,t,"input")})(e))})(t,e))})(t,e),((t,e)=>{const n=be(),s=ge();n&&s&&(e.showConfirmButton||e.showDenyButton||e.showCancelButton?Be(n):$e(n),Ce(n,e,"actions"),function(t,e,n){const s=pe(),i=fe(),o=me();s&&i&&o&&(Ye(s,"confirm",n),Ye(i,"deny",n),Ye(o,"cancel",n),function(t,e,n,s){s.buttonsStyling?(Le([t,e,n],qt.styled),s.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),qe(t),qe(e),qe(n)):Me([t,e,n],qt.styled)}(s,i,o,n),n.reverseButtons&&(n.toast?(t.insertBefore(o,s),t.insertBefore(i,s)):(t.insertBefore(o,e),t.insertBefore(i,e),t.insertBefore(s,e))))}(n,s,e),je(s,e.loaderHtml||""),Ce(s,e,"loader"))})(0,e),((t,e)=>{const n=we();n&&(De(n),Fe(n,e.footer,"block"),e.footer&&We(e.footer,n),Ce(n,e,"footer"))})(0,e);const n=ae();"function"==typeof e.didRender&&n&&e.didRender(n),Gt.eventEmitter.emit("didRender",n)},yn=()=>{var t;return null===(t=pe())||void 0===t?void 0:t.click()},xn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),vn=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Sn=(t,e)=>{var n;const s=ve();if(s.length)return-2===(t+=e)&&(t=s.length-1),t===s.length?t=0:-1===t&&(t=s.length-1),void s[t].focus();null===(n=ae())||void 0===n||n.focus()},kn=["ArrowRight","ArrowDown"],jn=["ArrowLeft","ArrowUp"];var Nn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Cn=()=>{Array.from(document.body.children).forEach((t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},Tn="undefined"!=typeof window&&!!window.GestureEvent,Pn=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,An=t=>t.touches&&t.touches.length>1;let Ln=null;function Mn(t,e,n,s){ke()?In(t,s):((t=>new Promise((e=>{if(!t)return e();const n=window.scrollX,s=window.scrollY;Gt.restoreFocusTimeout=setTimeout((()=>{Gt.previousActiveElement instanceof HTMLElement?(Gt.previousActiveElement.focus(),Gt.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),window.scrollTo(n,s)})))(n).then((()=>In(t,s))),vn(Gt)),Tn?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Se()&&(null!==Ln&&(document.body.style.paddingRight=`${Ln}px`,Ln=null),(()=>{if(Ne(document.body,qt.iosfix)){const t=parseInt(document.body.style.top,10);Me(document.body,qt.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}})(),Cn()),Me([document.documentElement,document.body],[qt.shown,qt["height-auto"],qt["no-backdrop"],qt["toast-shown"]])}function _n(t){t=Dn(t);const e=Nn.swalPromiseResolve.get(this),n=En(this);this.isAwaitingPromise?t.isDismissed||($n(this),e(t)):n&&e(t)}const En=t=>{const e=ae();if(!e)return!1;const n=Ze.innerParams.get(t);if(!n||Ne(e,n.hideClass.popup))return!1;Me(e,n.showClass.popup),Le(e,n.hideClass.popup);const s=se();return Me(s,n.showClass.backdrop),Le(s,n.hideClass.backdrop),On(t,e,n),!0};function Bn(t){const e=Nn.swalPromiseReject.get(this);$n(this),e&&e(t)}const $n=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ze.innerParams.get(t)||t._destroy())},Dn=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),On=(t,e,n)=>{var s;const i=se(),o=ze(e);"function"==typeof n.willClose&&n.willClose(e),null===(s=Gt.eventEmitter)||void 0===s||s.emit("willClose",e),o?Fn(t,e,i,n.returnFocus,n.didClose):Mn(t,i,n.returnFocus,n.didClose)},Fn=(t,e,n,s,i)=>{Gt.swalCloseEventFinishedCallback=Mn.bind(null,t,n,s,i);const o=function(t){var n;t.target===e&&(null===(n=Gt.swalCloseEventFinishedCallback)||void 0===n||n.call(Gt),delete Gt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o))};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},In=(t,e)=>{setTimeout((()=>{var n;"function"==typeof e&&e.bind(t.params)(),null===(n=Gt.eventEmitter)||void 0===n||n.emit("didClose"),t._destroy&&t._destroy()}))},Hn=t=>{let e=ae();if(e||new Ys,e=ae(),!e)return;const n=ge();ke()?$e(re()):zn(e,t),Be(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},zn=(t,e)=>{const n=be(),s=ge();n&&s&&(!e&&Ie(pe())&&(e=pe()),Be(n),e&&($e(e),s.setAttribute("data-button-to-replace",e.className),n.insertBefore(s,e)),Le([t,n],qt.loading))},Vn=t=>{const e=[];return t instanceof Map?t.forEach(((t,n)=>{let s=t;"object"==typeof s&&(s=Vn(s)),e.push([n,s])})):Object.keys(t).forEach((n=>{let s=t[n];"object"==typeof s&&(s=Vn(s)),e.push([n,s])})),e},Rn=(t,e)=>!!e&&e.toString()===t.toString(),Kn=(t,e)=>{const n=Ze.innerParams.get(t);if(!n.input)return void Zt(e);const s=t.getInput(),i=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return(t=>t.checked?1:0)(n);case"radio":return(t=>t.checked?t.value:null)(n);case"file":return(t=>t.files&&t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null)(n);default:return e.inputAutoTrim?n.value.trim():n.value}})(t,n);n.inputValidator?Wn(t,i,e):s&&!s.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||s.validationMessage)):"deny"===e?Gn(t,i):Yn(t,i)},Wn=(t,e,n)=>{const s=Ze.innerParams.get(t);t.disableInput(),Promise.resolve().then((()=>ee(s.inputValidator(e,s.validationMessage)))).then((s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):"deny"===n?Gn(t,e):Yn(t,e)}))},Gn=(t,e)=>{const n=Ze.innerParams.get(t||void 0);n.showLoaderOnDeny&&Hn(fe()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then((()=>ee(n.preDeny(e,n.validationMessage)))).then((n=>{!1===n?(t.hideLoading(),$n(t)):t.close({isDenied:!0,value:void 0===n?e:n})})).catch((e=>qn(t||void 0,e)))):t.close({isDenied:!0,value:e})},Un=(t,e)=>{t.close({isConfirmed:!0,value:e})},qn=(t,e)=>{t.rejectPromise(e)},Yn=(t,e)=>{const n=Ze.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Hn(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then((()=>ee(n.preConfirm(e,n.validationMessage)))).then((n=>{Ie(ue())||!1===n?(t.hideLoading(),$n(t)):Un(t,void 0===n?e:n)})).catch((e=>qn(t||void 0,e)))):Un(t,e)};function Zn(){const t=Ze.innerParams.get(this);if(!t)return;const e=Ze.domCache.get(this);$e(e.loader),ke()?t.icon&&Be(re()):Xn(e),Me([e.popup,e.actions],qt.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Xn=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Be(e[0],"inline-block"):Ie(pe())||Ie(fe())||Ie(me())||$e(t.actions)};function Qn(){const t=Ze.innerParams.get(this),e=Ze.domCache.get(this);return e?Te(e.popup,t.input):null}function Jn(t,e,n){const s=Ze.domCache.get(t);e.forEach((t=>{s[t].disabled=n}))}function ts(t,e){const n=ae();if(n&&t)if("radio"===t.type){const t=n.querySelectorAll(`[name="${qt.radio}"]`);for(let n=0;n<t.length;n++)t[n].disabled=e}else t.disabled=e}function es(){Jn(this,["confirmButton","denyButton","cancelButton"],!1)}function ns(){Jn(this,["confirmButton","denyButton","cancelButton"],!0)}function ss(){ts(this.getInput(),!1)}function is(){ts(this.getInput(),!0)}function os(t){const e=Ze.domCache.get(this),n=Ze.innerParams.get(this);je(e.validationMessage,t),e.validationMessage.className=qt["validation-message"],n.customClass&&n.customClass.validationMessage&&Le(e.validationMessage,n.customClass.validationMessage),Be(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",qt["validation-message"]),Pe(s),Le(s,qt.inputerror))}function as(){const t=Ze.domCache.get(this);t.validationMessage&&$e(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Me(e,qt.inputerror))}const rs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},ls=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],cs={allowEnterKey:void 0},hs=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ds=t=>Object.prototype.hasOwnProperty.call(rs,t),us=t=>-1!==ls.indexOf(t),ps=t=>cs[t],ms=t=>{ds(t)},fs=t=>{hs.includes(t)},gs=t=>{const e=ps(t);e&&Qt(t,e)},bs=t=>{!1===t.backdrop&&t.allowOutsideClick,t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&t.theme;for(const e in t)ms(e),t.toast&&fs(e),gs(e)};function ws(t){const e=se(),n=ae(),s=Ze.innerParams.get(this);if(!n||Ne(n,s.hideClass.popup))return;const i=ys(t),o=Object.assign({},s,i);bs(o),e.dataset.swal2Theme=o.theme,wn(this,o),Ze.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const ys=t=>{const e={};return Object.keys(t).forEach((n=>{us(n)&&(e[n]=t[n])})),e};function xs(){const t=Ze.domCache.get(this),e=Ze.innerParams.get(this);e?(t.popup&&Gt.swalCloseEventFinishedCallback&&(Gt.swalCloseEventFinishedCallback(),delete Gt.swalCloseEventFinishedCallback),"function"==typeof e.didDestroy&&e.didDestroy(),Gt.eventEmitter.emit("didDestroy"),vs(this)):Ss(this)}const vs=t=>{Ss(t),delete t.params,delete Gt.keydownHandler,delete Gt.keydownTarget,delete Gt.currentInstance},Ss=t=>{t.isAwaitingPromise?(ks(Ze,t),t.isAwaitingPromise=!0):(ks(Nn,t),ks(Ze,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ks=(t,e)=>{for(const n in t)t[n].delete(e)};var js=Object.freeze({__proto__:null,_destroy:xs,close:_n,closeModal:_n,closePopup:_n,closeToast:_n,disableButtons:ns,disableInput:is,disableLoading:Zn,enableButtons:es,enableInput:ss,getInput:Qn,handleAwaitingPromise:$n,hideLoading:Zn,rejectPromise:Bn,resetValidationMessage:as,showValidationMessage:os,update:ws});let Ns=!1;const Cs=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t),Ts=()=>{if(Gt.timeout)return(()=>{const t=ye();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.width=`${n}%`})(),Gt.timeout.stop()},Ps=()=>{if(Gt.timeout){const t=Gt.timeout.start();return Ve(t),t}};let As=!1;const Ls={},Ms=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in Ls){const n=e.getAttribute(t);if(n)return void Ls[t].fire({template:n})}};Gt.eventEmitter=new class{constructor(){this.events={}}_getHandlersByEventName(t){return void 0===this.events[t]&&(this.events[t]=[]),this.events[t]}on(t,e){const n=this._getHandlersByEventName(t);n.includes(e)||n.push(e)}once(t,e){const n=(...s)=>{this.removeListener(t,n),e.apply(this,s)};this.on(t,n)}emit(t,...e){this._getHandlersByEventName(t).forEach((t=>{try{t.apply(this,e)}catch(t){}}))}removeListener(t,e){const n=this._getHandlersByEventName(t),s=n.indexOf(e);s>-1&&n.splice(s,1)}removeAllListeners(t){void 0!==this.events[t]&&(this.events[t].length=0)}reset(){this.events={}}};var _s=Object.freeze({__proto__:null,argsToParams:t=>{const e={};return"object"!=typeof t[0]||Cs(t[0])?["title","html","icon"].forEach(((n,s)=>{const i=t[s];("string"==typeof i||Cs(i))&&(e[n]=i)})):Object.assign(e,t[0]),e},bindClickHandler:function(t="data-swal-template"){Ls[t]=this,As||(document.body.addEventListener("click",Ms),As=!0)},clickCancel:()=>{var t;return null===(t=me())||void 0===t?void 0:t.click()},clickConfirm:yn,clickDeny:()=>{var t;return null===(t=fe())||void 0===t?void 0:t.click()},enableLoading:Hn,fire:function(...t){return new this(...t)},getActions:be,getCancelButton:me,getCloseButton:xe,getConfirmButton:pe,getContainer:se,getDenyButton:fe,getFocusableElements:ve,getFooter:we,getHtmlContainer:ce,getIcon:re,getIconContent:()=>oe(qt["icon-content"]),getImage:he,getInputLabel:()=>oe(qt["input-label"]),getLoader:ge,getPopup:ae,getProgressSteps:de,getTimerLeft:()=>Gt.timeout&&Gt.timeout.getTimerLeft(),getTimerProgressBar:ye,getTitle:le,getValidationMessage:ue,increaseTimer:t=>{if(Gt.timeout){const e=Gt.timeout.increase(t);return Ve(e,!0),e}},isDeprecatedParameter:ps,isLoading:()=>{const t=ae();return!!t&&t.hasAttribute("data-loading")},isTimerRunning:()=>!(!Gt.timeout||!Gt.timeout.isRunning()),isUpdatableParameter:us,isValidParameter:ds,isVisible:()=>Ie(ae()),mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},off:(t,e)=>{t?e?Gt.eventEmitter.removeListener(t,e):Gt.eventEmitter.removeAllListeners(t):Gt.eventEmitter.reset()},on:(t,e)=>{Gt.eventEmitter.on(t,e)},once:(t,e)=>{Gt.eventEmitter.once(t,e)},resumeTimer:Ps,showLoading:Hn,stopTimer:Ts,toggleTimer:()=>{const t=Gt.timeout;return t&&(t.running?Ts():Ps())}});class Timer{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Es=["swal-title","swal-html","swal-footer"],Bs=(t,e)=>{Array.from(t.attributes).forEach((n=>{-1===e.indexOf(n.name)&&(n.name,t.tagName.toLowerCase(),e.length&&e.join(", "))}))},$s=t=>{const e=ae();if(t.target!==e)return;const n=se();e.removeEventListener("animationend",$s),e.removeEventListener("transitionend",$s),n.style.overflowY="auto"},Ds=(t,e,n)=>{(()=>{if(Tn&&!Ne(document.body,qt.iosfix)){const t=document.body.scrollTop;document.body.style.top=-1*t+"px",Le(document.body,qt.iosfix),(()=>{const t=se();if(!t)return;let e;t.ontouchstart=t=>{e=(t=>{const e=t.target,n=se(),s=ce();return!(!n||!s||Pn(t)||An(t)||e!==n&&(He(n)||!(e instanceof HTMLElement)||((t,e)=>{let n=t;for(;n&&n!==e;){if(He(n))return!0;n=n.parentElement}return!1})(e,s)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||He(s)&&s.contains(e)))})(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}})()}})(),e&&"hidden"!==n&&(t=>{null===Ln&&(document.body.scrollHeight>window.innerHeight||"scroll"===t)&&(Ln=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ln+(()=>{const t=document.createElement("div");t.className=qt["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})()}px`)})(n),setTimeout((()=>{t.scrollTop=0}))};var Os=(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),Fs=(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL");let Is;var Hs=new WeakMap;class SweetAlert{constructor(...t){if(function(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,void 0)}(this,Hs),"undefined"==typeof window)return;Is=this;const e=Object.freeze(this.constructor.argsToParams(t));this.params=e,this.isAwaitingPromise=!1,function(t,e,n){t.set(Kt(t,e),n)}(Hs,this,this._main(Is.params))}_main(t,e={}){if(bs(Object.assign({},e,t)),Gt.currentInstance){const t=Nn.swalPromiseResolve.get(Gt.currentInstance),{isAwaitingPromise:e}=Gt.currentInstance;Gt.currentInstance._destroy(),e||t({isDismissed:!0}),Se()&&Cn()}Gt.currentInstance=Is;const n=Vs(t,e);(function(t){!function(t){t.inputValidator||("email"===t.input&&(t.inputValidator=Os),"url"===t.input&&(t.inputValidator=Fs))}(t),t.showLoaderOnConfirm&&t.preConfirm,function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),(t=>{const e=(()=>{const t=se();return!!t&&(t.remove(),Me([document.documentElement,document.body],[qt["no-backdrop"],qt["toast-shown"],qt["has-column"]]),!0)})();if("undefined"==typeof window||"undefined"==typeof document)return;const n=document.createElement("div");n.className=qt.container,e&&Le(n,qt["no-transition"]),je(n,Re),n.dataset.swal2Theme=t.theme;const s=(t=>"string"==typeof t?document.querySelector(t):t)(t.target);s.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),(t=>{const e=ae();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),(t=>{"rtl"===window.getComputedStyle(t).direction&&Le(se(),qt.rtl)})(s),(()=>{const t=ae(),e=_e(t,qt.input),n=_e(t,qt.file),s=t.querySelector(`.${qt.range} input`),i=t.querySelector(`.${qt.range} output`),o=_e(t,qt.select),a=t.querySelector(`.${qt.checkbox} input`),r=_e(t,qt.textarea);e.oninput=Ke,n.onchange=Ke,o.onchange=Ke,a.onchange=Ke,r.oninput=Ke,s.oninput=()=>{Ke(),i.value=s.value},s.onchange=()=>{Ke(),i.value=s.value}})()})(t)})(n),Object.freeze(n),Gt.timeout&&(Gt.timeout.stop(),delete Gt.timeout),clearTimeout(Gt.restoreFocusTimeout);const s=Rs(Is);return wn(Is,n),Ze.innerParams.set(Is,n),zs(Is,s,n)}then(t){return Wt(Hs,this).then(t)}finally(t){return Wt(Hs,this).finally(t)}}const zs=(t,e,n)=>new Promise(((s,i)=>{const o=e=>{t.close({isDismissed:!0,dismiss:e})};Nn.swalPromiseResolve.set(t,s),Nn.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{(t=>{const e=Ze.innerParams.get(t);t.disableButtons(),e.input?Kn(t,"confirm"):Yn(t,!0)})(t)},e.denyButton.onclick=()=>{(t=>{const e=Ze.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Kn(t,"deny"):Gn(t,!1)})(t)},e.cancelButton.onclick=()=>{((t,e)=>{t.disableButtons(),e(xn.cancel)})(t,o)},e.closeButton.onclick=()=>{o(xn.close)},((t,e,n)=>{t.toast?((t,e,n)=>{e.popup.onclick=()=>{t&&((t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton))(t)||t.timer||t.input)||n(xn.close)}})(t,e,n):((t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Ns=!0)}}})(e),(t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(e){t.popup.onmouseup=()=>{},(e.target===t.popup||e.target instanceof HTMLElement&&t.popup.contains(e.target))&&(Ns=!0)}}})(e),((t,e,n)=>{e.container.onclick=s=>{Ns?Ns=!1:s.target===e.container&&Jt(t.allowOutsideClick)&&n(xn.backdrop)}})(t,e,n))})(n,e,o),((t,e,n)=>{vn(t),e.toast||(t.keydownHandler=t=>((t,e,n)=>{t&&(e.isComposing||229===e.keyCode||(t.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?((t,e)=>{if(!Jt(e.allowEnterKey))return;const n=Te(ae(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;yn(),t.preventDefault()}})(e,t):"Tab"===e.key?(t=>{const e=t.target,n=ve();let s=-1;for(let t=0;t<n.length;t++)if(e===n[t]){s=t;break}t.shiftKey?Sn(s,-1):Sn(s,1),t.stopPropagation(),t.preventDefault()})(e):[...kn,...jn].includes(e.key)?(t=>{const e=be(),n=pe(),s=fe(),i=me();if(!(e&&n&&s&&i))return;const o=[n,s,i];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const a=kn.includes(t)?"nextElementSibling":"previousElementSibling";let r=document.activeElement;if(r){for(let t=0;t<e.children.length;t++){if(r=r[a],!r)return;if(r instanceof HTMLButtonElement&&Ie(r))break}r instanceof HTMLButtonElement&&r.focus()}})(e.key):"Escape"===e.key&&((t,e,n)=>{Jt(e.allowEscapeKey)&&(t.preventDefault(),n(xn.esc))})(e,t,n)))})(e,t,n),t.keydownTarget=e.keydownListenerCapture?window:ae(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(Gt,n,o),((t,e)=>{"select"===e.input||"radio"===e.input?((t,e)=>{const n=ae();if(!n)return;const s=t=>{"select"===e.input?function(t,e,n){const s=_e(t,qt.select);if(!s)return;const i=(t,e,s)=>{const i=document.createElement("option");i.value=s,je(i,e),i.selected=Rn(s,n.inputValue),t.appendChild(i)};e.forEach((t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,s.appendChild(t),n.forEach((e=>i(t,e[1],e[0])))}else i(s,n,e)})),s.focus()}(n,Vn(t),e):"radio"===e.input&&function(t,e,n){const s=_e(t,qt.radio);if(!s)return;e.forEach((t=>{const e=t[0],i=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=qt.radio,o.value=e,Rn(e,n.inputValue)&&(o.checked=!0);const r=document.createElement("span");je(r,i),r.className=qt.label,a.appendChild(o),a.appendChild(r),s.appendChild(a)}));const i=s.querySelectorAll("input");i.length&&i[0].focus()}(n,Vn(t),e)};te(e.inputOptions)||ne(e.inputOptions)?(Hn(pe()),ee(e.inputOptions).then((e=>{t.hideLoading(),s(e)}))):"object"==typeof e.inputOptions?s(e.inputOptions):e.inputOptions})(t,e):["text","email","number","tel","textarea"].some((t=>t===e.input))&&(te(e.inputValue)||ne(e.inputValue))&&(Hn(pe()),((t,e)=>{const n=t.getInput();n&&($e(n),ee(e.inputValue).then((s=>{n.value="number"===e.input?`${parseFloat(s)||0}`:`${s}`,Be(n),n.focus(),t.hideLoading()})).catch((e=>{n.value="",Be(n),n.focus(),t.hideLoading()})))})(t,e))})(t,n),(t=>{const e=se(),n=ae();"function"==typeof t.willOpen&&t.willOpen(n),Gt.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;((t,e,n)=>{Le(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Be(e,"grid"),setTimeout((()=>{Le(e,n.showClass.popup),e.style.removeProperty("opacity")}),10)):Be(e,"grid"),Le([document.documentElement,document.body],qt.shown),n.heightAuto&&n.backdrop&&!n.toast&&Le([document.documentElement,document.body],qt["height-auto"])})(e,n,t),setTimeout((()=>{((t,e)=>{ze(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",$s),e.addEventListener("transitionend",$s)):t.style.overflowY="auto"})(e,n)}),10),Se()&&(Ds(e,t.scrollbarPadding,s),(()=>{const t=se();Array.from(document.body.children).forEach((e=>{e.contains(t)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))}))})()),ke()||Gt.previousActiveElement||(Gt.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout((()=>t.didOpen(n))),Gt.eventEmitter.emit("didOpen",n),Me(e,qt["no-transition"])})(n),Ks(Gt,n,o),Ws(e,n),setTimeout((()=>{e.container.scrollTop=0}))})),Vs=(t,e)=>{const n=(t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return(t=>{const e=Es.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach((t=>{const n=t.tagName.toLowerCase();e.includes(n)}))})(n),Object.assign((t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach((t=>{Bs(t,["name","value"]);const n=t.getAttribute("name"),s=t.getAttribute("value");n&&s&&(e[n]="boolean"==typeof rs[n]?"false"!==s:"object"==typeof rs[n]?JSON.parse(s):s)})),e})(n),(t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach((t=>{const n=t.getAttribute("name"),s=t.getAttribute("value");n&&s&&(e[n]=new Function(`return ${s}`)())})),e})(n),(t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach((t=>{Bs(t,["type","color","aria-label"]);const n=t.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(e[`${n}ButtonText`]=t.innerHTML,e[`show${Zt(n)}Button`]=!0,t.hasAttribute("color")&&(e[`${n}ButtonColor`]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e[`${n}ButtonAriaLabel`]=t.getAttribute("aria-label")))})),e})(n),(t=>{const e={},n=t.querySelector("swal-image");return n&&(Bs(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e})(n),(t=>{const e={},n=t.querySelector("swal-icon");return n&&(Bs(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e})(n),(t=>{const e={},n=t.querySelector("swal-input");n&&(Bs(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const s=Array.from(t.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach((t=>{Bs(t,["value"]);const n=t.getAttribute("value");if(!n)return;const s=t.innerHTML;e.inputOptions[n]=s}))),e})(n),((t,e)=>{const n={};for(const s in e){const i=e[s],o=t.querySelector(i);o&&(Bs(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n})(n,Es))})(t),s=Object.assign({},rs,e,n,t);return s.showClass=Object.assign({},rs.showClass,s.showClass),s.hideClass=Object.assign({},rs.hideClass,s.hideClass),!1===s.animation&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Rs=t=>{const e={popup:ae(),container:se(),actions:be(),confirmButton:pe(),denyButton:fe(),cancelButton:me(),loader:ge(),closeButton:xe(),validationMessage:ue(),progressSteps:de()};return Ze.domCache.set(t,e),e},Ks=(t,e,n)=>{const s=ye();$e(s),e.timer&&(t.timeout=new Timer((()=>{n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(Be(s),Ce(s,e,"timerProgressBar"),setTimeout((()=>{t.timeout&&t.timeout.running&&Ve(e.timer)}))))},Ws=(t,e)=>{if(!e.toast)return Jt(e.allowEnterKey)?void(Gs(t)||Us(t,e)||Sn(-1,1)):(Qt("allowEnterKey"),void qs())},Gs=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Ie(t))return t.focus(),!0;return!1},Us=(t,e)=>e.focusDeny&&Ie(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ie(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!Ie(t.confirmButton)||(t.confirmButton.focus(),0)),qs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout((()=>{t.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${t}`)}SweetAlert.prototype.disableButtons=ns,SweetAlert.prototype.enableButtons=es,SweetAlert.prototype.getInput=Qn,SweetAlert.prototype.disableInput=is,SweetAlert.prototype.enableInput=ss,SweetAlert.prototype.hideLoading=Zn,SweetAlert.prototype.disableLoading=Zn,SweetAlert.prototype.showValidationMessage=os,SweetAlert.prototype.resetValidationMessage=as,SweetAlert.prototype.close=_n,SweetAlert.prototype.closePopup=_n,SweetAlert.prototype.closeModal=_n,SweetAlert.prototype.closeToast=_n,SweetAlert.prototype.rejectPromise=Bn,SweetAlert.prototype.update=ws,SweetAlert.prototype._destroy=xs,Object.assign(SweetAlert,_s),Object.keys(js).forEach((t=>{SweetAlert[t]=function(...e){return Is&&Is[t]?Is[t](...e):null}})),SweetAlert.DismissReason=xn,SweetAlert.version="11.22.0";const Ys=SweetAlert;Ys.default=Ys,"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Zs=[{key:"title",getter:t=>t.getTitle()},{key:"html",getter:t=>t.getHtmlContainer()},{key:"confirmButtonText",getter:t=>t.getConfirmButton()},{key:"denyButtonText",getter:t=>t.getDenyButton()},{key:"cancelButtonText",getter:t=>t.getCancelButton()},{key:"footer",getter:t=>t.getFooter()},{key:"closeButtonHtml",getter:t=>t.getCloseButton()},{key:"iconHtml",getter:t=>t.getIconContent()},{key:"loaderHtml",getter:t=>t.getLoader()}],Xs=()=>{};function Qs(t){function e(t){const e={},n={},s=Zs.map((t=>t.key));return Object.entries(t).forEach((t=>{let[i,o]=t;s.includes(i)&&React.isValidElement(o)?(e[i]=o,n[i]=" "):n[i]=o})),[e,n]}function n(e,n){Object.entries(n).forEach((n=>{let[s,i]=n;const o=Zs.find((t=>t.key===s)).getter(t),r=a.createRoot(o);r.render(i),e.__roots.push(r)}))}function s(t){t.__roots.forEach((t=>{t.unmount()})),t.__roots=[]}return class extends t{static argsToParams(e){if(React.isValidElement(e[0])||React.isValidElement(e[1])){const t={};return["title","html","icon"].forEach(((n,s)=>{void 0!==e[s]&&(t[n]=e[s])})),t}return t.argsToParams(e)}_main(t,i){this.__roots=[],this.__params=Object.assign({},i,t);const[o,a]=e(this.__params),r=a.willOpen||Xs,l=a.didOpen||Xs,c=a.didDestroy||Xs;return super._main(Object.assign({},a,{willOpen:t=>{n(this,o),r(t)},didOpen:t=>{setTimeout((()=>{l(t)}))},didDestroy:t=>{c(t),s(this)}}))}update(t){Object.assign(this.__params,t),s(this);const[i,o]=e(this.__params);super.update(o),n(this,i)}}}const Js=Object.freeze([1,2,3,0,0,0,1,1,0,0,0,0,0,1,0,1,1,0,0,0,2,0,0]);var ti=(t=>(t[t.lsCanType=0]="lsCanType",t[t.typeLs=1]="typeLs",t[t.typePhiHoa=2]="typePhiHoa",t[t.showHideStar=3]="showHideStar",t[t.currentStar=4]="currentStar",t[t.dvTuHoa=5]="dvTuHoa",t[t.locKiToanDo=6]="locKiToanDo",t[t.tuanHoanZone=7]="tuanHoanZone",t[t.lnTuHoa=8]="lnTuHoa",t[t.lnDHCQH=9]="lnDHCQH",t[t.lnKVXK=10]="lnKVXK",t[t.lnTuTr=11]="lnTuTr",t[t.isADSat=12]="isADSat",t[t.batTuCenter=13]="batTuCenter",t[t.batTuCung=14]="batTuCung",t[t.isNapAmCung=15]="isNapAmCung",t[t.showSun=16]="showSun",t[t.shortStar=17]="shortStar",t[t.rotateZone=18]="rotateZone",t[t.drawByZone=19]="drawByZone",t[t.showHoaIcon=20]="showHoaIcon",t[t.tcpb=21]="tcpb",t[t.dvStar=22]="dvStar",t))(ti||{});const ei=["la-so-tu-vi-viet-nam","luong-phai-nam-phai","kham-thien-tu-hoa-nam-phai","tu-vi-nam-phai","tu-vi-phi-tinh-luong-phai","tu-vi-kham-thien-tu-hoa","tu-vi-trung-chau-phai","tu-vi-trung-chau-phai-kham-thien","tu-vi-trung-chau-luong-phai"];var ni=(t=>(t[t.numLoc=0]="numLoc",t[t.numKi=1]="numKi",t[t.currentLoc=2]="currentLoc",t[t.isMoveLoc=3]="isMoveLoc",t[t.isMoveKi=4]="isMoveKi",t[t.isTruyLoc=5]="isTruyLoc",t[t.isTruyKi=6]="isTruyKi",t))(ni||{}),si=(t=>(t[t.isMoveLoc=0]="isMoveLoc",t[t.totalLoc=1]="totalLoc",t[t.currentLoc=2]="currentLoc",t[t.isMoveAllLoc=3]="isMoveAllLoc",t[t.locKeep=4]="locKeep",t[t.isMoveNienLoc=5]="isMoveNienLoc",t[t.isMoveKi=0]="isMoveKi",t[t.totalKi=1]="totalKi",t[t.currentKi=2]="currentKi",t))(si||{}),ii=(t=>(t[t.L=0]="L",t[t.Q=1]="Q",t[t.Z=2]="Z",t[t.K=3]="K",t))(ii||{});function oi(t){let e=t;return e=e.replace(/[àáạảãâầấậẩẫăằắặẳẵ]/g,"a"),e=e.replace(/[èéẹẻẽêềếệểễ]/g,"e"),e=e.replace(/[ìíịỉĩ]/g,"i"),e=e.replace(/[òóọỏõôồốộổỗơờớợởỡ]/g,"o"),e=e.replace(/[ùúụủũưừứựửữ]/g,"u"),e=e.replace(/[ỳýỵỷỹ]/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/[ÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴ]/g,"A"),e=e.replace(/[ÈÉẸẺẼÊỀẾỆỂỄ]/g,"E"),e=e.replace(/[ÌÍỊỈĨ]/g,"I"),e=e.replace(/[ÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠ]/g,"O"),e=e.replace(/[ÙÚỤỦŨƯỪỨỰỬỮ]/g,"U"),e=e.replace(/[ỲÝỴỶỸ]/g,"Y"),e=e.replace(/Đ/g,"D"),e.toLowerCase()}function ai(t){return t.split("").map((t=>Number.parseInt(t,10))).filter((t=>!Number.isNaN(t)))}function ri(t,e,n){return Math.max(e,Math.min(n,t))}function li(t,e){let n=e;switch(t){case 0:case 3:case 4:case 20:n=ri(n,0,4);break;case 1:n=ri(n,0,8);break;case 2:n=ri(n,0,3);break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 22:n=ri(n,0,1);break;case 21:n=ri(n,0,2)}return n}function ci(t){return ai(t.join("")).map(((t,e)=>li(e,t)))}function hi(t){return 1===t.sx?"Nam":"Nữ"}function di(t){return{y:`${h[t.dtb.bs.y[0]]} ${d[t.dtb.bs.y[1]]}`,m:`${h[t.dtb.bs.m[0]]} ${d[t.dtb.bs.m[1]]}`,d:`${h[t.dtb.bs.d[0]]} ${d[t.dtb.bs.d[1]]}`,h:`${h[t.dtb.bs.h[0]]} ${d[t.dtb.bs.h[1]]}`}}function ui(t){let e=u[t.ars[t.at].ai];e===u[10]&&(e=t.sx>0?"THÊ":"PHU");let n="Không được mùa sinh";return p[m[t.dtb.bs.y[2]]].includes(t.dtb.tki[0])&&(n="Được mùa sinh"),{ad:`${t.ad>0?y[1]:y[0]}`,adage:`${t.adye>0?"Dương":"Âm"} ${hi(t)}`,sk:`${w[t.sks]}`,hmenh:`${b[m[t.dtb.bs.y[2]]]}`,cuc:`${b[t.cid]}`,tcu:e,mchu:`${g[t.mctc[0]].name}`,tchu:`${g[t.mctc[1]].name}`,mua:`${f[x[t.dtb.tki[0]]]}`,okmua:`${n}`}}function pi(t){const e=[[1,1],[0,1],[1,0],[0,0]];let n=[];return n=n.concat(e[t[0]],e[t[1]],e[t[2]]),S.indexOf(n.join(""))}function mi(t,e){return r[l[t]][l[e]][function(t,e){return c[t]===c[e]?1:0}(t,e)]}const fi=["Mặc định","Lương Phái + Nam phái","Khâm Thiên + Nam phái","Nam phái","Lương Phái","Khâm Thiên","Trung Châu Phái","Trung Châu Phái + Khâm Thiên","Trung Châu Phái + Lương Phái"],gi=["Thiên Bàn","Địa Bàn","Nhân Bàn"],bi=["Tiên Thiên","Đại Vận","Lưu Niên","Lưu Nguyệt","Lưu Nhật"],wi=["Can hóa 1 - Canh Đồng Kị","Can hóa 2 - Canh Âm Kị","Can hóa 3 - Trung Châu Phái","Can hóa 4 - Phái khác","Can hóa 5 - Phái nhỏ"],yi=["lá số tử vi tổng hợp","lá số tử vi Phi Tinh Lương Phái kết hợp Nam Phái","lá số tử vi Khâm Thiên Tứ Hóa kết hợp Nam Phái","lá số tử vi Nam Phái","lá số tử vi Phi Tinh Lương Phái","lá số tử vi Khâm Thiên Tứ Hóa","lá số Trung Châu Phái","lá số Trung Châu Phái & Khâm Thiên Tứ Hóa","lá số Trung Châu Phái & Lương Phái"],xi=["Tất cả","Sao chính","Sao chính, quý tinh","Sao chính, quý tinh, trường sinh","Sao chính, quý tinh, trường sinh, lục bại"],vi=["Không hiện","Hiện 9 sao","Hiện 15 sao","Toàn bộ"];function Si(t,e){for(const n of t)if(n.includes(e))return!0;return!1}function ki(t,e=new Date,n=1,s=[...Js]){const i=s,o=t??new Date,a=W(o.getFullYear(),o.getMonth()+1,o.getDate(),o.getHours(),o.getMinutes()),r=`?s=${n}&b=${o.getFullYear()}.${(o.getMonth()+1).toString().padStart(2,"0")}.${o.getDate().toString().padStart(2,"0")}.${o.getHours().toString().padStart(2,"0")}.${o.getMinutes().toString().padStart(2,"0")}&v=${e.getFullYear()}.${(e.getMonth()+1).toString().padStart(2,"0")}.${e.getDate().toString().padStart(2,"0")}.${e.getHours().toString().padStart(2,"0")}&cf=${i.join("")}`,l=`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}-${o.getHours()}-${o.getMinutes()}`,c=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}-${e.getHours()}`;return{url:r,urlArr:[r],sex:n,dtBorn:o,strBorn:l,tkccBorn:"",dtView:e,strView:c,cfg:i,key:"",luna:a}}function ji(t,e=!0){try{if(!t||t.length<(e?5:4))return null;const n=Number(t[0]),s=Number(t[1])-1,i=Number(t[2]),o=Number(t[3]),a=e?Number(t[4]):0;if(Number.isNaN(n)||n<1e3||n>2100||Number.isNaN(s)||s<0||s>11||Number.isNaN(i)||i<1||i>31||Number.isNaN(o)||o<0||o>23||Number.isNaN(a)||a<0||a>59)return null;const r=new Date(n,s,i,o,a);return function(t){return t instanceof Date&&!Number.isNaN(t.getTime())}(r)?r:null}catch{return null}}function Ni(){return{sex:1,dtBorn:new Date,strBorn:n().format("YYYY-MM-DDTHH:mm:ss"),tkccBorn:"giap-thin-tan-mui-mau-ty-nham-tuat",dtView:new Date,strView:n().format("YYYY-MM-DDTHH:mm:ss"),cfg:[...Js],key:"err",keyUrl:"err"}}function Ci(t){return t.map((t=>g[t].name)).join(", ")}function Ti(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Pi(t,e=0){const n=[];return t.ars.forEach((s=>{let i=s.sb.length>0?`${Ci(s.sb)}, `:`VCD xung (${Ci(t.ars[k[s.ci].x].sb).replace(","," -")}), `;i+=`${function(t){return t.filter((t=>t<40||t>51)).map((t=>g[t].name)).join(", ")}(s.ss)}, `,i+=function(t){return t.filter((t=>t>=40&&t<=51)).map((t=>g[t].name)).join(", ")}(s.ss),i+=function(t,e){return e[0][0].includes(t)&&e[0][1].includes(t)?", Tuần, Triệt":e[0][0].includes(t)?", Tuần":e[0][1].includes(t)?", Triệt":""}(s.ci,t.ttr);const o=0===e?u[s.ai]:1===e?u[s.aid]:u[s.ail];let a=["Phi Lộc đến ","Phi Quyền đến ","Phi Khoa đến ","Phi Kị đến "];for(let e=0;e<=3;e+=1){const n=`${Ti(u[t.ars[s.cno[e]].ai].toLowerCase())}`;a[e]+=n}a=a.join(", "),a=`"${a}"`,n.push({name:`${o.toString()} tại ${d[s.ci]}`,cc:`${h[s.cn]} ${d[s.ci]}`,dv:`${s.dv} đến ${s.dv+9} tuổi tại cung ${o.toString()}`,star:i})})),n}function Ai(t){return[["Tên cung vị trí cung","Can Chi cung","Đại vận","Tên sao"].join(","),...t.map((t=>{const e=t.star.includes(",")?`"${t.star}"`:t.star;return`${t.name}, ${t.cc}, ${t.dv}, ${e}`}))].join("\n")}const Li=({title:t,content:n,btnId:s,onCopy:i})=>e.jsx("pre",{className:"!overflow-visible",children:e.jsxs("div",{className:"contain-inline-size rounded-md border-[0.5px] border-[#ffffff26] bg-[#ddd] dark:bg-gray-950",children:[e.jsxs("div",{className:"flex items-center text-black/85 px-4 py-2 text-xs font-sans justify-center rounded-t-md h-9 bg-[#ccc] select-none",children:[e.jsx("span",{children:t}),e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{className:"flex items-center gap-1",onClick:()=>i(n,s),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",className:"icon-sm",children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1zM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1z",clipRule:"evenodd"})}),e.jsx("span",{id:s,className:"pl-2 cursor-pointer font-sans",children:"Click Copy - Lấy Text"})]})})]}),e.jsx("div",{className:"",dir:"ltr",children:e.jsx("textarea",{className:"overflow-y-auto p-4 bg-[#ddd] text-[#686868] text-xs font-mono focus:outline-none focus:bg-yellow-100 language-markdown !whitespace-pre leading-normal text-left w-full border-none h-[140px]",readOnly:!0,value:n})})]})}),Mi=({ls:t})=>{const[n]=o.useState("nguyenBan"),[s,i]=o.useState(""),[a,r]=o.useState(""),[l,c]=o.useState(""),h=Pi(t),d=Pi(t,1),u=Pi(t,2),p=ui(t);let m="";return m+=`Giới tính ${p.adage}, ${p.ad} mệnh ${p.hmenh} sinh mùa ${p.mua}, ${p.okmua}, cục ${p.cuc}, ${p.sk}, và thân cư ${p.tcu}`,m+="\n Luận tổng quát lá số trên",o.useEffect((()=>{i(`${Ai(h)}\n\n${m}`),r(Ai(d)),c(Ai(u))}),[h,d,u]),e.jsx(e.Fragment,{children:e.jsx(Li,{title:"",content:s,btnId:"btnCopy",onCopy:(t,e)=>{const n=document.getElementById(e);if(!n)return;const s=n.textContent;navigator.clipboard.writeText(t).then((()=>{n.textContent="Đã copy",setTimeout((()=>{n.textContent=s}),2e3)}))}})})};class HoroHelp{ls;aIdx;mIdx;diaban;constructor(t){this.ls=t,this.diaban=t.ars,this.aIdx=t.aIdx,this.mIdx=t.am}tuChinh(t){return[t,k[t].x,k[t].t[0],k[t].t[1]]}tamPhuong(t){return[t,k[t].t[0],k[t].t[1]]}xungChieu(t){return[k[t].x]}giapCung(t){return[k[t].g[0],k[t].g[1]]}isGiap(t,e){return this.giapCung(e).includes(this.aIdx[`s${t}`])}isXung(t,e){return this.xungChieu(e).includes(this.aIdx[`s${t}`])}isStar4(t,e){return this.tuChinh(e).includes(this.aIdx[`s${t}`])}isStar3(t,e){return this.tamPhuong(e).includes(this.aIdx[`s${t}`])}isStar(t,e){return this.aIdx[`s${t}`]===e}isKo(t,e=0){return 3===e?this.isStar3(52,t):4===e?this.isStar4(52,t):this.isStar(52,t)}isKiep(t,e=0){return 3===e?this.isStar3(53,t):4===e?this.isStar4(53,t):this.isStar(53,t)}isKoKiep(t,e=0){return this.isKo(t,e)||this.isKiep(t,e)}isHoa(t,e=0){return 3===e?this.isStar3(54,t):4===e?this.isStar4(54,t):this.isStar(54,t)}isLinh(t,e=0){return 3===e?this.isStar3(55,t):4===e?this.isStar4(55,t):this.isStar(55,t)}isHoaLinh(t,e=0){return this.isHoa(t,e)||this.isLinh(t,e)}isKinh(t,e=0){return 3===e?this.isStar3(56,t):4===e?this.isStar4(56,t):this.isStar(56,t)}isDa(t,e=0){return 3===e?this.isStar3(57,t):4===e?this.isStar4(57,t):this.isStar(57,t)}isKinhDa(t,e=0){return this.isKinh(t,e)||this.isDa(t,e)}isLucSatTinh(t,e=0){return this.isKoKiep(t,e)||this.isKinhDa(t,e)||this.isHoaLinh(t,e)}isKhoi(t,e=0){return 3===e?this.isStar3(58,t):4===e?this.isStar4(58,t):this.isStar(58,t)}isViet(t,e=0){return 3===e?this.isStar3(59,t):4===e?this.isStar4(59,t):this.isStar(59,t)}isKhoiViet(t,e=0){return this.isKhoi(t,e)||this.isViet(t,e)}isTa(t,e=0){return 3===e?this.isStar3(60,t):4===e?this.isStar4(60,t):this.isStar(60,t)}isHuu(t,e=0){return 3===e?this.isStar3(61,t):4===e?this.isStar4(61,t):this.isStar(61,t)}isTaHuu(t,e=0){return this.isTa(t,e)||this.isHuu(t,e)}isXuong(t,e=0){return 3===e?this.isStar3(62,t):4===e?this.isStar4(62,t):this.isStar(62,t)}isKhuc(t,e=0){return 3===e?this.isStar3(63,t):4===e?this.isStar4(63,t):this.isStar(63,t)}isXuongKhuc(t,e=0){return this.isXuong(t,e)||this.isKhuc(t,e)}isGiapKhoi(t){return this.isGiap(58,t)}isGiapViet(t){return this.isGiap(59,t)}isGiapTa(t){return this.isGiap(60,t)}isGiapHuu(t){return this.isGiap(61,t)}isGiapXuong(t){return this.isGiap(62,t)}isGiapKhuc(t){return this.isGiap(63,t)}isTangTueDieu(t){return this.isStar(17,t)||this.isStar(21,t)||this.isStar(25,t)}isThaiTueCircle(t){return this.isStar(15,t)||this.isStar(23,t)||this.isStar(19,t)}isLocTonCircle(t){return this.isStar(27,t)||this.isStar(32,t)||this.isStar(74,t)}isTruongSinhCircle(t){return this.isStar(40,t)||this.isStar(44,t)||this.isStar(48,t)}isTuanChieu(t){return this.isTuan(this.xungChieu(t)[0])}isTrietChieu(t){return this.isTriet(this.xungChieu(t)[0])}isTuan(t){return this.ls.ttr[0].includes(t)}isTriet(t){return this.ls.ttr[1].includes(t)}}class CalculationHelper{jumpDown(t){return(t+11)%12}jumpUp(t){return(t+1)%12}idxAfterMove(t,e,n=!0){let s=n?this.jumpDown(t):this.jumpUp(t);for(let t=1;t<=e;t++)s=n?this.jumpUp(s):this.jumpDown(s);return s}canJumpDown(t){return(t-1+10)%10}canJumpUp(t){return(t+1)%10}}const _i=12,Ei=new Map([[2,8],[3,11],[4,5],[5,8],[6,2]]),Bi=new Map([[0,8],[1,9],[2,11],[3,0],[4,2],[5,3],[6,5],[7,6],[8,5],[9,6]]);class CirclePlacer{hsc;constructor(t){this.hsc=t}fillGrowCircle(){let t=Ei.get(this.hsc.cid)??0,e=40;for(let n=0;n<12;n+=1)this.hsc.addStar(t,e,$i.SmallStar),t=this.hsc.jumbByYinBoyYanGirl(t),e+=1}fillDoctorCircle(t,e){let n=Bi.get(t)??0,s=28;for(let t=0;t<12;t+=1)this.hsc.addStar(n,s,e),28===s&&this.hsc.addStar(n,27,e),n=this.hsc.jumbByYinBoyYanGirl(n),s+=1}fillKingCircle(t,e){let n=t,s=15;for(let t=0;t<12;t+=1)this.hsc.addStar(n,s,e),16===s&&this.hsc.addStar(n,14,e),n=this.hsc.jumbUp(n),s+=1}fillCircleSmallTime(){this.setAilPositions(),this.setMonthCanChi(),this.setLuuNguyetPositions(),this.setLuuNienPositions(),this.setLuuNguyetNPPositions()}setAilPositions(){const{dtv:t,ars:e,aIdx:n}=this.hsc;let s=t.bs.y[1],i=0;for(let t=0;t<12;t+=1)e[s].ail=i,n[`ail${i}`]=s,i=this.hsc.jumbDown(i),s=this.hsc.jumbUp(s)}setMonthCanChi(){const{dtv:t,ars:e}=this.hsc;let n=2,s=this.getNguHoDon(t.bs.y[0]);for(let t=0;t<12;t+=1)e[n].lmpt=[t+1,0,s,n,j.indexOf(`${h[s]} ${d[n]}`)],s=this.hsc.canJumpUp(s),n=this.hsc.jumbUp(n)}setLuuNguyetPositions(){const{dtv:t,dtb:e,ars:n,aIdx:s}=this.hsc;let i=t.bs.y[1];i=this.hsc.idxAfterMove(i,e.ln.m,!1),i=this.hsc.idxAfterMove(i,e.ln.h+1,!0);for(let t=0;t<12;t+=1)n[i].lmpt[1]=[t+1,t],s[`lmpt${t}`]=i,i=this.hsc.jumbUp(i)}setLuuNienPositions(){const{dtv:t,dtb:e,ars:n,aIdx:s}=this.hsc,i=t.bs.y[1];let o={8:10,0:10,4:10,2:4,6:4,10:4,5:7,9:7,1:7,11:1,3:1,7:1}[e.bs.y[1]],a=e.bs.y[1];const r=this.hsc.sx>0;for(let t=0;t<12;t+=1)i===a&&(s.lynpc=o),n[o].lynp=a,a=this.hsc.jumbUp(a),o=r?this.hsc.jumbUp(o):this.hsc.jumbDown(o)}setLuuNguyetNPPositions(){const{dtv:t,dtb:e,ars:n,aIdx:s}=this.hsc;let i=s.lynpc;i=this.hsc.idxAfterMove(i,e.ln.m,!1),i=this.hsc.idxAfterMove(i,e.ln.h+1,!0);let o=this.getNguHoDon(t.bs.y[0]),a=2;for(let e=0;e<12;e+=1)n[i].lmnp=[e+1,o,a,j.indexOf(`${h[o]} ${d[a]}`)],t.ln.m-1===e&&(s.lmnpc=i),i=this.hsc.jumbUp(i),o=this.hsc.canJumpUp(o),a=this.hsc.jumbUp(a)}getNguHoDon(t){return{4:6,5:8,6:0,7:2,8:4,9:6,0:8,1:0,2:2,3:4}[t]}fillCircleBigTime(){const{ars:t,aIdx:e}=this.hsc;let n=e.am;const s=this.hsc.cid;let i=this.hsc.cid;for(let o=0;o<12;o+=1){t[n].dv=i;const o=i,a=n;n=this.hsc.jumbByYinBoyYanGirl(n),i+=10,this.hsc.yeo>=o&&this.hsc.yeo<i&&(t[a].dvc=!0,this.hsc.dvidx=a),this.hsc.yeo<=s&&(t[e.am].dvc=!0,this.hsc.dvidx=e.am)}let o=this.hsc.dvidx,a=0;for(let n=0;n<u.length;n+=1)t[o].aid=a,e[`aid${a}`]=o,a=this.hsc.jumbDown(a),o=this.hsc.jumbUp(o)}}class StarPlacer{hsc;constructor(t){this.hsc=t}fillBigStar(){const t=[0,1,2,3,4,5];let e=0,n=0;for(let s=0;s<t.length;s+=1)if((this.hsc.dtb.ln.d+s)%this.hsc.cid==0){e=(this.hsc.dtb.ln.d+s)/this.hsc.cid,n=s;break}let s=this.hsc.idxAfterMove(2,e);s=this.hsc.idxAfterMove(s,n+1,n%2==0);const i=(t,e,n)=>{let s=t;return e.forEach((t=>{Number(t)>=0&&this.hsc.addStar(s,Number(t),$i.BigStar),s=n(s)})),s};i(s,[0,1,-1,2,3,4,-1,-1,5,-1,-1,-1],this.hsc.jumbDown.bind(this.hsc)),i({0:4,1:3,2:2,3:1,4:0,5:11,6:10,7:9,8:8,9:7,10:6,11:5}[s],[6,7,8,9,10,11,12,-1,-1,-1,13],this.hsc.jumbUp.bind(this.hsc))}fillSixAssassin(t,e){if(this.hsc.addStar(this.hsc.jumbUp(t),56,e),this.hsc.addStar(this.hsc.jumbDown(t),57,e),e!==$i.SmallStar)return;this.hsc.addStar(this.hsc.idxAfterMove(11,this.hsc.dtb.ln.h+1,!1),52,$i.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(11,this.hsc.dtb.ln.h+1,!0),53,$i.SmallStar);let n={2:1,6:1,10:1,8:2,0:2,4:2,5:3,9:3,1:3,11:9,3:9,7:9}[this.hsc.dtb.bs.y[1]],s={2:3,6:3,10:3,8:10,0:10,4:10,5:10,9:10,1:10,11:10,3:10,7:10}[this.hsc.dtb.bs.y[1]];this.hsc.istc?(n=this.hsc.idxAfterMove(n,this.hsc.dtb.ln.h+1,!0),s=this.hsc.idxAfterMove(s,this.hsc.dtb.ln.h+1,!0)):(n=this.hsc.idxAfterMove(n,this.hsc.dtb.ln.h+1,this.hsc.sx===this.hsc.adye),s=this.hsc.idxAfterMove(s,this.hsc.dtb.ln.h+1,!(this.hsc.sx===this.hsc.adye))),this.hsc.addStar(n,54,$i.SmallStar),this.hsc.addStar(s,55,$i.SmallStar)}fillSixBuffer(t,e,n=0){if(this.hsc.addStar({4:1,5:0,6:11,7:11,8:1,9:0,0:7,1:6,2:3,3:3}[t],58,e),this.hsc.addStar({4:7,5:8,6:9,7:9,8:7,9:8,0:1,1:2,2:5,3:5}[t],59,e),e!==$i.SmallStar){const n={0:[5,9],1:[6,8],2:[8,6],3:[9,5],4:[8,6],5:[9,5],6:[11,3],7:[0,2],8:[2,0],9:[3,11]};return this.hsc.addStar(n[t][0],62,e),void this.hsc.addStar(n[t][1],63,e)}const s=this.hsc.idxAfterMove(10,n+1,!1),i=this.hsc.idxAfterMove(4,n+1,!0);this.hsc.addStar(s,62,e),this.hsc.addStar(i,63,e);const o=this.hsc.idxAfterMove(4,this.hsc.dtb.ln.m,!0),a=this.hsc.idxAfterMove(10,this.hsc.dtb.ln.m,!1);this.hsc.addStar(o,60,e),this.hsc.addStar(a,61,e)}fillBig4(t,e){const n=this.hsc.HOA[t];this.hsc.addStar(this.hsc.aIdx[`s${n[ii.L]}`],64,e),this.hsc.addStar(this.hsc.aIdx[`s${n[ii.Q]}`],65,e),this.hsc.addStar(this.hsc.aIdx[`s${n[ii.Z]}`],66,e),this.hsc.addStar(this.hsc.aIdx[`s${n[ii.K]}`],67,e)}fillTuanTriet(t,e,n=$i.SmallStar){const s={4:[8,9],5:[6,7],6:[4,5],7:[2,3],8:[0,1],9:[8,9],0:[6,7],1:[4,5],2:[2,3],3:[0,1]};let i=t,o=e;for(let t=0;t<10&&4!==i;t+=1)i=this.hsc.canJumpDown(i),o=this.hsc.jumbDown(o);const a={0:[10,11],10:[8,9],8:[6,7],6:[4,5],4:[2,3],2:[0,1]}[o],r=[];r[0]=[a[0],a[1]],this.hsc.aIdx.tu=a,r[1]=s[t],this.hsc.aIdx.tr=s[t];const l=n===$i.SmallStar?0:n===$i.TenYearStar?1:2;this.hsc.ttr[l]=r}fillDargon(t=this.hsc.dtb.bs.y[1],e=$i.SmallStar){this.hsc.addStar(this.hsc.idxAfterMove(4,t+1,!0),76,e),this.hsc.addStar(this.hsc.idxAfterMove(10,t+1,!1),77,e),this.hsc.addStar({5:1,9:1,1:1,11:7,3:7,7:7,2:10,6:10,10:10,8:4,0:4,4:4}[t],78,e)}fillTangMaKhocHu(t,e){const n={5:11,9:11,1:11,11:5,3:5,7:5,2:8,6:8,10:8,8:2,0:2,4:2}[t];this.hsc.addStar(n,79,e);const s=this.hsc.idxAfterMove(6,t+1,!1);this.hsc.addStar(s,80,e);const i=this.hsc.idxAfterMove(6,t+1,!0);this.hsc.addStar(i,81,e)}fillHinhRieuHaSatToai(t=this.hsc.dtb.bs.y[0],e=this.hsc.dtb.bs.y[1],n=$i.SmallStar){this.hsc.addStar({4:9,5:10,6:7,7:8,8:5,9:6,0:4,1:3,2:11,3:2}[t],90,n),this.hsc.addStar({5:2,9:2,1:2,11:8,3:8,7:8,2:11,6:11,10:11,8:5,0:5,4:5}[e],91,n);const s={0:5,6:5,3:5,9:5,2:9,8:9,5:9,11:9,4:1,10:1,1:1,7:1}[e];if(this.hsc.addStar(s,92,n),n!==$i.SmallStar)return;this.hsc.addStar(this.hsc.idxAfterMove(9,this.hsc.dtb.ln.m,!0),87,$i.SmallStar);const i=this.hsc.idxAfterMove(1,this.hsc.dtb.ln.m,!0);this.hsc.addStar(i,88,$i.SmallStar),this.hsc.addStar(i,89,$i.SmallStar)}fillDaoHongHiCoQua(t,e){const n={5:6,9:6,1:6,11:0,3:0,7:0,2:3,6:3,10:3,8:9,0:9,4:9}[t];this.hsc.addStar(n,82,e);const s=this.hsc.idxAfterMove(3,t+1,!1);this.hsc.addStar(s,83,e);const i=this.hsc.idxAfterMove(s,7,!0);if(this.hsc.addStar(i,84,e),e!==$i.SmallStar)return;const o={11:[2,10],0:[2,10],1:[2,10],2:[5,1],3:[5,1],4:[5,1],5:[8,4],6:[8,4],7:[8,4],8:[11,7],9:[11,7],10:[11,7]},a=o[t][0];this.hsc.addStar(a,85,e);const r=o[t][1];this.hsc.addStar(r,86,e)}fillThaiCaoAnDuong(){const t=this.hsc.idxAfterMove(6,this.hsc.dtb.ln.h+1,!0);this.hsc.addStar(t,72,$i.SmallStar);const e=this.hsc.idxAfterMove(2,this.hsc.dtb.ln.h+1,!0);this.hsc.addStar(e,73,$i.SmallStar);const n=this.hsc.idxAfterMove(this.hsc.aIdx.s27,9,!0),s=this.hsc.idxAfterMove(this.hsc.aIdx.s27,8,!1);this.hsc.addStar(n,74,$i.SmallStar),this.hsc.addStar(s,75,$i.SmallStar)}fillQuangQuyThaiToa(){const t=this.hsc.dtb.ln.d;this.hsc.addStar(this.hsc.jumbDown(this.hsc.idxAfterMove(this.hsc.aIdx.s62,t,!0)),68,$i.SmallStar),this.hsc.addStar(this.hsc.jumbUp(this.hsc.idxAfterMove(this.hsc.aIdx.s63,t,!1)),69,$i.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(this.hsc.aIdx.s60,t,!0),70,$i.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(this.hsc.aIdx.s61,t,!1),71,$i.SmallStar)}fillQuanPhucNienTru(t,e){const n={4:[7,9,5,5],5:[4,8,6,6],6:[5,0,8,5],7:[2,11,9,6],8:[3,3,8,8],9:[9,2,9,9],0:[11,6,11,11],1:[9,5,0,0],2:[10,6,2,2],3:[6,5,3,3]},s=n[t][0],i=n[t][1],o=n[t][2],a=n[t][3];this.hsc.addStar(s,93,e),this.hsc.addStar(i,94,e),this.hsc.addStar(o,95,e),this.hsc.addStar(a,96,e)}fillThienNguyetDiaThanTaiTho(){this.hsc.istc||this.hsc.addStar(this.hsc.aIdx.s77,101,$i.SmallStar);const t=this.hsc.idxAfterMove(7,this.hsc.dtb.ln.m,!0);this.hsc.addStar(t,100,$i.SmallStar);const e=this.hsc.idxAfterMove(8,this.hsc.dtb.ln.m,!0);this.hsc.addStar(e,99,$i.SmallStar);const n=this.hsc.idxAfterMove(9,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(n,97,$i.SmallStar);const s=this.hsc.idxAfterMove(5,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(s,98,$i.SmallStar);const i=this.hsc.idxAfterMove(this.hsc.aIdx.am,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(i,102,$i.SmallStar);const o=this.hsc.idxAfterMove(this.hsc.aIdx.at,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(o,103,$i.SmallStar)}fillDauThuongSuLaVong(){let t=this.hsc.idxAfterMove(this.hsc.aIdx.s15,this.hsc.dtb.ln.m,!1);t=this.hsc.idxAfterMove(t,this.hsc.dtb.ln.h+1,!0),this.hsc.addStar(t,104,$i.SmallStar),this.hsc.addStar(this.hsc.aIdx.ai5,106,$i.SmallStar),this.hsc.addStar(this.hsc.aIdx.ai7,105,$i.SmallStar),this.hsc.addStar(4,107,$i.SmallStar),this.hsc.addStar(10,108,$i.SmallStar);const e={1:[2,6,9,10],2:[0,8,7,0],3:[10,10,5,2],4:[8,0,3,4],5:[6,2,1,6],6:[4,4,11,8],7:[2,6,9,10],8:[0,8,7,0],9:[10,10,5,2],10:[8,0,3,4],11:[6,2,1,6],12:[4,4,11,8]};this.hsc.addStar(e[this.hsc.dtb.ln.m][0],122,$i.SmallStar),this.hsc.addStar(e[this.hsc.dtb.ln.m][1],123,$i.SmallStar),this.hsc.addStar(e[this.hsc.dtb.ln.m][2],124,$i.SmallStar),this.hsc.addStar(e[this.hsc.dtb.ln.m][3],125,$i.SmallStar)}fillTuViTrungChauPhai(){const t=this.hsc.idxAfterMove(10,this.hsc.dtb.bs.y[1]+1,!1);this.hsc.addStar(t,118,$i.SmallStar);const e={1:8,2:8,3:10,4:10,5:0,6:0,7:2,8:2,9:4,10:4,11:6,12:6}[this.hsc.dtb.ln.m];this.hsc.addStar(e,119,$i.SmallStar);const n={1:5,5:5,9:5,2:8,6:8,10:8,3:2,7:2,11:2,4:11,8:11,12:11}[this.hsc.dtb.ln.m];this.hsc.addStar(n,120,$i.SmallStar);const s={1:10,2:5,3:4,4:2,5:7,6:3,7:11,8:7,9:2,10:6,11:10,12:2}[this.hsc.dtb.ln.m];this.hsc.addStar(s,121,$i.SmallStar);let i={8:0,0:0,4:0,2:6,6:6,10:6,11:3,3:3,7:3,5:9,9:9,1:9}[this.hsc.dtb.bs.y[1]];const o=[109,110,111,112,-1,-1,113,114,115,-1,116,117];for(let t=0;t<o.length;t+=1)o[t]>0&&this.hsc.addStar(i,o[t],$i.SmallStar),i=this.hsc.jumbUp(i)}}class ZoneBuilder{hsc;constructor(t){this.hsc=t}buildZoneName(){let t=this.hsc.idxAfterMove(2,this.hsc.dtb.ln.m);const e=this.hsc.idxAfterMove(t,this.hsc.dtb.ln.h+1);this.hsc.aIdx.at=e,t=this.hsc.idxAfterMove(t,this.hsc.dtb.ln.h+1,!1),this.hsc.aIdx.am=t;let n=0;for(let e=0;e<12;e+=1){const e={ai:n,ci:t,cn:-1,na:-1,sb:[],ss:[],sv:[],sy:[],sm:[],sd:[],lmnp:[],lynp:0,lmpt:[],aid:0,dv:0,cni:[[],[],[],[]],cnw:[[],[],[],[]],cno:[],th1:[[0,0,0],[],[],[0,0]],ys:[],que:[],stlk:[],zolk:[]};this.hsc.ars[t]=e,this.hsc.aIdx[`ai${n}`]=t,n=this.hsc.jumbDown(n),t=this.hsc.jumbUp(t)}let s=0,i=2;for(;s<12;){const t=this.hsc.dtb.m12[s][0];this.hsc.ars[i].cn=t,this.hsc.ars[i].na=j.indexOf(`${h[t]} ${d[i]}`),s+=1,i=this.hsc.jumbUp(i)}this.hsc.am=this.hsc.aIdx.am,this.hsc.at=this.hsc.aIdx.at,this.hsc.cid=m[this.hsc.ars[this.hsc.aIdx.am].na],1===this.hsc.cfg[ti.tcpb]&&(this.hsc.cid=m[this.hsc.ars[this.hsc.aIdx.at].na]),2===this.hsc.cfg[ti.tcpb]&&(this.hsc.cid=m[this.hsc.ars[this.hsc.aIdx.ai10].na]),this.hsc.adme=N[this.hsc.ars[this.hsc.aIdx.am].ci];const o=1===this.hsc.adme?1:-1;this.hsc.adye=N[this.hsc.dtb.bs.y[1]],this.hsc.adyetk=N[this.hsc.dtb.tk.y[1]];const a=1===this.hsc.adye?1:-1;this.hsc.ad=o*a>0?1:0}fillBaseMenhThan(){this.hsc.mctc={0:[8,55],1:[9,10],2:[27,11],3:[63,4],4:[5,62],5:[3,1],6:[13,54],7:[3,10],8:[5,11],9:[63,4],10:[27,62],11:[9,1]}[this.hsc.dtb.bs.y[1]]}fillPhiHoa(){for(let t=0;t<=11;t+=1){const e=this.hsc.HOA[this.hsc.ars[t].cn];this.hsc.ars[t].cno=[this.hsc.aIdx[`s${e[ii.L]}`],this.hsc.aIdx[`s${e[ii.Q]}`],this.hsc.aIdx[`s${e[ii.Z]}`],this.hsc.aIdx[`s${e[ii.K]}`]];for(let e=0;e<=11;e+=1){const n=this.hsc.HOA[this.hsc.ars[e].cn];for(let s=0;s<4;s+=1)this.hsc.aIdx[`s${n[s]}`]===t&&(this.hsc.ars[t].cni[s].push(e),this.hsc.ars[t].cnw[s].push(n[s]))}}this.setLocKiStatic();const t=[[],[],[],[],[],[],[],[],[],[],[],[]],e=[[],[],[],[],[],[],[],[],[],[],[],[]],n=[[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]]];for(let s=0;s<12;s+=1){this.hsc.countLoop=0,this.countMoveKi(s),this.hsc.countLoop=0,this.countMoveLoc(s),this.hsc.countLoop=0;const i=this.checkTuanHoan(3,s);this.checkPeriodicRepetition(i)&&(t[s]=this.getUniquePeriodicElements(i)),this.hsc.countLoop=0;const o=this.checkTuanHoan(0,s);this.checkPeriodicRepetition(o)&&(e[s]=this.getUniquePeriodicElements(o));for(let t=0;t<4;t++){this.hsc.countLoop=0;const e=this.checkTuanHoanPT(t,s);this.checkPeriodicRepetition(e)&&(n[t][s]=this.getUniquePeriodicElements(e))}}this.hsc.loopLP[ii.L]=this.getUniqueRepresentatives(e),this.hsc.loopLP[ii.K]=this.getUniqueRepresentatives(t);for(let t=0;t<4;t++)this.hsc.loopPT[t]=this.getUniqueRepresentatives(n[t]);this.hsc.loopLP[ii.L].length>0&&this.hsc.loopLP[ii.L].forEach(((t,e)=>{t.length>0&&!this.isTuanHoanLocLuongPhai(t)&&(this.hsc.loopLP[ii.L][e]=[])})),this.addBatQuai()}isTuanHoanLocLuongPhai(t){let e=!0;return t.forEach(((n,s)=>{const i=n;let o=s+1;o>t.length-1&&(o=0);const a=t[o];if(this.hsc.ars[i].cno[ii.K]!==a)return e=!1,!1;const r=this.hsc.HOA[this.hsc.ars[i].cn][3];return 0===this.hsc.ars[a].stlk[r][ni.isMoveLoc]?(e=!1,!1):void 0})),e}arraysEqual(t,e){return JSON.stringify(t)===JSON.stringify(e)}rotateArray(t,e){return[...t.slice(e,t.length),...t.slice(0,e)]}getUniqueRepresentatives(t){const e=[],n=Array.from({length:t.length}).fill(!1);for(let s=0;s<t.length;s++){if(n[s]||0===t[s].length)continue;const i=t[s];n[s]=!0;for(let e=s+1;e<t.length;e++)if(0!==t[e].length)for(let s=0;s<t[e].length;s++)if(this.arraysEqual(this.rotateArray(t[e],s),i)){n[e]=!0;break}e.push(i)}return e}listStarHoaInZone(t){const e=[],n=this.hsc.ars[t],s=n.ss.filter((t=>[60,61,62,63].includes(t)));return n.sb.concat(s).forEach((t=>{this.hsc.str2u.includes(t)&&e.push({ids:t,vl:this.hsc.str2hc[t]})})),e}isNienLoc(t){return this.hsc.aIdx.s64===t}isNienKi(t){return this.hsc.aIdx.s67===t}isMenhLocNienLoc(t){const e=this.hsc.aIdx.s64,n=this.hsc.ars[this.hsc.am].cno[ii.L];return e===t||n===t}isMenhKiNienKi(t){const e=this.hsc.aIdx.s67,n=this.hsc.ars[this.hsc.am].cno[ii.K];return e===t||n===t}isMenhKi(t){return this.hsc.ars[this.hsc.am].cno[ii.K]===t}setLocKiStatic(){for(let t=0;t<12;t+=1){let e=0,n=0,s=0;e+=this.isNienLoc(t)?1:0,s+=this.isNienKi(t)?1:0;let i=this.isMenhLocNienLoc(t)?1:0,o=this.isMenhLocNienLoc(t)?1:0,a=this.isMenhKiNienKi(t)?1:0;const r=this.hsc.ars[t].cno[ii.K]===t,l=this.hsc.ars[t].cno[ii.L]===t,c=this.listStarHoaInZone(t);c.length<=0?(this.hsc.ars[t].zolk[ii.L]=[0,-1,0,0,0,0],this.hsc.ars[t].zolk[ii.K]=[0,-1,0]):(c.forEach((i=>{const o=this.hsc.ars[t].cnw,a=o[ii.L].filter((t=>t===i.ids)).length,l=o[ii.K].filter((t=>t===i.ids)).length;if(a>0||l>0){let o=0;this.hsc.ars[t].stlk[i.ids]=[0,0,0,0,0,0,0],this.hsc.ars[t].stlk[i.ids][ni.numLoc]=a,this.hsc.ars[t].stlk[i.ids][ni.numKi]=l,this.hsc.ars[t].stlk[i.ids][ni.currentLoc]=a,this.hsc.ars[t].stlk[i.ids][ni.isMoveLoc]=r?0:a>=2?1:0,this.hsc.ars[t].stlk[i.ids][ni.isMoveKi]=r?0:l>=2?1:0,this.hsc.ars[t].stlk[i.ids][ni.isTruyLoc]=0,this.hsc.ars[t].stlk[i.ids][ni.isTruyKi]=0,o=r?a:a>=2?0:a,n+=o,e+=a,s+=l}})),i=l?1:i,o=l?1:o,i=this.checkMoveLoc(i,e,t),o=this.checkMoveAll(o,t,i),a=this.checkMoveKi(a,s),i=r?0:i,o=r?0:o,a=r?0:a,this.updateZoneLocKi(t,i,e,n,o,a,s))}this.truyLocKi(),this.countKiStatic()}checkMoveLoc(t,e,n){if(0===t){const s=this.hsc.ars[n].stlk.some((t=>1===t[ni.isMoveLoc]));t=e>=2&&s?1:t}return t}checkMoveAll(t,e,n){return 0===t&&1===this.hsc.ars[e].stlk.length&&1===n&&(t=1),t}checkMoveKi(t,e){return 0===t&&e>=2?1:t}updateZoneLocKi(t,e,n,s,i,o,a){this.hsc.ars[t].zolk[ii.L]=[0,0,0,0,0,0,0],this.hsc.ars[t].zolk[ii.L][si.isMoveLoc]=e,this.hsc.ars[t].zolk[ii.L][si.totalLoc]=n,this.hsc.ars[t].zolk[ii.L][si.currentLoc]=n,this.hsc.ars[t].zolk[ii.L][si.isMoveAllLoc]=i,this.hsc.ars[t].zolk[ii.L][si.locKeep]=1===i?0:s,this.hsc.ars[t].zolk[ii.L][si.isMoveNienLoc]=this.isNienLoc(t)?1:0,this.hsc.ars[t].zolk[ii.K]=[0,0,0,0,0,0,0],this.hsc.ars[t].zolk[ii.K][si.isMoveKi]=o,this.hsc.ars[t].zolk[ii.K][si.totalKi]=a,this.hsc.ars[t].zolk[ii.K][si.currentKi]=0}checkZoneTruyLoc(t){const e=this.hsc.ars[t].cno[ii.K]===t;if(!e){const e=this.hsc.ars[t].zolk[ii.L][si.isMoveAllLoc];let n=0;this.hsc.ars[t].stlk.forEach(((s,i)=>{1===e&&s[ni.currentLoc]>0&&0===s[ni.isMoveLoc]?(this.hsc.ars[t].stlk[i][ni.isMoveLoc]=1,this.hsc.ars[t].zolk[ii.L][si.isMoveLoc]=1):s[ni.currentLoc]>0&&0===s[ni.isMoveLoc]&&s[ni.numKi]>0&&s[ni.numLoc]>0&&this.hsc.ars[t].cni[3].forEach(((e,n)=>{this.hsc.ars[t].cnw[3][n]===i&&this.hsc.ars[e].zolk[ii.L][si.isMoveLoc]>0&&(this.hsc.ars[t].zolk[ii.L][si.isMoveLoc]=1,this.hsc.ars[t].stlk[i][ni.isMoveLoc]=1,this.hsc.ars[t].stlk[i][ni.isTruyLoc]=1)})),n+=s[ni.currentLoc]})),this.hsc.ars[t].zolk[ii.L][si.currentLoc]=n}e||1!==this.hsc.ars[t].stlk.length||1!==this.hsc.ars[t].zolk[ii.L][si.isMoveLoc]||(this.hsc.ars[t].zolk[ii.L][si.isMoveAllLoc]=1)}checkZoneTruyKi(t){const e=this.hsc.ars[t].cno[ii.K]===t;let n=0;this.hsc.ars[t].cni[ii.K].forEach((t=>{1!==this.hsc.ars[t].zolk[ii.K][si.isMoveKi]||e||(n+=1)})),1!==this.hsc.ars[t].zolk[ii.K][si.isMoveKi]||n!==this.hsc.ars[t].cni[ii.K].length||this.isMenhKiNienKi(t)||(this.hsc.ars[t].zolk[ii.K][si.isMoveKi]=0),0===this.hsc.ars[t].zolk[ii.K][si.isMoveKi]&&this.hsc.ars[t].cni[ii.K].length>1&&n<this.hsc.ars[t].cni[ii.K].length&&!e&&(this.hsc.ars[t].zolk[ii.K][si.isMoveKi]=1)}truyLocKi(){for(let t=0;t<12;t+=1)this.checkZoneTruyLoc(t),this.checkZoneTruyKi(t)}countKiStatic(){for(let t=0;t<12;t++){let e=0;this.isNienKi(t)&&e++,this.hsc.ars[t].cni[ii.K].forEach((n=>{(0===this.hsc.ars[n].zolk[ii.K][si.isMoveKi]||this.isMenhKi(t)&&1===this.hsc.ars[n].zolk[ii.K][si.isMoveKi])&&e++})),this.hsc.ars[t].zolk[ii.K][si.currentKi]=e}}countMoveKi(t){if(this.hsc.countLoop>=11)return;const e=this.hsc.ars[t].zolk[ii.K];if(this.hsc.ars[t].cno[ii.K]!==t&&-1!==e[si.totalKi]&&(this.hsc.countLoop+=1,this.isZoneMove2(t))){const n=this.hsc.ars[t].cno[ii.K],s=this.hsc.ars[n].zolk[ii.K],i=e[si.currentKi],o=s[si.currentKi];s[si.currentKi]=o+i,e[si.currentKi]=0,this.isZoneMove2(n)&&this.countMoveKi(n)}}countMoveLoc(t){if(this.hsc.countLoop>=11)return;const e=this.hsc.ars[t].zolk[ii.L];if(-1===e[si.totalLoc])return;if(this.hsc.ars[t].cno[ii.K]===t)return;this.hsc.countLoop+=1;const n=this.hsc.ars[t].stlk;let s=0;n.forEach(((n,i)=>{const o=n[ni.currentLoc],a=n[ni.isMoveLoc];(1===e[si.isMoveAllLoc]&&o>0||o>0&&1===a)&&(s+=o,e[si.currentLoc]-=o,this.hsc.ars[t].stlk[i][ni.currentLoc]=0)})),this.isNienLoc(t)&&1===e[si.isMoveNienLoc]&&(s+=1,e[si.isMoveNienLoc]=0);const i=this.hsc.ars[t].cno[ii.K],o=this.hsc.ars[t].cn,a=this.hsc.HOA[o][ii.K],r=this.hsc.ars[i].zolk[ii.L],l=this.hsc.ars[i].stlk[a];r[si.currentLoc]+=s,l[ni.currentLoc]+=s,this.checkZoneTruyLoc(i),this.isZoneMove2(i,0)&&this.countMoveLoc(i)}checkTuanHoan(t,e,n=[]){let s=n;if(this.hsc.countLoop>=24)return s;if(this.hsc.countLoop+=1,this.isZoneMove2(e,t)){s.push(e);const n=this.hsc.ars[e].cno[ii.K];this.isZoneMove2(n,t)?s=this.checkTuanHoan(t,n,s):s.push(n)}return s}checkTuanHoanPT(t,e,n=[]){let s=n;if(this.hsc.countLoop>=12||this.hsc.ars[e].cno[t]===e)return s;this.hsc.countLoop+=1,s.push(e);const i=this.hsc.ars[e].cno[t];return i===e?(s.push(e),s):(s=this.checkTuanHoanPT(t,i,s),s)}isZoneMove2(t,e=3){return 0===e?1===this.hsc.ars[t].zolk[ii.L][si.isMoveLoc]:1===this.hsc.ars[t].zolk[ii.K][si.isMoveKi]}checkPeriodicRepetition(t){const e=t.length;for(let n=1;n<=e/2;n++){let s=!0;for(let i=0;i<e;i++)if(t[i]!==t[i%n]){s=!1;break}if(s)return!0}return!1}getUniquePeriodicElements(t){for(let e=1;e<=t.length/2;e++){const n=t.slice(0,e),s=Array.from({length:Math.ceil(t.length/e)}).fill(n).flat().slice(0,t.length);if(JSON.stringify(s)===JSON.stringify(t))return[...new Set(n)]}return[]}isExitQueByCung(t,e){const n=this.hsc.ars[t].que;let s=!1;return n.forEach((t=>{if(e===t[0])return s=!0,s})),s}addBatQuai(){const t=[this.hsc.aIdx.s64,this.hsc.aIdx.s65,this.hsc.aIdx.s66,this.hsc.aIdx.s67];for(let e=0;e<4;e+=1){const n=e,s=t[e],i=this.hsc.ars[s];i.cno.forEach(((t,o)=>{if(t===s){const t=o;i.cni.forEach(((i,a)=>{for(let r=0;r<i.length;r+=1){const l=i[r];if(l===s&&a===o)continue;const c=pi([n,t,a]);this.isExitQueByCung(l,c)||this.hsc.ars[l].que.push([c,[e,o,a],[s,s,l]])}}))}}));const o=k[s].x;i.cno.forEach(((t,a)=>{if(t===o){const t=a;this.hsc.ars[o].cni.forEach(((i,r)=>{for(let l=0;l<i.length;l+=1){const c=i[l];if(c===s&&r===a)continue;const h=pi([n,t,r]);this.isExitQueByCung(c,h)||this.hsc.ars[c].que.push([h,[e,a,r],[s,o,c]])}})),i.cni.forEach(((i,o)=>{for(let r=0;r<i.length;r+=1){const l=i[r];if(l===s)continue;const c=pi([n,t,o]);this.isExitQueByCung(l,c)||this.hsc.ars[l].que.push([c,[e,a,o],[s,s,l]])}}))}})),this.hsc.ars[o].cno.forEach(((t,a)=>{if(t===s){const t=a;this.hsc.ars[o].cni.forEach(((i,r)=>{for(let l=0;l<i.length;l+=1){const c=i[l],h=pi([n,t,r]);this.isExitQueByCung(c,h)||this.hsc.ars[c].que.push([h,[e,a,r],[s,o,c]])}})),i.cni.forEach(((i,r)=>{for(let l=0;l<i.length;l+=1){const c=i[l];if(c===o&&r===a)continue;if(c===s)continue;const h=pi([n,t,r]);this.isExitQueByCung(c,h)||this.hsc.ars[c].que.push([h,[e,a,r],[s,s,c]])}}))}}))}}}var $i=(t=>(t.BigStar="sb",t.SmallStar="ss",t.YearStar="sy",t.MonthStar="sm",t.DayStar="sd",t.TenYearStar="sv",t))($i||{});class HoroscopeBuild{search;cid=2;at=1;am=1;yeo=1;dtb;dtv;dtc;aIdx={};adye=1;adyetk=1;adme=1;ad=1;sx=1;ttr={0:[],1:[],2:[]};ars=[];sks=5;istc=!1;tpCan=0;cfg=[...Js];dvidx=0;idxCheckZone=0;mctc=[];cach={};rad=0;tutru={cot:[{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1}],dv:[],dvt:[]};starPlacer;circlePlacer;zoneBuilder;calculationHelper;arrIdxChuyenLoc=[];str2hc={};str2u=[];arrCkZone=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]];loopLP=[[],[],[],[]];loopPT=[[],[],[],[]];countLoop=0;HOA=C;numberStarCol1=[0,0,0,0,0,0,0,0,0,0,0,0];numberStarCol2=[0,0,0,0,0,0,0,0,0,0,0,0];css=0;constructor(t){t&&t.cfg&&Object.assign(this.cfg,t.cfg);const e=n(),s=W(e.year(),e.month()+1,e.date(),e.hour(),e.minute());this.dtc=T(s);const i=W(t.born.year(),t.born.month()+1,t.born.date(),t.born.hour(),t.born.minute());this.dtb=T(i),this.dtv=this.dtc??T(W(e.year(),e.month()+1,e.date(),e.hour(),e.minute())),void 0!==t.view&&(this.dtv=T(W(t.view.year(),t.view.month()+1,t.view.date(),t.view.hour(),t.view.minute()))),this.yeo=this.dtv.ln.y-this.dtb.ln.y+1,this.sx=t.sex,this.istc=[6,7,8].includes(this.cfg[ti.typeLs]),this.HOA=P(this.cfg[ti.lsCanType]),this.istc||(this.cfg[ti.tcpb]=0),this.str2hc=A(this.HOA),this.str2u=L(this.HOA),this.starPlacer=new StarPlacer(this),this.circlePlacer=new CirclePlacer(this),this.zoneBuilder=new ZoneBuilder(this),this.calculationHelper=new CalculationHelper,this.initializeHoroscope()}removePrivateProperties(){delete this.starPlacer,delete this.circlePlacer,delete this.zoneBuilder,delete this.calculationHelper,this.arrIdxChuyenLoc=[],this.str2hc={},this.str2u=[],this.arrCkZone=[],this.countLoop=0,this.HOA={},this.numberStarCol1=[],this.numberStarCol2=[],this.idxCheckZone=0,this.tpCan=0,this.adyetk=1,delete this.dtc}initializeHoroscope(){this.zoneBuilder.buildZoneName(),this.starPlacer.fillBigStar();const t=this.dtb.bs.y[0];this.starPlacer.fillSixAssassin([8,9,11,0,2,3,5,6,5,6][t],"ss"),this.starPlacer.fillSixBuffer(this.dtb.bs.y[0],"ss",this.dtb.ln.h),this.starPlacer.fillBig4(this.dtb.bs.y[0],"ss"),this.circlePlacer.fillKingCircle(this.dtb.bs.y[1],"ss"),this.circlePlacer.fillDoctorCircle(this.dtb.bs.y[0],"ss"),this.circlePlacer.fillGrowCircle(),this.starPlacer.fillTuanTriet(this.dtb.bs.y[0],this.dtb.bs.y[1]),this.starPlacer.fillQuangQuyThaiToa(),this.starPlacer.fillThaiCaoAnDuong(),this.starPlacer.fillDargon(),this.starPlacer.fillTangMaKhocHu(this.dtb.bs.y[1],"ss"),this.starPlacer.fillHinhRieuHaSatToai(),this.starPlacer.fillDaoHongHiCoQua(this.dtb.bs.y[1],"ss"),this.starPlacer.fillQuanPhucNienTru(this.dtb.bs.y[0],"ss"),this.starPlacer.fillThienNguyetDiaThanTaiTho(),this.starPlacer.fillDauThuongSuLaVong(),this.skyAreaSK(),this.istc&&this.starPlacer.fillTuViTrungChauPhai(),this.circlePlacer.fillCircleBigTime(),this.circlePlacer.fillCircleSmallTime(),this.fillStarRepeatByLoop(),this.addAgeToAreas(),this.zoneBuilder.fillBaseMenhThan(),this.zoneBuilder.fillPhiHoa(),this.tuTruBuildBigTime(),this.tuTruBuildCot(0,this.dtb.tk.y,this.dtb.tk.d),this.tuTruBuildCot(1,this.dtb.tk.m,this.dtb.tk.d),this.tuTruBuildCot(2,this.dtb.tk.d,this.dtb.tk.d,!0),this.tuTruBuildCot(3,this.dtb.tk.h,this.dtb.tk.d),this.css=Math.max(Math.max(...this.numberStarCol1),Math.max(...this.numberStarCol2))}addStar(t,e,n){if("sb"!==n&&"ss"!==n&&void 0!==g[e][`is${n}`]&&!1===g[e][`is${n}`])return;this.ars[t][n].push(e);const s=this.ars[t][n];switch(s.sort(((t,e)=>1===g[t].zone&&1!==g[e].zone||3===g[t].zone&&1!==g[e].zone&&3!==g[e].zone?-1:1)),this.ars[t][n]=s,n){case"sb":case"ss":this.aIdx[`s${e}`]=t;break;default:this.aIdx[`${n}${e}`]=t}const i="sb"!==n&&"ss"!==n;if(("ss"===n||"sv"===n&&1===this.cfg[ti.dvStar]&&![64,65,66,67].includes(e)||"sy"===n&&this.cfg[ti.currentStar]>0&&![64,65,66,67].includes(e))&&e>13){const s=g[e];if(void 0===s.cir||"vts"!==s.cir){const o=this.cfg[ti.showHideStar];if(o>0&&!i){if(1===o&&!M.includes(e))return;if(2===o&&!M.includes(e)&&!_.includes(e))return;if(3===o&&!M.includes(e)&&!_.includes(e)&&!E.includes(e))return;if(!(4!==o||M.includes(e)||_.includes(e)||E.includes(e)||B.includes(e)))return}const a=1===this.cfg[ti.dvStar],r=this.cfg[ti.currentStar]>0;if("sv"===n&&!a||"sy"===n&&!r)return;1===s.typ&&(this.numberStarCol1[t]+=1),2===s.typ&&(this.numberStarCol2[t]+=1)}}}jumbDown(t){return this.calculationHelper.jumpDown(t)}jumbUp(t){return this.calculationHelper.jumpUp(t)}jumbByYinBoyYanGirl(t){return this.sx===this.adye?this.jumbUp(t):this.jumbDown(t)}jumbByYinBoyYanGirlTietKhi(t){return this.sx===this.adyetk?this.jumbUp(t):this.jumbDown(t)}idxAfterMove(t,e,n=!0){return this.calculationHelper.idxAfterMove(t,e,n)}canJumpDown(t){return this.calculationHelper.canJumpDown(t)}canJumpUp(t){return this.calculationHelper.canJumpUp(t)}canJumbByYinBoyYanGirl(t){return this.sx===this.adye?this.canJumpUp(t):this.canJumpDown(t)}canJumbByYinBoyYanGirlTietKhi(t){return this.sx===this.adyetk?this.canJumpUp(t):this.canJumpDown(t)}skyAreaSK(){this.sks={2:{2:5,3:4,4:3,6:6,5:7},3:{3:5,6:4,2:3,5:6,4:7},4:{4:5,2:4,5:3,3:6,6:7},5:{5:5,4:4,6:3,2:6,3:7},6:{6:5,5:4,3:3,4:6,2:7}}[m[this.dtb.bs.y[2]]][m[this.ars[this.aIdx.am].na]]}fillStarRepeatByLoop(){const t=this.aIdx[`aid${this.idxCheckZone}`],e=this.ars[t].cn;this.addStar([8,9,11,0,2,3,5,6,5,6][e],27,"sv"),this.starPlacer.fillSixAssassin(this.aIdx.sv27,"sv"),this.starPlacer.fillSixBuffer(e,"sv"),this.starPlacer.fillBig4(e,"sv"),this.circlePlacer.fillKingCircle(this.dtv.bs.y[1],"sy"),this.circlePlacer.fillDoctorCircle(this.dtv.bs.y[0],"sy"),this.starPlacer.fillSixAssassin(this.aIdx.sy27,"sy"),this.starPlacer.fillSixBuffer(this.dtv.bs.y[0],"sy"),this.starPlacer.fillBig4(this.dtv.bs.y[0],"sy"),this.starPlacer.fillTangMaKhocHu(this.dtv.bs.y[1],"sy"),this.starPlacer.fillHinhRieuHaSatToai(this.dtv.bs.y[0],this.dtv.bs.y[1],"sy"),this.starPlacer.fillDaoHongHiCoQua(this.dtv.bs.y[1],"sy"),this.starPlacer.fillDargon(this.dtv.bs.y[1],"sy"),this.starPlacer.fillTuanTriet(this.dtv.bs.y[0],this.dtv.bs.y[1],"sy")}addAgeToAreas(){let t=this.dtb.bs.y[1],e=0;for(let n=1;n<=84;n+=1){const n=e+this.dtb.ln.y;if(n>2099)break;const s=T(W(n,6,6,6,6));this.ars[t].ys.push([e+1,n,s.bs.y[2],s.bs.y[0]]),t=this.jumbUp(t),e+=1}}tuTruBuildBigTime(){const t=n(`${this.dtb.sn.y}-${this.dtb.sn.m}-${this.dtb.sn.d} ${this.dtb.sn.h}:${this.dtb.sn.i}`),e=this.dtb.tki,s=this.sx===this.adyetk;let i,o;s?(i=n(e[4]),o=i.diff(t,"day",!0)):(i=n(e[3]),o=t.diff(i,"day",!0));const a=Number(o.toFixed(10)),r=Math.floor(a),l=24*(a-r),c=Math.ceil(l),h=a/3,d=Math.floor(h),u=365*(h-d)/30,p=Math.floor(u),m=30*(u-p),f=Math.floor(m);let g=t.add(d,"year").add(p,"month").add(f,"day"),b=this.dtb.tk.m[0],w=this.dtb.tk.m[1];for(let t=0;t<10;t++)b=this.canJumbByYinBoyYanGirlTietKhi(b),w=this.jumbByYinBoyYanGirlTietKhi(w),this.tutru.dv.push([b,w,g.unix()]),g=g.add(10,"year");this.tutru.dvt=[s,r,c,d,p,f]}tuTruBuildCot(t,e,n,s=!1){const i=n[0];this.tutru.cot[t].cht=s?-1:mi(i,e[0]),this.tutru.cot[t].cn=e[0],this.tutru.cot[t].ci=e[1];const o=$[e[1]];this.tutru.cot[t].ctg=o;const a=[];o.forEach(((t,e)=>{a[e]=mi(i,t)})),this.tutru.cot[t].pht=a,this.tutru.cot[t].ts=function(t,e){return v[t][e]}(n[0],e[1]),this.tutru.cot[t].na=e[2]}}let Di;function Oi(t,e){return{loopLP:[],loopPT:[],cach:{base:{}},rad:null,aIdx:{},search:[],ttr:null,cid:0,at:0,am:0,yeo:0,adye:0,adme:0,ad:0,sx:t,ars:[],sks:0,istc:!1,dvidx:0,mctc:[],dtc:{sn:{y:0,m:0,d:0,h:0,i:0,mt:0,yt:0},ln:{y:0,m:0,d:0,h:0,mt:0,yt:0},bs:{y:[],m:[],d:[],h:[]},tk:{y:[],m:[],d:[],h:[]},m12:[],h12:[],m12k:[],tki:[]},dtb:{sn:{y:0,m:0,d:0,h:0,i:0,mt:0,yt:0},ln:{y:0,m:0,d:0,h:0,mt:0,yt:0},bs:{y:[],m:[],d:[],h:[]},tk:{y:[],m:[],d:[],h:[]},m12:[],h12:[],m12k:[],tki:[]},dtv:{sn:{y:0,m:0,d:0,h:0,i:0,mt:0,yt:0},ln:{y:0,m:0,d:0,h:0,mt:0,yt:0},bs:{y:[],m:[],d:[],h:[]},tk:{y:[],m:[],d:[],h:[]},m12:[],h12:[],m12k:[],tki:[]},tutru:{cot:[],dv:[],dvt:[]},cfg:[...e],css:0}}function Fi(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function Ii(t,e=new Date,s=1,i=[...Js]){try{if(!Fi(t)||!Fi(e))return Oi(s,i);if("number"!=typeof s||0!==s&&1!==s)return Oi(1,i);if(!Array.isArray(i))return Oi(s,[...Js]);const o=i,a=function(t,e=new Date,s=1,i=[...Js]){const o=i,a=new HoroscopeBuild({sex:s,born:n(t),view:n(e),cfg:o});return delete a.starPlacer,delete a.circlePlacer,delete a.zoneBuilder,delete a.calculationHelper,delete a.arrIdxChuyenLoc,delete a.str2hc,delete a.str2u,delete a.arrCkZone,delete a.countLoop,delete a.HOA,delete a.numberStarCol1,delete a.numberStarCol2,delete a.idxCheckZone,delete a.tpCan,delete a.adyetk,delete a.dtc,a}(t,e,s,o);try{Di=new HoroHelp(a),a.cach.base=function(t){const e=function(t){const e=t.am,n=t.ars[e];return Di.isStar3(0,e)&&[0,2,4,6,8,10].includes(e)?2:Di.isStar3(12,e)&&Di.isStar3(13,e)&&Di.isStar3(8,e)?3:0===n.sb.length?4:Di.isStar4(2,e)||Di.isStar4(7,e)?5:[5,9,1,11,3,7].includes(e)&&Di.isStar3(6,e)&&Di.isStar3(10,e)?6:Di.isStar3(1,e)&&Di.isStar3(4,e)&&Di.isStar3(9,e)?7:1}(t),n={};return n.name={1:"Mặc định",2:"Tử Phủ Vũ Tướng",3:"Sát Phá Tham",4:"Vô Chính Diệu",5:"Nhật Nguyệt",6:"Phủ Tướng",7:"Cơ Đồng Cự"}[e],n.good=[],n.bad=[],n}(a)}catch(t){a.cach.base={}}return function(t,e,n){try{if(!t)return Oi(e,n);if(!t.dtb||!t.dtv||!t.cfg)return Oi(e,n);const s=t=>t&&t.sn&&"object"==typeof t.sn&&t.ln&&"object"==typeof t.ln&&t.bs&&"object"==typeof t.bs&&t.tk&&"object"==typeof t.tk;return s(t.dtb)&&s(t.dtv)?t:Oi(e,n)}catch(t){return Oi(e,n)}}(a,s,o)}catch(t){return Oi(s,i)}}function Hi(t){const n=()=>{void 0!==t.fnPageClick&&t.fnPageClick()};return e.jsx(e.Fragment,{children:e.jsx("div",{onClick:n,onTouchStart:()=>{void 0!==t.fnPageTouchStart&&t.fnPageTouchStart()},onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||n()},tabIndex:0,children:t.children})})}var zi,Vi,Ri,Ki,Wi={exports:{}},Gi={},Ui={},qi={},Yi={},Zi={};function Xi(){if(Ki)return Zi;Ki=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Rect=void 0;const t=G(),e=U(),n=Y(),s=Z(),i=q();let o=class extends e.Shape{_sceneFunc(t){const e=this.cornerRadius(),n=this.width(),i=this.height();t.beginPath(),e?s.Util.drawRoundedRectPath(t,n,i,e):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}};return Zi.Rect=o,o.prototype.className="Rect",(0,n._registerNode)(o),t.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Zi}var Qi,Ji,to,eo,no,so,ho,uo,po,mo,fo,go,bo,wo,yo,xo,vo,So,ko,jo,No,Co,To,Po,Ao,Lo,Mo,io={},oo={},ao={},ro={},lo={},co={},_o={},Eo={},Bo={},$o={},Do={},Oo={},Fo={},Io={},Ho={},zo={},Vo={},Ro={},Ko={},Wo={},Go={},Uo={},qo={},Yo={},Zo={},Xo={};function Qo(){if(Mo)return Gi;Mo=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Konva=void 0;const t=nt(),e=st(),n=it(),s=ot(),i=function(){if(zi)return Ui;zi=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.Ellipse=void 0;const t=G(),e=U(),n=q(),s=Y();let i=class extends e.Shape{_sceneFunc(t){const e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}};return Ui.Ellipse=i,i.prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,s._registerNode)(i),t.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),t.Factory.addGetterSetter(i,"radiusX",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"radiusY",0,(0,n.getNumberValidator)()),Ui}(),o=function(){if(Vi)return qi;Vi=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.Image=void 0;const t=Z(),e=G(),n=U(),s=Y(),i=q();let o=class e extends n.Shape{constructor(t){super(t),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",(t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",this._loadListener)}_removeImageLoad(t){t&&t.removeEventListener&&t.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const t=!!this.cornerRadius(),e=this.hasShadow();return!(!t||!e)||super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),s=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image;let a;if(o){const t=this.attrs.cropWidth,e=this.attrs.cropHeight;a=t&&e?[o,this.cropX(),this.cropY(),t,e,0,0,n,s]:[o,0,0,n,s]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?t.Util.drawRoundedRectPath(e,n,s,i):e.rect(0,0,n,s),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),s=this.height(),i=this.cornerRadius();e.beginPath(),i?t.Util.drawRoundedRectPath(e,n,s,i):e.rect(0,0,n,s),e.closePath(),e.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(n,s,i=null){const o=t.Util.createImageElement();o.onload=function(){const t=new e({image:o});s(t)},o.onerror=i,o.crossOrigin="Anonymous",o.src=n}};return qi.Image=o,o.prototype.className="Image",(0,s._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,i.getNumberValidator)()),qi}(),a=function(){if(Ri)return Yi;Ri=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Tag=Yi.Label=void 0;const t=G(),e=U(),n=X(),s=q(),i=Y(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],a="up",r="right",l="down",c="left",h=o.length;let d=class extends n.Group{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){let e,n=this;const s=function(){n._sync()};for(e=0;e<h;e++)t.on(o[e]+"Change.konva",s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let t,e,n,s,i,o,h,d=this.getText(),u=this.getTag();if(d&&u){switch(t=d.width(),e=d.height(),n=u.pointerDirection(),s=u.pointerWidth(),h=u.pointerHeight(),i=0,o=0,n){case a:i=t/2,o=-1*h;break;case r:i=t+s,o=e/2;break;case l:i=t/2,o=e+h;break;case c:i=-1*s,o=e/2}u.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),d.setAttrs({x:-1*i,y:-1*o})}}};Yi.Label=d,d.prototype.className="Label",(0,i._registerNode)(d);class u extends e.Shape{_sceneFunc(t){const e=this.width(),n=this.height(),s=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),h=this.cornerRadius();let d=0,u=0,p=0,m=0;"number"==typeof h?d=u=p=m=Math.min(h,e/2,n/2):(d=Math.min(h[0]||0,e/2,n/2),u=Math.min(h[1]||0,e/2,n/2),m=Math.min(h[2]||0,e/2,n/2),p=Math.min(h[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(d,0),s===a&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),t.lineTo(e-u,0),t.arc(e-u,u,u,3*Math.PI/2,0,!1),s===r&&(t.lineTo(e,(n-o)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+o)/2)),t.lineTo(e,n-m),t.arc(e-m,n-m,m,0,Math.PI/2,!1),s===l&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-i)/2,n)),t.lineTo(p,n),t.arc(p,n-p,p,Math.PI/2,Math.PI,!1),s===c&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-o)/2)),t.lineTo(0,d),t.arc(d,d,d,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){let t=0,e=0,n=this.pointerWidth(),s=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),h=this.height();return i===a?(e-=s,h+=s):i===l?h+=s:i===c?(t-=1.5*n,o+=n):i===r&&(o+=1.5*n),{x:t,y:e,width:o,height:h}}}return Yi.Tag=u,u.prototype.className="Tag",(0,i._registerNode)(u),t.Factory.addGetterSetter(u,"pointerDirection","none"),t.Factory.addGetterSetter(u,"pointerWidth",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(u,"pointerHeight",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(u,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),Yi}(),r=at(),l=J(),c=Xi(),h=function(){if(Qi)return io;Qi=1,Object.defineProperty(io,"__esModule",{value:!0}),io.RegularPolygon=void 0;const t=G(),e=U(),n=q(),s=Y();let i=class extends e.Shape{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,n=[];for(let s=0;s<t;s++)n.push({x:e*Math.sin(2*s*Math.PI/t),y:-1*e*Math.cos(2*s*Math.PI/t)});return n}getSelfRect(){const t=this._getPoints();let e=t[0].x,n=t[0].y,s=t[0].x,i=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.max(n,t.x),s=Math.min(s,t.y),i=Math.max(i,t.y)})),{x:e,y:s,width:n-e,height:i-s}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}};return io.RegularPolygon=i,i.prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"sides",0,(0,n.getNumberValidator)()),io}(),d=function(){if(Ji)return oo;Ji=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.Ring=void 0;const t=G(),e=U(),n=q(),s=Y(),i=2*Math.PI;let o=class extends e.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,i,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),i,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}};return oo.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(o),t.Factory.addGetterSetter(o,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(o,"outerRadius",0,(0,n.getNumberValidator)()),oo}(),u=function(){if(to)return ao;to=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.Sprite=void 0;const t=G(),e=U(),n=Q(),s=q(),i=Y();let o=class extends e.Shape{constructor(t){super(t),this._updated=!0,this.anim=new n.Animation((()=>{const t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){const e=this.animation(),n=this.frameIndex(),s=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[s+0],r=i[s+1],l=i[s+2],c=i[s+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),h)if(o){const s=o[e],i=2*n;t.drawImage(h,a,r,l,c,s[i+0],s[i+1],l,c)}else t.drawImage(h,a,r,l,c,0,0,l,c)}_hitFunc(t){const e=this.animation(),n=this.frameIndex(),s=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[s+2],r=i[s+3];if(t.beginPath(),o){const s=o[e],i=2*n;t.rect(s[i+0],s[i+1],a,r)}else t.rect(0,0,a,r);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(this.isRunning())return;const t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}};return ao.Sprite=o,o.prototype.className="Sprite",(0,i._registerNode)(o),t.Factory.addGetterSetter(o,"animation"),t.Factory.addGetterSetter(o,"animations"),t.Factory.addGetterSetter(o,"frameOffsets"),t.Factory.addGetterSetter(o,"image"),t.Factory.addGetterSetter(o,"frameIndex",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(o,"frameRate",17,(0,s.getNumberValidator)()),t.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),ao}(),p=function(){if(eo)return ro;eo=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.Star=void 0;const t=G(),e=U(),n=q(),s=Y();let i=class extends e.Shape{_sceneFunc(t){const e=this.innerRadius(),n=this.outerRadius(),s=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(let i=1;i<2*s;i++){const o=i%2==0?n:e,a=o*Math.sin(i*Math.PI/s),r=-1*o*Math.cos(i*Math.PI/s);t.lineTo(a,r)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}};return ro.Star=i,i.prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"numPoints",5,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"outerRadius",0,(0,n.getNumberValidator)()),ro}(),m=tt(),f=function(){if(no)return lo;no=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.TextPath=void 0;const t=Z(),e=G(),n=U(),s=J(),i=tt(),o=q(),a=Y(),r="normal";function l(t){t.fillText(this.partialText,0,0)}function c(t){t.strokeText(this.partialText,0,0)}let h=class extends n.Shape{constructor(e){super(e),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return s.Path.getPathLength(this.dataArray)}_getPointAtLength(t){return this.attrs.data?t-1>this.pathLength?null:s.Path.getPointAtLengthOfDataArray(t,this.dataArray):null}_readDataAttribute(){this.dataArray=s.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();const e=this.textDecoration(),n=this.fill(),s=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(let n=0;n<i.length;n++){t.save();const o=i[n].p0;t.translate(o.x,o.y),t.rotate(i[n].rotation),this.partialText=i[n].text,t.fillStrokeShape(this),"underline"===e&&(0===n&&t.moveTo(0,s/2+1),t.lineTo(s,s/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=s/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();const e=this.glyphInfo;if(e.length>=1){const n=e[0].p0;t.moveTo(n.x,n.y)}for(let n=0;n<e.length;n++){const s=e[n].p1;t.lineTo(s.x,s.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return i.Text.prototype.setText.call(this,t)}_getContextFont(){return i.Text.prototype._getContextFont.call(this)}_getTextSize(t){const e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();const n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:e}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=e,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),o=this.align(),a=this.kerningFunc(),r=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let l=0;"center"===o&&(l=Math.max(0,this.pathLength/2-r/2)),"right"===o&&(l=Math.max(0,this.pathLength-r));const c=(0,i.stringToArray)(this.text());let h=l;for(let t=0;t<c.length;t++){const e=this._getPointAtLength(h);if(!e)return;let i=this._getTextSize(c[t]).width+n;if(" "===c[t]&&"justify"===o){const t=this.text().split(" ").length-1;i+=(this.pathLength-r)/t}const l=this._getPointAtLength(h+i);if(!l)return;const d=s.Path.getLineLength(e.x,e.y,l.x,l.y);let u=0;if(a)try{u=a(c[t-1],c[t])*this.fontSize()}catch(t){u=0}e.x+=u,l.x+=u,this.textWidth+=u;const p=s.Path.getPointOnLine(u+d/2,e.x,e.y,l.x,l.y),m=Math.atan2(l.y-e.y,l.x-e.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:c[t],rotation:m,p0:e,p1:l}),h+=i}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));let e,n,s=t[0]||0,i=t[0]||0,o=t[1]||0,a=t[1]||0;for(let r=0;r<t.length/2;r++)e=t[2*r],n=t[2*r+1],s=Math.min(s,e),i=Math.max(i,e),o=Math.min(o,n),a=Math.max(a,n);const r=this.fontSize();return{x:s-r/2,y:o-r/2,width:i-s+r,height:a-o+r}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return lo.TextPath=h,h.prototype._fillFunc=l,h.prototype._strokeFunc=c,h.prototype._fillFuncHit=l,h.prototype._strokeFuncHit=c,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],(0,a._registerNode)(h),e.Factory.addGetterSetter(h,"data"),e.Factory.addGetterSetter(h,"fontFamily","Arial"),e.Factory.addGetterSetter(h,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(h,"fontStyle",r),e.Factory.addGetterSetter(h,"align","left"),e.Factory.addGetterSetter(h,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(h,"textBaseline","middle"),e.Factory.addGetterSetter(h,"fontVariant",r),e.Factory.addGetterSetter(h,"text",""),e.Factory.addGetterSetter(h,"textDecoration",""),e.Factory.addGetterSetter(h,"kerningFunc",void 0),lo}(),g=function(){if(so)return co;so=1,Object.defineProperty(co,"__esModule",{value:!0}),co.Transformer=void 0;const t=Z(),e=G(),n=et(),s=U(),i=Xi(),o=X(),a=Y(),r=q(),l=Y(),c="tr-konva",h=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map((t=>t+`.${c}`)).join(" "),d="nodesRect",u=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],p={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in a.Konva._global,f=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function g(t,e,n){const s=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:s,y:i}}let b=0,w=class extends o.Group{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(h,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(e){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return c+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter((e=>!e.isAncestorOf(this)||(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));return this._nodes=e=n,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()};if(t._attrsAffectingSize.length){const n=t._attrsAffectingSize.map((t=>t+"Change."+this._getEventNamespace())).join(" ");t.on(n,e)}t.on(u.map((t=>t+`.${this._getEventNamespace()}`)).join(" "),e),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,e),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,(n=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(n,!1)})),t.on(`dragmove.${this._getEventNamespace()}`,(n=>{if(!e)return;const s=t.getAbsolutePosition(),i=s.x-e.x,o=s.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const s=e.getAbsolutePosition();e.setAbsolutePosition({x:s.x+i,y:s.y+o}),e.startDrag(n)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(d),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(d,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),n){const s=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),r=s.x*i.x-t.offsetX()*i.x,l=s.y*i.y-t.offsetY()*i.y,c=(a.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return g({x:o.x+r*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+r*Math.sin(c),width:s.width*i.x,height:s.height*i.y,rotation:c},-a.Konva.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map((t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],i=t.getAbsoluteTransform();s.forEach((function(t){const n=i.point(t);e.push(n)}))}));const n=new t.Transform;n.rotate(-a.Konva.getAngle(this.rotation()));let s=1/0,i=1/0,o=-1/0,r=-1/0;e.forEach((function(t){const e=n.point(t);void 0===s&&(s=o=e.x,i=r=e.y),s=Math.min(s,e.x),i=Math.min(i,e.y),o=Math.max(o,e.x),r=Math.max(r,e.y)})),n.invert();const l=n.point({x:s,y:i});return{x:l.x,y:l.y,width:o-s,height:r-i,rotation:a.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),f.forEach((t=>{this._createAnchor(t)})),this._createAnchor("rotater")}_createAnchor(e){const n=new i.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),s=this;n.on("mousedown touchstart",(function(t){s._handleMouseDown(t)})),n.on("dragstart",(t=>{n.stopDrag(),t.cancelBubble=!0})),n.on("dragend",(t=>{t.cancelBubble=!0})),n.on("mouseenter",(()=>{const s=a.Konva.getAngle(this.rotation()),i=this.rotateAnchorCursor(),o=function(e,n,s){if("rotater"===e)return s;n+=t.Util.degToRad(p[e]||0);const i=(t.Util.radToDeg(n)%360+360)%360;return t.Util._inRange(i,337.5,360)||t.Util._inRange(i,0,22.5)?"ns-resize":t.Util._inRange(i,22.5,67.5)?"nesw-resize":t.Util._inRange(i,67.5,112.5)?"ew-resize":t.Util._inRange(i,112.5,157.5)?"nwse-resize":t.Util._inRange(i,157.5,202.5)?"ns-resize":t.Util._inRange(i,202.5,247.5)?"nesw-resize":t.Util._inRange(i,247.5,292.5)?"ew-resize":t.Util._inRange(i,292.5,337.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}(e,s,i);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0})),n.on("mouseout",(()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(n)}_createBack(){const e=new s.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(e,n){const s=n.getParent(),i=s.padding();e.beginPath(),e.rect(-i,-i,n.width()+2*i,n.height()+2*i),e.moveTo(n.width()/2,-i),s.rotateEnabled()&&s.rotateLineVisible()&&e.lineTo(n.width()/2,-s.rotateAnchorOffset()*t.Util._sign(n.height())-i),e.fillStrokeShape(n)},hitFunc:(t,e)=>{if(!this.shouldOverdrawWholeArea())return;const n=this.padding();t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e)}});this.add(e),this._proxyDrag(e),e.on("dragstart",(t=>{t.cancelBubble=!0})),e.on("dragmove",(t=>{t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){if(this._transforming)return;this._movingAnchorName=t.target.name().split(" ")[0];const e=this._getNodeRect(),n=e.width,s=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(s,2));this.sin=Math.abs(s/i),this.cos=Math.abs(n/i),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},b++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t.evt,target:e})}))}_handleMouseMove(t){let e,n,s;const i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(t);const r=o.getPointerPosition();let l={x:r.x-this._anchorDragOffset.x,y:r.y-this._anchorDragOffset.y};const c=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,t)),i.setAbsolutePosition(l);const h=i.getAbsolutePosition();if(c.x===h.x&&c.y===h.y)return;if("rotater"===this._movingAnchorName){const s=this._getNodeRect();e=i.x()-s.width/2,n=-i.y()+s.height/2;let o=Math.atan2(-n,e)+Math.PI/2;s.height<0&&(o-=Math.PI);const r=a.Konva.getAngle(this.rotation())+o,l=a.Konva.getAngle(this.rotationSnapTolerance()),c=function(t,e,n){let s=e;for(let i=0;i<t.length;i++){const o=a.Konva.getAngle(t[i]),r=Math.abs(o-e)%(2*Math.PI);Math.min(r,2*Math.PI-r)<n&&(s=o)}return s}(this.rotationSnaps(),r,l),h=function(t,e){const n=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return g(t,e,n)}(s,c-s.rotation);return void this._fitNodesInto(h,t)}const d=this.shiftBehavior();let u;u="inverted"===d?this.keepRatio()&&!t.shiftKey:"none"===d?this.keepRatio():this.keepRatio()||t.shiftKey;var p=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(u){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(m.x-i.x(),2)+Math.pow(m.y-i.y(),2));var f=this.findOne(".top-left").x()>m.x?-1:1,b=this.findOne(".top-left").y()>m.y?-1:1;e=s*this.cos*f,n=s*this.sin*b,this.findOne(".top-left").x(m.x-e),this.findOne(".top-left").y(m.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){u&&(m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},s=Math.sqrt(Math.pow(i.x()-m.x,2)+Math.pow(m.y-i.y(),2)),f=this.findOne(".top-right").x()<m.x?-1:1,b=this.findOne(".top-right").y()>m.y?-1:1,e=s*this.cos*f,n=s*this.sin*b,this.findOne(".top-right").x(m.x+e),this.findOne(".top-right").y(m.y-n));var w=i.position();this.findOne(".top-left").y(w.y),this.findOne(".bottom-right").x(w.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(i.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(i.x()):"bottom-left"===this._movingAnchorName?(u&&(m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},s=Math.sqrt(Math.pow(m.x-i.x(),2)+Math.pow(i.y()-m.y,2)),f=m.x<i.x()?-1:1,b=i.y()<m.y?-1:1,e=s*this.cos*f,n=s*this.sin*b,i.x(m.x-e),i.y(m.y+n)),w=i.position(),this.findOne(".top-left").x(w.x),this.findOne(".bottom-right").y(w.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(i.y()):"bottom-right"===this._movingAnchorName&&u&&(m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},s=Math.sqrt(Math.pow(i.x()-m.x,2)+Math.pow(i.y()-m.y,2)),f=this.findOne(".bottom-right").x()<m.x?-1:1,b=this.findOne(".bottom-right").y()<m.y?-1:1,e=s*this.cos*f,n=s*this.sin*b,this.findOne(".bottom-right").x(m.x+e),this.findOne(".bottom-right").y(m.y+n));if(p=this.centeredScaling()||t.altKey){const t=this.findOne(".top-left"),e=this.findOne(".bottom-right"),n=t.x(),s=t.y(),i=this.getWidth()-e.x(),o=this.getHeight()-e.y();e.move({x:-n,y:-s}),t.move({x:i,y:o})}const y=this.findOne(".top-left").getAbsolutePosition();e=y.x,n=y.y;const x=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),v=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:x,height:v,rotation:a.Konva.getAngle(this.rotation())},t)}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var e;if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();b--,this._fire("transformend",{evt:t,target:n}),null===(e=this.getLayer())||void 0===e||e.batchDraw(),n&&this._nodes.forEach((e=>{var n;e._fire("transformend",{evt:t,target:e}),null===(n=e.getLayer())||void 0===n||n.batchDraw()})),this._movingAnchorName=null}}_fitNodesInto(e,n){const s=this._getNodeRect();if(t.Util._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(t.Util._inRange(e.height,2*-this.padding()-1,1))return void this.update();const i=new t.Transform;if(i.rotate(a.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=i.point({x:2*-this.padding(),y:0});e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=i.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=i.point({x:0,y:2*-this.padding()});e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=i.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const n=this.boundBoxFunc()(s,e);n?e=n:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,r=new t.Transform;r.translate(s.x,s.y),r.rotate(s.rotation),r.scale(s.width/o,s.height/o);const l=new t.Transform,c=e.width/o,h=e.height/o;!1===this.flipEnabled()?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(h))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,h));const d=l.multiply(r.invert());this._nodes.forEach((e=>{var n;const s=e.getParent().getAbsoluteTransform(),i=e.getTransform().copy();i.translate(e.offsetX(),e.offsetY());const o=new t.Transform;o.multiply(s.copy().invert()).multiply(d).multiply(s).multiply(i);const a=o.decompose();e.setAttrs(a),null===(n=e.getLayer())||void 0===n||n.batchDraw()})),this.rotation(t.Util._getRotation(e.rotation)),this._nodes.forEach((t=>{this._fire("transform",{evt:n,target:t}),t._fire("transform",{evt:n,target:t})})),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var e;const n=this._getNodeRect();this.rotation(t.Util._getRotation(n.rotation));const s=n.width,i=n.height,o=this.enabledAnchors(),a=this.resizeEnabled(),r=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach((t=>{t.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+r,offsetY:l/2+r,visible:a&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:s/2,y:0,offsetY:l/2+r,visible:a&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:s,y:0,offsetX:l/2-r,offsetY:l/2+r,visible:a&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+r,visible:a&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:s,y:i/2,offsetX:l/2-r,visible:a&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+r,offsetY:l/2-r,visible:a&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:s/2,y:i,offsetY:l/2-r,visible:a&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:s,y:i,offsetX:l/2-r,offsetY:l/2-r,visible:a&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:s/2,y:-this.rotateAnchorOffset()*t.Util._sign(i)-r,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:s,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const h=this.anchorStyleFunc();h&&c.forEach((t=>{h(t)})),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(t){return n.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};return co.Transformer=w,w.isTransforming=()=>b>0,w.prototype.className="Transformer",(0,l._registerNode)(w),e.Factory.addGetterSetter(w,"enabledAnchors",f,(function(e){return e instanceof Array||t.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===f.indexOf(e)&&t.Util.warn("Unknown anchor name: "+e+". Available names are: "+f.join(", "))})),e||[]})),e.Factory.addGetterSetter(w,"flipEnabled",!0,(0,r.getBooleanValidator)()),e.Factory.addGetterSetter(w,"resizeEnabled",!0),e.Factory.addGetterSetter(w,"anchorSize",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(w,"rotateEnabled",!0),e.Factory.addGetterSetter(w,"rotateLineVisible",!0),e.Factory.addGetterSetter(w,"rotationSnaps",[]),e.Factory.addGetterSetter(w,"rotateAnchorOffset",50,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(w,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(w,"rotationSnapTolerance",5,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(w,"borderEnabled",!0),e.Factory.addGetterSetter(w,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(w,"anchorStrokeWidth",1,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(w,"anchorFill","white"),e.Factory.addGetterSetter(w,"anchorCornerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(w,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(w,"borderStrokeWidth",1,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(w,"borderDash"),e.Factory.addGetterSetter(w,"keepRatio",!0),e.Factory.addGetterSetter(w,"shiftBehavior","default"),e.Factory.addGetterSetter(w,"centeredScaling",!1),e.Factory.addGetterSetter(w,"ignoreStroke",!1),e.Factory.addGetterSetter(w,"padding",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(w,"nodes"),e.Factory.addGetterSetter(w,"node"),e.Factory.addGetterSetter(w,"boundBoxFunc"),e.Factory.addGetterSetter(w,"anchorDragBoundFunc"),e.Factory.addGetterSetter(w,"anchorStyleFunc"),e.Factory.addGetterSetter(w,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(w,"useSingleNodeRotation",!0),e.Factory.backCompat(w,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),co}(),b=function(){if(ho)return _o;ho=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.Wedge=void 0;const t=G(),e=U(),n=Y(),s=q(),i=Y();let o=class extends e.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}};return _o.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(o),t.Factory.addGetterSetter(o,"radius",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(o,"angle",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(o,"clockwise",!1),t.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),_o}(),w=function(){if(uo)return Eo;uo=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.Blur=void 0;const t=G(),e=et(),n=q();function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];return Eo.Blur=function(t){const e=Math.round(this.blurRadius());e>0&&function(t,e){const n=t.data,a=t.width,r=t.height;let l,c,h,d,u,p,m,f,g,b,w,y,x,v,S,k,j,N,C,T,P,L,A,M;const _=e+e+1,$=a-1,E=r-1,B=e+1,O=B*(B+1)/2,D=new s,I=i[e],F=o[e];let q=null,H=D,G=null,V=null;for(h=1;h<_;h++)H=H.next=new s,h===B&&(q=H);for(H.next=D,m=p=0,c=0;c<r;c++){for(k=j=N=C=f=g=b=w=0,y=B*(T=n[p]),x=B*(P=n[p+1]),v=B*(L=n[p+2]),S=B*(A=n[p+3]),f+=O*T,g+=O*P,b+=O*L,w+=O*A,H=D,h=0;h<B;h++)H.r=T,H.g=P,H.b=L,H.a=A,H=H.next;for(h=1;h<B;h++)d=p+(($<h?$:h)<<2),f+=(H.r=T=n[d])*(M=B-h),g+=(H.g=P=n[d+1])*M,b+=(H.b=L=n[d+2])*M,w+=(H.a=A=n[d+3])*M,k+=T,j+=P,N+=L,C+=A,H=H.next;for(G=D,V=q,l=0;l<a;l++)n[p+3]=A=w*I>>F,0!==A?(A=255/A,n[p]=(f*I>>F)*A,n[p+1]=(g*I>>F)*A,n[p+2]=(b*I>>F)*A):n[p]=n[p+1]=n[p+2]=0,f-=y,g-=x,b-=v,w-=S,y-=G.r,x-=G.g,v-=G.b,S-=G.a,d=m+((d=l+e+1)<$?d:$)<<2,k+=G.r=n[d],j+=G.g=n[d+1],N+=G.b=n[d+2],C+=G.a=n[d+3],f+=k,g+=j,b+=N,w+=C,G=G.next,y+=T=V.r,x+=P=V.g,v+=L=V.b,S+=A=V.a,k-=T,j-=P,N-=L,C-=A,V=V.next,p+=4;m+=a}for(l=0;l<a;l++){for(j=N=C=k=g=b=w=f=0,p=l<<2,y=B*(T=n[p]),x=B*(P=n[p+1]),v=B*(L=n[p+2]),S=B*(A=n[p+3]),f+=O*T,g+=O*P,b+=O*L,w+=O*A,H=D,h=0;h<B;h++)H.r=T,H.g=P,H.b=L,H.a=A,H=H.next;for(u=a,h=1;h<=e;h++)p=u+l<<2,f+=(H.r=T=n[p])*(M=B-h),g+=(H.g=P=n[p+1])*M,b+=(H.b=L=n[p+2])*M,w+=(H.a=A=n[p+3])*M,k+=T,j+=P,N+=L,C+=A,H=H.next,h<E&&(u+=a);for(p=l,G=D,V=q,c=0;c<r;c++)d=p<<2,n[d+3]=A=w*I>>F,A>0?(A=255/A,n[d]=(f*I>>F)*A,n[d+1]=(g*I>>F)*A,n[d+2]=(b*I>>F)*A):n[d]=n[d+1]=n[d+2]=0,f-=y,g-=x,b-=v,w-=S,y-=G.r,x-=G.g,v-=G.b,S-=G.a,d=l+((d=c+B)<E?d:E)*a<<2,f+=k+=G.r=n[d],g+=j+=G.g=n[d+1],b+=N+=G.b=n[d+2],w+=C+=G.a=n[d+3],G=G.next,y+=T=V.r,x+=P=V.g,v+=L=V.b,S+=A=V.a,k-=T,j-=P,N-=L,C-=A,V=V.next,p+=a}}(t,e)},t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Eo}(),y=function(){if(po)return Bo;po=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.Brighten=void 0;const t=G(),e=et(),n=q();return Bo.Brighten=function(t){const e=255*this.brightness(),n=t.data,s=n.length;for(let t=0;t<s;t+=4)n[t]+=e,n[t+1]+=e,n[t+2]+=e},t.Factory.addGetterSetter(e.Node,"brightness",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Bo}(),x=function(){if(mo)return $o;mo=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.Contrast=void 0;const t=G(),e=et(),n=q();return $o.Contrast=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,s=n.length;let i=150,o=150,a=150;for(let t=0;t<s;t+=4)i=n[t],o=n[t+1],a=n[t+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,n[t]=i,n[t+1]=o,n[t+2]=a},t.Factory.addGetterSetter(e.Node,"contrast",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),$o}(),v=function(){if(fo)return Do;fo=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.Emboss=void 0;const t=G(),e=et(),n=Z(),s=q();return Do.Emboss=function(t){const e=10*this.embossStrength(),s=255*this.embossWhiteLevel(),i=this.embossDirection(),o=this.embossBlend(),a=t.data,r=t.width,l=t.height,c=4*r;let h=0,d=0,u=l;switch(i){case"top-left":h=-1,d=-1;break;case"top":h=-1,d=0;break;case"top-right":h=-1,d=1;break;case"right":h=0,d=1;break;case"bottom-right":h=1,d=1;break;case"bottom":h=1,d=0;break;case"bottom-left":h=1,d=-1;break;case"left":h=0,d=-1;break;default:n.Util.error("Unknown emboss direction: "+i)}do{const t=(u-1)*c;let n=h;u+n<1&&(n=0),u+n>l&&(n=0);const i=(u-1+n)*r*4;let p=r;do{const n=t+4*(p-1);let l=d;p+l<1&&(l=0),p+l>r&&(l=0);const c=i+4*(p-1+l),h=a[n]-a[c],u=a[n+1]-a[c+1],m=a[n+2]-a[c+2];let f=h;const g=f>0?f:-f;if((u>0?u:-u)>g&&(f=u),(m>0?m:-m)>g&&(f=m),f*=e,o){const t=a[n]+f,e=a[n+1]+f,s=a[n+2]+f;a[n]=t>255?255:t<0?0:t,a[n+1]=e>255?255:e<0?0:e,a[n+2]=s>255?255:s<0?0:s}else{let t=s-f;t<0?t=0:t>255&&(t=255),a[n]=a[n+1]=a[n+2]=t}}while(--p)}while(--u)},t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,t.Factory.afterSetFilter),Do}(),S=function(){if(go)return Oo;go=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.Enhance=void 0;const t=G(),e=et(),n=q();function s(t,e,n,s,i){const o=n-e,a=i-s;if(0===o)return s+a/2;if(0===a)return s;let r=(t-e)/o;return r=a*r+s,r}return Oo.Enhance=function(t){const e=t.data,n=e.length;let i,o,a,r=e[0],l=r,c=e[1],h=c,d=e[2],u=d;const p=this.enhance();if(0===p)return;for(let t=0;t<n;t+=4)i=e[t+0],i<r?r=i:i>l&&(l=i),o=e[t+1],o<c?c=o:o>h&&(h=o),a=e[t+2],a<d?d=a:a>u&&(u=a);let m,f,g,b,w,y,x,v,S;l===r&&(l=255,r=0),h===c&&(h=255,c=0),u===d&&(u=255,d=0),p>0?(f=l+p*(255-l),g=r-p*(r-0),w=h+p*(255-h),y=c-p*(c-0),v=u+p*(255-u),S=d-p*(d-0)):(m=.5*(l+r),f=l+p*(l-m),g=r+p*(r-m),b=.5*(h+c),w=h+p*(h-b),y=c+p*(c-b),x=.5*(u+d),v=u+p*(u-x),S=d+p*(d-x));for(let t=0;t<n;t+=4)e[t+0]=s(e[t+0],r,l,g,f),e[t+1]=s(e[t+1],c,h,y,w),e[t+2]=s(e[t+2],d,u,S,v)},t.Factory.addGetterSetter(e.Node,"enhance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Oo}(),k=(bo||(bo=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.Grayscale=void 0,Fo.Grayscale=function(t){const e=t.data,n=e.length;for(let t=0;t<n;t+=4){const n=.34*e[t]+.5*e[t+1]+.16*e[t+2];e[t]=n,e[t+1]=n,e[t+2]=n}}),Fo),j=function(){if(wo)return Io;wo=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.HSL=void 0;const t=G(),e=et(),n=q();return t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Io.HSL=function(t){const e=t.data,n=e.length,s=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=127*this.luminance(),a=1*s*Math.cos(i*Math.PI/180),r=1*s*Math.sin(i*Math.PI/180),l=.299+.701*a+.167*r,c=.587-.587*a+.33*r,h=.114-.114*a-.497*r,d=.299-.299*a-.328*r,u=.587+.413*a+.035*r,p=.114-.114*a+.293*r,m=.299-.3*a+1.25*r,f=.587-.586*a-1.05*r,g=.114+.886*a-.2*r;let b,w,y,x;for(let t=0;t<n;t+=4)b=e[t+0],w=e[t+1],y=e[t+2],x=e[t+3],e[t+0]=l*b+c*w+h*y+o,e[t+1]=d*b+u*w+p*y+o,e[t+2]=m*b+f*w+g*y+o,e[t+3]=x},Io}(),N=function(){if(yo)return Ho;yo=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.HSV=void 0;const t=G(),e=et(),n=q();return Ho.HSV=function(t){const e=t.data,n=e.length,s=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,a=s*i*Math.cos(o*Math.PI/180),r=s*i*Math.sin(o*Math.PI/180),l=.299*s+.701*a+.167*r,c=.587*s-.587*a+.33*r,h=.114*s-.114*a-.497*r,d=.299*s-.299*a-.328*r,u=.587*s+.413*a+.035*r,p=.114*s-.114*a+.293*r,m=.299*s-.3*a+1.25*r,f=.587*s-.586*a-1.05*r,g=.114*s+.886*a-.2*r;let b,w,y,x;for(let t=0;t<n;t+=4)b=e[t+0],w=e[t+1],y=e[t+2],x=e[t+3],e[t+0]=l*b+c*w+h*y,e[t+1]=d*b+u*w+p*y,e[t+2]=m*b+f*w+g*y,e[t+3]=x},t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Ho}(),C=(xo||(xo=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.Invert=void 0,zo.Invert=function(t){const e=t.data,n=e.length;for(let t=0;t<n;t+=4)e[t]=255-e[t],e[t+1]=255-e[t+1],e[t+2]=255-e[t+2]}),zo),T=function(){if(vo)return Vo;vo=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.Kaleidoscope=void 0;const t=G(),e=et(),n=Z(),s=q();return Vo.Kaleidoscope=function(t){const e=t.width,s=t.height;let i,o,a,r,l,c,h,d,u,p,m=Math.round(this.kaleidoscopePower());const f=Math.round(this.kaleidoscopeAngle()),g=Math.floor(e*(f%360)/360);if(m<1)return;const b=n.Util.createCanvasElement();b.width=e,b.height=s;const w=b.getContext("2d").getImageData(0,0,e,s);n.Util.releaseCanvas(b),function(t,e,n){const s=t.data,i=e.data,o=t.width,a=t.height,r=n.polarCenterX||o/2,l=n.polarCenterY||a/2;let c=Math.sqrt(r*r+l*l),h=o-r,d=a-l;const u=Math.sqrt(h*h+d*d);c=u>c?u:c;const p=a,m=o,f=360/m*Math.PI/180;for(let t=0;t<m;t+=1){const e=Math.sin(t*f),n=Math.cos(t*f);for(let a=0;a<p;a+=1){h=Math.floor(r+c*a/p*n),d=Math.floor(l+c*a/p*e);let u=4*(d*o+h);const m=s[u+0],f=s[u+1],g=s[u+2],b=s[u+3];u=4*(t+a*o),i[u+0]=m,i[u+1]=f,i[u+2]=g,i[u+3]=b}}}(t,w,{polarCenterX:e/2,polarCenterY:s/2});let y=e/Math.pow(2,m);for(;y<=8;)y*=2,m-=1;y=Math.ceil(y);let x=y,v=0,S=x,k=1;for(g+y>e&&(v=x,S=0,k=-1),o=0;o<s;o+=1)for(i=v;i!==S;i+=k)a=Math.round(i+g)%e,u=4*(e*o+a),l=w.data[u+0],c=w.data[u+1],h=w.data[u+2],d=w.data[u+3],p=4*(e*o+i),w.data[p+0]=l,w.data[p+1]=c,w.data[p+2]=h,w.data[p+3]=d;for(o=0;o<s;o+=1)for(x=Math.floor(y),r=0;r<m;r+=1){for(i=0;i<x+1;i+=1)u=4*(e*o+i),l=w.data[u+0],c=w.data[u+1],h=w.data[u+2],d=w.data[u+3],p=4*(e*o+2*x-i-1),w.data[p+0]=l,w.data[p+1]=c,w.data[p+2]=h,w.data[p+3]=d;x*=2}!function(t,e,n){const s=t.data,i=e.data,o=t.width,a=t.height,r=n.polarCenterX||o/2,l=n.polarCenterY||a/2;let c=Math.sqrt(r*r+l*l),h=o-r,d=a-l;const u=Math.sqrt(h*h+d*d);c=u>c?u:c;const p=a,m=o;let f,g;for(h=0;h<o;h+=1)for(d=0;d<a;d+=1){const t=h-r,e=d-l,n=Math.sqrt(t*t+e*e)*p/c;let a=(180*Math.atan2(e,t)/Math.PI+360+0)%360;a=a*m/360,f=Math.floor(a),g=Math.floor(n);let u=4*(g*o+f);const b=s[u+0],w=s[u+1],y=s[u+2],x=s[u+3];u=4*(d*o+h),i[u+0]=b,i[u+1]=w,i[u+2]=y,i[u+3]=x}}(w,t,{})},t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),Vo}(),P=function(){if(So)return Ro;So=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.Mask=void 0;const t=G(),e=et(),n=q();function s(t,e,n){let s=4*(n*t.width+e);const i=[];return i.push(t.data[s++],t.data[s++],t.data[s++],t.data[s++]),i}function i(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}return Ro.Mask=function(t){let e=function(t,e){const n=s(t,0,0),o=s(t,t.width-1,0),a=s(t,0,t.height-1),r=s(t,t.width-1,t.height-1),l=e||10;if(i(n,o)<l&&i(o,r)<l&&i(r,a)<l&&i(a,n)<l){const e=function(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([o,n,r,a]),s=[];for(let n=0;n<t.width*t.height;n++){const o=i(e,[t.data[4*n],t.data[4*n+1],t.data[4*n+2]]);s[n]=o<l?0:255}return s}}(t,this.threshold());return e&&(e=function(t,e,n){const s=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(s.length)),o=Math.floor(i/2),a=[];for(let r=0;r<n;r++)for(let l=0;l<e;l++){const c=r*e+l;let h=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=r+a-o,u=l+c-o;if(d>=0&&d<n&&u>=0&&u<e){const n=s[a*i+c];h+=t[d*e+u]*n}}a[c]=2040===h?255:0}return a}(e,t.width,t.height),e=function(t,e,n){const s=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(s.length)),o=Math.floor(i/2),a=[];for(let r=0;r<n;r++)for(let l=0;l<e;l++){const c=r*e+l;let h=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=r+a-o,u=l+c-o;if(d>=0&&d<n&&u>=0&&u<e){const n=s[a*i+c];h+=t[d*e+u]*n}}a[c]=h>=1020?255:0}return a}(e,t.width,t.height),e=function(t,e,n){const s=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(s.length)),o=Math.floor(i/2),a=[];for(let r=0;r<n;r++)for(let l=0;l<e;l++){const c=r*e+l;let h=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=r+a-o,u=l+c-o;if(d>=0&&d<n&&u>=0&&u<e){const n=s[a*i+c];h+=t[d*e+u]*n}}a[c]=h}return a}(e,t.width,t.height),function(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e)),t},t.Factory.addGetterSetter(e.Node,"threshold",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Ro}(),L=function(){if(ko)return Ko;ko=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.Noise=void 0;const t=G(),e=et(),n=q();return Ko.Noise=function(t){const e=255*this.noise(),n=t.data,s=n.length,i=e/2;for(let t=0;t<s;t+=4)n[t+0]+=i-2*i*Math.random(),n[t+1]+=i-2*i*Math.random(),n[t+2]+=i-2*i*Math.random()},t.Factory.addGetterSetter(e.Node,"noise",.2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Ko}(),A=function(){if(jo)return Wo;jo=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.Pixelate=void 0;const t=G(),e=Z(),n=et(),s=q();return Wo.Pixelate=function(t){let n,s,i,o,a,r,l,c,h,d,u,p,m,f,g=Math.ceil(this.pixelSize()),b=t.width,w=t.height,y=Math.ceil(b/g),x=Math.ceil(w/g),v=t.data;if(g<=0)e.Util.error("pixelSize value can not be <= 0");else for(p=0;p<y;p+=1)for(m=0;m<x;m+=1){for(o=0,a=0,r=0,l=0,c=p*g,h=c+g,d=m*g,u=d+g,f=0,n=c;n<h;n+=1)if(!(n>=b))for(s=d;s<u;s+=1)s>=w||(i=4*(b*s+n),o+=v[i+0],a+=v[i+1],r+=v[i+2],l+=v[i+3],f+=1);for(o/=f,a/=f,r/=f,l/=f,n=c;n<h;n+=1)if(!(n>=b))for(s=d;s<u;s+=1)s>=w||(i=4*(b*s+n),v[i+0]=o,v[i+1]=a,v[i+2]=r,v[i+3]=l)}},t.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),Wo}(),M=function(){if(No)return Go;No=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.Posterize=void 0;const t=G(),e=et(),n=q();return Go.Posterize=function(t){const e=Math.round(254*this.levels())+1,n=t.data,s=n.length,i=255/e;for(let t=0;t<s;t+=1)n[t]=Math.floor(n[t]/i)*i},t.Factory.addGetterSetter(e.Node,"levels",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Go}(),_=function(){if(Co)return Uo;Co=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.RGB=void 0;const t=G(),e=et(),n=q();return Uo.RGB=function(t){const e=t.data,n=e.length,s=this.red(),i=this.green(),o=this.blue();for(let t=0;t<n;t+=4){const n=(.34*e[t]+.5*e[t+1]+.16*e[t+2])/255;e[t]=n*s,e[t+1]=n*i,e[t+2]=n*o,e[t+3]=e[t+3]}},t.Factory.addGetterSetter(e.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),t.Factory.addGetterSetter(e.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),Uo}(),$=function(){if(To)return qo;To=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.RGBA=void 0;const t=G(),e=et(),n=q();return qo.RGBA=function(t){const e=t.data,n=e.length,s=this.red(),i=this.green(),o=this.blue(),a=this.alpha();for(let t=0;t<n;t+=4){const n=1-a;e[t]=s*a+e[t]*n,e[t+1]=i*a+e[t+1]*n,e[t+2]=o*a+e[t+2]*n}},t.Factory.addGetterSetter(e.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),t.Factory.addGetterSetter(e.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})),qo}(),E=(Po||(Po=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Sepia=void 0,Yo.Sepia=function(t){const e=t.data,n=e.length;for(let t=0;t<n;t+=4){const n=e[t+0],s=e[t+1],i=e[t+2];e[t+0]=Math.min(255,.393*n+.769*s+.189*i),e[t+1]=Math.min(255,.349*n+.686*s+.168*i),e[t+2]=Math.min(255,.272*n+.534*s+.131*i)}}),Yo),B=(Ao||(Ao=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.Solarize=void 0,Zo.Solarize=function(t){const e=t.data,n=t.width,s=4*n;let i=t.height;do{const t=(i-1)*s;let o=n;do{const n=t+4*(o-1);let s=e[n],i=e[n+1],a=e[n+2];s>127&&(s=255-s),i>127&&(i=255-i),a>127&&(a=255-a),e[n]=s,e[n+1]=i,e[n+2]=a}while(--o)}while(--i)}),Zo),O=function(){if(Lo)return Xo;Lo=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.Threshold=void 0;const t=G(),e=et(),n=q();return Xo.Threshold=function(t){const e=255*this.threshold(),n=t.data,s=n.length;for(let t=0;t<s;t+=1)n[t]=n[t]<e?0:255},t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Xo}();return Gi.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:n.Arrow,Circle:s.Circle,Ellipse:i.Ellipse,Image:o.Image,Label:a.Label,Tag:a.Tag,Line:r.Line,Path:l.Path,Rect:c.Rect,RegularPolygon:h.RegularPolygon,Ring:d.Ring,Sprite:u.Sprite,Star:p.Star,Text:m.Text,TextPath:f.TextPath,Transformer:g.Transformer,Wedge:b.Wedge,Filters:{Blur:w.Blur,Brighten:y.Brighten,Contrast:x.Contrast,Emboss:v.Emboss,Enhance:S.Enhance,Grayscale:k.Grayscale,HSL:j.HSL,HSV:N.HSV,Invert:C.Invert,Kaleidoscope:T.Kaleidoscope,Mask:P.Mask,Noise:L.Noise,Pixelate:A.Pixelate,Posterize:M.Posterize,RGB:_.RGB,RGBA:$.RGBA,Sepia:E.Sepia,Solarize:B.Solarize,Threshold:O.Threshold}}),Gi}var Jo,ta=Wi.exports;const ea=i(function(){if(Jo)return Wi.exports;Jo=1,Object.defineProperty(ta,"__esModule",{value:!0});const t=Qo();return Wi.exports=t.Konva,Wi.exports}()),na=new(Xi().Rect)({x:0,y:0,width:100,height:100,hitStrokeWidth:0,shadowForStrokeEnabled:!1});na.cache();const sa=new rt.Line({points:[0,0,-100,-100],stroke:"#fff",strokeWidth:1.5,opacity:1});sa.cache();const ia=new lt.Circle({x:-100,y:-100,radius:10,fill:"#000",stroke:"#000",strokeWidth:.2,opacity:.4,perfectDrawEnabled:!0,hitStrokeWidth:0,shadowForStrokeEnabled:!1,width:100,height:100});ia.cache();const oa=new ct.Text({x:500,y:500,text:"",fontStyle:"normal",fontSize:14,fontFamily:"Arial",fill:"#000",strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1,width:10,height:10});oa.cache();const aa=oa.clone({width:"auto",height:"auto"});aa.cache();const ra=aa,la=new ht.Arrow({x:0,y:0,points:[0,0,250,250],pointerLength:12,pointerWidth:6,fill:"black",stroke:"black",strokeWidth:2.5,opacity:1,perfectDrawEnabled:!0,lineJoin:"round",hitStrokeWidth:0,shadowForStrokeEnabled:!1,width:5,height:5});function ca(t,e,n,s,i=!0){let o={x:500,y:500,text:"",fontStyle:"normal",fontSize:e,fontFamily:n,fill:"#000",strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1};o={...o,...t};const a=ra.clone(o);return i&&void 0!==s&&(s.add(a),null!==a&&a.moveToTop()),a}function ha(t,e,n,s,i,o,a,r,l,c){const h=e[n];let d=!1;const u={fontSize:r+2,shadowEnabled:!0,shadowOpacity:0,shadowForStrokeEnabled:!0,align:"left",perfectDrawEnabled:!0,fontStyle:"bold"};u.x=i,u.y=o+7;let p,m=0;const f=["A","B","C","D"];for(let e=0;e<=3;e+=1)if(h[e]===s){d=!0;const n=c[e],s=l[e],i={x:u.x,y:u.y,radius:8.5,fill:n,stroke:s,strokeWidth:1.5,opacity:.7,hitStrokeWidth:0,shadowForStrokeEnabled:!1};u.text=`${f[e]}`,u.fill=l[e],p=ca(u,r+2,a,t,!1),p.x(p.x()-4.7),p.y(p.y()-6),u.x+=m,u.y+=0;const o=ia.clone(i);t.add(o),t.add(p),0===m&&(m=p.getTextWidth()+13)}return d}function da(t,e,n,s,i,o,a,r,l,c,h,d,u,p){let m=!1;const f=e[n.cn].indexOf(l);if(f>=0){m=!0;const e=n.ci,c={opacity:.8,points:[a,r,a,r],fill:d[Number(f)],stroke:d[Number(f)],strokeWidth:1.5,pointerLength:15,pointerWidth:8},h=c.points,g=!!n.sb.includes(l),b=11===e||0===e||1===e||2===e,w=5===e||6===e||7===e||8===e,y=3===e||4===e,x=9===e||10===e,v=u[n.ci],S=n.cno.filter((t=>t===n.ci)).length,k=63===l&&1===S,j=4===p.cfg[ti.typeLs]||5===p.cfg[ti.typeLs];if(b||w){let t=0;const n=Number(p.ars[e].zolk[0][si.currentLoc]),a=Number(p.ars[e].zolk[3][si.currentKi]);t=a>9||n>9?13:a>0||n>0?5:0,t=1===p.cfg[ti.locKiToanDo]?t:0,h[0]=s.x+(g?i/2+(b?t:0):i/2-(k?23:2===S?10:6))-15*v,h[1]=h[1]+(g?6:3),h[2]=h[0],h[3]=w?5:b?s.y+o+23:h[3]}y&&(h[0]=s.x+(g||j?45:10),h[1]=h[1]+(g?6:5),h[2]=5,h[3]=h[1]),x&&(h[0]=s.x+i/2+(g?35:j?45:-15),h[1]=h[1]+(g?6:5),h[2]=s.x+i+23,h[3]=h[1]),t.add(la.clone(c))}return m}function ua(t,e,n,s,i,o,a,r,l,c){if(a.cfg[ti.showHoaIcon]<1)return!1;let h=!1;const d=e[a.ars[a.dvidx].cn].indexOf(o);return d>=0&&(h=!0,t.add(na.clone({x:s,y:i,width:9,height:9,fill:c[Number(d)],stroke:c[Number(d)],strokeWidth:0,draggable:!1,opacity:.8,perfectDrawEnabled:!0,cornerRadius:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),t.add(ca({text:"2",x:s+1.8,y:i+.5,fontSize:r-4,fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,t))),h}function pa(t,e,n,s,i,o,a,r,l,c){if(a.cfg[ti.showHoaIcon]<2)return!1;const h=i+4.3;let d=!1;const u=e[a.dtv.bs.y[0]].indexOf(o);return u>=0&&(d=!0,t.add(ia.clone({x:s+2.8,y:h,radius:5,fill:c[u],strokeWidth:0,opacity:.8,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),t.add(ca({text:"3",x:Number(s+1),y:Number(h-3.8),fontSize:Number(r-4),fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,t))),d}function ma(t,e,n,s,i,o,a,r,l,c){if(a.cfg[ti.showHoaIcon]<3)return!1;const h=i+4.1;let d=!1;const u=e[a.dtv.bs.m[0]].indexOf(o);return u>=0&&(d=!0,t.add(ia.clone({x:s+2.8,y:h,radius:5,fill:c[u],strokeWidth:0,opacity:.8,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),t.add(ca({text:"4",x:Number(s+.7),y:Number(h-3.8),fontSize:Number(r-4),fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,t))),d}function fa(t,e,n,s,i,o,a,r,l,c){if(a.cfg[ti.showHoaIcon]<4)return!1;const h=i+4.1;let d=!1;const u=e[a.dtv.bs.d[0]].indexOf(o);return u>=0&&(d=!0,t.add(ia.clone({x:s+2.8,y:h,radius:5,fill:c[u],strokeWidth:0,opacity:.8,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),t.add(ca({text:"5",x:Number(s+.7),y:Number(h-3.8),fontSize:Number(r-4),fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,t))),d}function ga(t){const{color:e,colorHoa:n,colorHoaFill:s,fontPhuTinh:i,idx:o,cung:a,fontDV:p,fontFamilySet:f,typeLs:g,pos:b,hafWSquare:w,padContentTop:y,padContentBottom:x,padContent:v,wSquare:S,hSquare:k,cfgLs:j}=t,{ls:N}=t,C=new dt.Group({});function T(t,e,n=.2,s=0){const i=na.clone({x:t.x()-s/2-2,y:t.y()-s/2-1.8,fill:e,width:t.width()+s+4,height:t.height()+s,perfectDrawEnabled:!0,strokeWidth:0,opacity:n,cornerRadius:4,hitStrokeWidth:0,shadowForStrokeEnabled:!1});return C.add(i),null!==i&&i.moveToTop(),null!==t&&t.moveToTop(),i}return function(){let t=u[a.ai];t=`${u[a.ai]}`,3===g&&ca({text:a.dv.toString(),fill:"#000",x:-1e4,y:-1e4,fontStyle:"bold"},p,f,C,!1).destroy();let n=N.at===o?`${t}(T)`:t;4!==g&&5!==g||(n=t);const s={text:n,fill:"#000",x:Number(b.x)+w,y:Number(b.y)+y,fontStyle:"bold",align:"left"},i=ca(s,p-1,f,C);if(i.x(i.x()-i.getTextWidth()/2),C.add(ra.clone({x:i.x()-14,y:i.y()-.3,text:"▲",fontStyle:"normal",fontSize:p-1,fontFamily:"Arial",fill:e[D[o]],perfectDrawEnabled:!0,opacity:2===D[o]?.8:.6,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),0===a.ai||4===a.ai||a.ai,0===a.ai){const t=na.clone({x:b.x+1,y:b.y+1,width:S-1,height:k-1,fill:"#f0e9de",hitStrokeWidth:0,shadowForStrokeEnabled:!1,opacity:.6});C.add(t)}N.am===o&&T(i,s.fill,.3),s.text=a.dv,s.fill=e[m[a.na]];const r=ca(s,p-1,f,C);r.x(i.x()+i.width()+5);const l=T(r,e[m[a.na]],.1);let c=!1;if(a.cn===N.dtb.bs.y[0]&&0!==o&&1!==o&&(s.fontStyle="bold",s.text=`${s.text}`,c=!0),c){s.fill="#555",s.text="☸",s.x=i.x()+i.getTextWidth()+2,s.y=i.y(),s.fontSize=p-2,s.shadowBlur=0,s.shadowEnabled=!1;const t=ca(s,p,f,C);r.x(t.x()+t.getTextWidth()+2),l.x(r.x()-2)}}(),1===Number(j[ti.rotateZone])&&function(){if(3===g)return;const t={text:`${u[a.aid]}2`,fill:"#555",x:b.x+v,y:b.y+y,fontStyle:"bold",opacity:.8,fontSize:p-2},e=ca(t,p-3,f,C);a.dvc&&T(e,t.fill,.2)}(),function(){if(4!==g)return;let t=21;1===j[ti.batTuCung]&&1===j[ti.showSun]&&(t=33),0===Number(j[ti.showSun])&&0===j[ti.batTuCung]&&(t=12),0===j[ti.isNapAmCung]&&(t=2);let e=!1;if(a.ci===N.ars[N.am].cno[0]){e=!0;const i=18,o=18,a=na.clone({x:b.x+v,y:b.y+x-t-4,width:15,height:15,fill:s[0],stroke:n[0],strokeWidth:1,opacity:.7,hitStrokeWidth:0,shadowForStrokeEnabled:!1,cornerRadius:2});C.add(a);const r=ca({text:"A",fill:n[0],x:a.x(),y:a.y(),fontSize:p-2},p-2,f,C);r.x(a.x()+i/2-r.getTextWidth()/2-1),r.y(a.y()+o/2-r.getTextWidth()/2-1.3)}if(a.ci===N.ars[N.am].cno[3]){const i=18,o=18,a=na.clone({x:b.x+v,y:b.y+x-t-4,width:15,height:15,fill:s[3],stroke:n[3],strokeWidth:1,opacity:.7,hitStrokeWidth:0,shadowForStrokeEnabled:!1,cornerRadius:2});C.add(a);const r=ca({text:"D",fill:n[3],x:a.x(),y:a.y(),fontSize:p-2},p-2,f,C);r.x(a.x()+i/2-r.getTextWidth()/2-1),r.y(a.y()+o/2-r.getTextWidth()/2-1.3),e&&(a.x(a.x()+18),r.x(r.x()+18))}}(),function(){if(3===g)return;const t=ca({text:`${u[a.ail??0]}3`,fill:"#888",x:b.x+S-v,y:b.y+y,fontStyle:"bold",opacity:1},p-2,f,C);if(t.absolutePosition({x:t.x()-t.getTextWidth(),y:b.y+y}),0===j[ti.rotateZone]&&t.destroy(),4!==g){const n=ca({text:`${h[a.lmpt[2]].charAt(0)} T${a.lmpt[0]}`,fill:e[m[a.lmpt[4]]],x:b.x+S-v,y:t.y()+16.5,fontSize:1===j[ti.rotateZone]?p-3:p-1,opacity:1},p,f,C);n.x(n.x()-n.getTextWidth()),0===j[ti.rotateZone]?n.y(n.y()-16.5):(0===a.ail&&T(t,"#444"),N.dtv.ln.m===a.lmpt[0]&&T(n,"#555"))}}(),function(){const t=`${h[a.cn].charAt(0)}.${d[a.ci]}`,n=1===j[ti.rotateZone]?p-3:p-1;let s=y;1===Number(j[ti.rotateZone])&&(s=y+16);const i=ca({text:t,fill:e[m[a.na]],x:-1e3,y:-1e3,fontSize:n},p,f,C,!1),o={text:t,fill:e[m[a.na]],x:b.x+v,y:b.y+s,fontSize:n};3===g&&(o.y=b.y+v),ca(o,n,f,C),i.destroy()}(),function(){let t={},n=21;if(1===j[ti.batTuCung]&&1===j[ti.showSun]&&(n=33),0===Number(j[ti.showSun])&&0===j[ti.batTuCung]&&(n=12),0===j[ti.isNapAmCung]&&(n=2),4!==g&&5!==g){t={text:`V${a.lmnp[0]}`,fill:"#444",x:b.x+v-2,y:b.y+x-n,fontSize:p-2};const s=ca(t,p,f,C);t={},t.x=b.x+v,t.y=b.y+x-n,t.text=`${d[a.lynp].toUpperCase()}`,t.fill=e[O[a.lynp]],t.align="left",t.fontSize=p-3,t.fontStyle="bold";const i=ca(t,p,f,C);N.dtv.bs.y[1]===a.lynp&&T(i,t.fill),s.x(i.x()+i.getTextWidth()+2),N.dtv.ln.m===a.lmnp[0]&&T(s,"#555")}const s=(a.lmpt[1][0]-1+2)%12,i=N.ars[s],o=ca({text:`${h[i.lmpt[2]].charAt(0)}.${d[i.lmpt[3]]} P${a.lmpt[1][0]}`,fill:e[m[i.lmpt[4]]],x:b.x+S-v,y:b.y+x-n,fontSize:p-2,opacity:1},p,f,C);o.x(o.x()-o.getTextWidth()),N.dtv.ln.m===a.lmpt[1][0]&&T(o,"#555")}(),1===Number(j[ti.isNapAmCung])&&function(){let t=b.y+x;4!==g&&5!==g||(t=b.y+x+7);const n={text:"",fill:e[4],x:b.x+v,y:t,fontSize:i-6,opacity:.7};a.ys.forEach((s=>{const i=n;i.text=s[1],i.fill=e[m[s[2]]];const a=ca(i,p,f,C);s[1]===N.dtv.ln.y&&1===Number(j[ti.showSun])&&T(a,i.fill,.2);const d=a.x()+a.getTextWidth()+4.5;i.text=`${h[s[3]].charAt(0)}`,i.x=a.x(),i.y=a.y()-9;const u=ca(i,p,f,C);i.text=`.${s[0]}`,i.x=u.x()+u.getTextWidth();const g=ca(i,p,f,C);if(s[1]===N.dtv.ln.y&&1===Number(j[ti.showSun])&&(T(u,u.fill(),.2),T(g,g.fill(),.2)),0===Number(j[ti.showSun])&&(a.destroy(),u.y(i.y+10),g.y(u.y()),s[1]===N.dtv.sn.y&&(T(u,u.fill(),.2),T(g,g.fill(),.2))),1===j[ti.batTuCung]){const t=function(t,e){return F[r[l[t]][l[e]][function(t,e){return c[t]===c[e]?1:0}(t,e)]]}(N.dtb.bs.d[0],s[3]);i.text="Thương"===t?"Thg":t,i.fill="#444",i.x=a.x(),1===j[ti.showSun]?i.y=a.y()-20:i.y=a.y()-10,ca(i,p,f,C)}let w=N.cid;if(N.yeo>=N.cid)for(let t=0;t<120&&!(w+10>=N.yeo+1);t+=10)w+=10;N.yeo>=N.cid&&s[0]>=w&&s[0]<w+10&&C.add(ra.clone({x:u.x()+3,y:3===o||4===o||9===o||10===o?b.y+k-5:b.y+k-5.5,text:"▲",fontStyle:"normal",fontSize:p-5,fontFamily:"Arial",fill:"#555",perfectDrawEnabled:!0,opacity:1,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),i.align="left",i.x=d,i.y=t}))}(),t.layer.add(C),t.layer}function ba(t){const{ls:e,color:n,colorHoa:s,colorHoaFill:i,fontPhuTinh:o,cung:a,fontDV:r,fontFamilySet:l,typeLs:c,pos:h,hafWSquare:d,fontChinhTinh:u,hSquare:p,wSquare:m,canHoa:f,thdraw:b}=t,w=new dt.Group({});function y(t,e=!0){let n={x:500,y:500,text:"",fontStyle:"normal",fontSize:r,fontFamily:l,fill:"#000",strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"#fff",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1};n={...n,...t};const s=ra.clone(n);return e&&w.add(s),s}return function(){const t=h.x;let x=h.y+38,v=17;const S={fontSize:u,fontStyle:"normal"};4!==c&&5!==c||(v=25,S.fontSize=u+4,x=h.y+70);const k=void 0!==a.tu||void 0!==a.tu;for(let j=0;j<a.sb.length;j+=1){const N=a.sb[j],C=g[N];if(C.name.length>0){S.text=C.name.toUpperCase(),S.fill=n[C.hh],S.fontStyle="bold";const g=y(S,!1);if(S.x=t+d-g.getTextWidth()/2,S.y=x,4===c){const t={...S,fontSize:u-6,fontStyle:"normal"};if(t.x=S.x,t.y=S.y-9,a.stlk.length>0&&void 0!==a.stlk[N]){const e=a.stlk[N];t.text=`${e[0]}A`,t.fill=s[0];const n=y(t);t.text=`${e[1]}D`,t.fill=s[3];const i=y(t),o=n.getTextWidth()+i.getTextWidth()+4;n.x(h.x+d-o/2),i.x(n.x()+n.getTextWidth()+4),0===e[0]&&n.destroy(),0===e[1]&&(i.destroy(),e[0]>0&&n.x(n.x()+n.getTextWidth()+4))}}const T=C.lvl;let P=!1,L="";void 0!==T&&Object.entries(T).forEach((([t,e],n)=>{Number(t)!==a.ci+1||"M"!==e&&"V"!==e||(P=!0,L=e),Number(t)===a.ci+1&&"H"===e&&(L=e),Number(t)===a.ci+1&&(L=e)})),4!==c&&5!==c&&P&&!k&&(S.shadowColor=n[C.hh],S.shadowBlur=0,S.shadowOpacity=0,S.shadowOffset={x:0,y:0});let A=y(S);if(4!==c&&5!==c&&L.length>0&&y({text:`(${L})`,fill:n[C.hh],fontSize:o-6,x:S.x+A.getTextWidth()+1,y:S.y-1,fontStyle:S.fontStyle}),3!==c&&void 0!==C.nn){const t=S.x-11,c=S.y;ha(w,f,e.dtb.bs.y[0],a.sb[j],t,c,l,r,s,i);const d=A.x()+A.getTextWidth();da(w,f,a,h,m,p,A.x(),A.y(),a.sb[j],0,0,s,b,e)&&(b[a.ci]+=1);const u=d+14,g=A.y()+1.5,x=ua(w,f,0,u,g,a.sb[j],e,r,l,s),v=x?u+12:u,k=pa(w,f,0,v,g,a.sb[j],e,r,l,s),N=k?v+10:x?u+12:u,T=ma(w,f,0,N,g,a.sb[j],e,r,l,s);fa(w,f,0,T?N+10:k?v+10:x?u+12:u,g,a.sb[j],e,r,l,s),y({text:C.nn[1]>0?"+":"-",fill:n[C.hh],fontSize:o-3,x:A.x()+A.getTextWidth()+4,y:A.y()+5,fontStyle:S.fontStyle})}A=ra.clone({}),x+=v}}}(),t.layer.add(w),t.layer}function wa(t){const{colorHoaFill60:e,fontPhuTinh:n,idx:s,cung:i,fontDV:o,fontFamilySet:a,typeLs:r,pos:l,hafWSquare:c,hafHSquare:h,colorHoa:d,padContent:p,xBox12:m,yBox34:f,yBox14:g,yBox12:b,xBox34:w,xBox14:y,getGradient:x,typePhiHoa:v,ls:S,countHt:k}=t,j=new dt.Group({});function N(){const t=[],e=17;return t[0]=[{pos:[m+c,f,y+c,g]},{pos:[y+c,f,m+c,g]},{pos:[y,f,w,g]},{pos:[y,b+h,w,g+h]},{pos:[y,g+h,w,b+h]},{pos:[y,g,w,f]},{pos:[y+c,g,m+c,f]},{pos:[m+c,g,y+c,f]},{pos:[w,g,y,f]},{pos:[w,g+h,y,b+h]},{pos:[w,b+h,y,g+h]},{pos:[w,f,y,g]}],t[1]=[{pos:[t[0][0].pos[0]-e,t[0][0].pos[1],t[0][0].pos[2]+e,t[0][0].pos[3]]},{pos:[t[0][1].pos[0]-e,t[0][1].pos[1],t[0][1].pos[2]+e,t[0][1].pos[3]]},{pos:[t[0][2].pos[0]-e,t[0][2].pos[1],t[0][2].pos[2]+e,t[0][2].pos[3]]},{pos:[t[0][3].pos[0],t[0][3].pos[1]-e,t[0][3].pos[2],t[0][3].pos[3]+e]},{pos:[t[0][4].pos[0],t[0][4].pos[1]-e,t[0][4].pos[2],t[0][4].pos[3]+e]},{pos:[t[0][5].pos[0],t[0][5].pos[1]-e,t[0][5].pos[2],t[0][5].pos[3]+e]},{pos:[t[0][6].pos[0]+e,t[0][6].pos[1],t[0][6].pos[2]-e,t[0][6].pos[3]]},{pos:[t[0][7].pos[0]+e,t[0][7].pos[1],t[0][7].pos[2]-e,t[0][7].pos[3]]},{pos:[t[0][8].pos[0]+e,t[0][8].pos[1],t[0][8].pos[2]-e,t[0][8].pos[3]]},{pos:[t[0][9].pos[0],t[0][9].pos[1]+e,t[0][9].pos[2],t[0][9].pos[3]-e]},{pos:[t[0][10].pos[0],t[0][10].pos[1]+e,t[0][10].pos[2],t[0][10].pos[3]-e]},{pos:[t[0][11].pos[0],t[0][11].pos[1]+e,t[0][11].pos[2],t[0][11].pos[3]-e]}],t[2]=[{pos:[t[0][0].pos[0]+e,t[0][0].pos[1],t[0][0].pos[2]-e,t[0][0].pos[3]]},{pos:[t[0][1].pos[0]+e,t[0][1].pos[1],t[0][1].pos[2]-e,t[0][1].pos[3]]},{pos:[t[0][2].pos[0],t[0][2].pos[1]+e,t[0][2].pos[2],t[0][2].pos[3]-e]},{pos:[t[0][3].pos[0],t[0][3].pos[1]+e,t[0][3].pos[2],t[0][3].pos[3]-e]},{pos:[t[0][4].pos[0],t[0][4].pos[1]+e,t[0][4].pos[2],t[0][4].pos[3]-e]},{pos:[t[0][5].pos[0]-e,t[0][5].pos[1],t[0][5].pos[2]+e,t[0][5].pos[3]]},{pos:[t[0][6].pos[0]-e,t[0][6].pos[1],t[0][6].pos[2]+e,t[0][6].pos[3]]},{pos:[t[0][7].pos[0]-e,t[0][7].pos[1],t[0][7].pos[2]+e,t[0][7].pos[3]]},{pos:[t[0][8].pos[0],t[0][8].pos[1]-e,t[0][8].pos[2],t[0][8].pos[3]+e]},{pos:[t[0][9].pos[0],t[0][9].pos[1]-e,t[0][9].pos[2],t[0][9].pos[3]+e]},{pos:[t[0][10].pos[0],t[0][10].pos[1]-e,t[0][10].pos[2],t[0][10].pos[3]+e]},{pos:[t[0][11].pos[0]+e,t[0][11].pos[1],t[0][11].pos[2]-e,t[0][11].pos[3]]}],t[3]=[{pos:[t[0][0].pos[0]-34,t[0][0].pos[1],t[0][0].pos[2]+34,t[0][0].pos[3]]},{pos:[t[0][1].pos[0]-34,t[0][1].pos[1],t[0][1].pos[2]+34,t[0][1].pos[3]]},{pos:[t[0][2].pos[0]-34,t[0][2].pos[1],t[0][2].pos[2]+34,t[0][2].pos[3]]},{pos:[t[0][3].pos[0],t[0][3].pos[1]-34,t[0][3].pos[2],t[0][3].pos[3]+34]},{pos:[t[0][4].pos[0],t[0][4].pos[1]-34,t[0][4].pos[2],t[0][4].pos[3]+34]},{pos:[t[0][5].pos[0],t[0][5].pos[1]-34,t[0][5].pos[2],t[0][5].pos[3]+34]},{pos:[t[0][6].pos[0]+34,t[0][6].pos[1],t[0][6].pos[2]-34,t[0][6].pos[3]]},{pos:[t[0][7].pos[0]+34,t[0][7].pos[1],t[0][7].pos[2]-34,t[0][7].pos[3]]},{pos:[t[0][8].pos[0]+34,t[0][8].pos[1],t[0][8].pos[2]-34,t[0][8].pos[3]]},{pos:[t[0][9].pos[0],t[0][9].pos[1]+34,t[0][9].pos[2],t[0][9].pos[3]-34]},{pos:[t[0][10].pos[0],t[0][10].pos[1]+34,t[0][10].pos[2],t[0][10].pos[3]-34]},{pos:[t[0][11].pos[0],t[0][11].pos[1]+34,t[0][11].pos[2],t[0][11].pos[3]-34]}],t}function C(t){const e=[!0,!1];return[e[0],e[1],e[0],e[0],e[0],e[1],e[1],e[0],e[0],e[1],e[1],e[1]][S.ars[t].ai]}function T(t){return t.charAt(0).toUpperCase()+t.slice(1)}function P(t){return function(t){let e=Number(t);return e>11&&(e-=12),e}(t+6)}function L(t,e,n=!1){const i=[[],[],[],[],[],[]];if(s===t||t===P(s))return[-2e3,-2e3,-2e3,-2e3,-2e3,-2e3];const o=N(),a=o[0][s],r=o[3][t];i[0]=a.pos[0],i[1]=a.pos[1],i[4]=r.pos[0],i[5]=r.pos[1],6!==t&&7!==t||(i[4]+=15);const l=(i[4]-i[0])/2,c=(i[5]-i[1])/2,h=i[0]+l,d=i[1]+c,u=[];return u[0]=[[-2e3,-2e3],[h,d-30],[h-10,d-50],[h+10,d-30],[h+30,d-30],[h+30,d-50],[h-10,d-80],[h-50,d],[h-40,d-30],[h-30,d-15],[h-10,d-15],[h,d-30]],u[1]=[[h,d-25],[-2e3,-2e3],[h,d-30],[h+15,d-15],[h+30,d-10],[h+30,d-30],[h+30,d],[h-10,d-80],[h-50,d-50],[h-30,d-30],[h-10,d-40],[h-10,d-40]],u[2]=[[h,d-45],[h,d-25],[-2e3,-2e3],[h+20,d],[h+30,d-10],[h+80,d],[h+40,d-40],[h+10,d+75],[h-10,d-80],[h-10,d-50],[h-30,d-30],[h,d-80]],u[3]=[[h+15,d-40],[h+20,d-20],[h+30,d],[-2e3,-2e3],[h+30,d-10],[h+40,d-10],[h+40,d-10],[h+10,d+60],[h+30,d+50],[h-10,d-80],[h,d-30],[h+30,d-35]],u[4]=[[h+30,d-30],[h+25,d-10],[h+40,d+20],[h+30,d],[-2e3,-2e3],[h+30,d],[h+15,d+15],[h+10,d+35],[h+20,d+50],[h,d+40],[h-10,d-80],[h-10,d-80]],u[5]=[[h+40,d-10],[h+25,d-5],[h+80,d],[h+50,d-5],[h+20,d-10],[-2e3,-2e3],[h,d+25],[h+10,d+30],[h,d+80],[h+10,d+50],[h-30,d+40],[h-10,d-80]],u[6]=[[h-30,d-30],[h+30,d],[h+30,d+20],[h+30,d+25],[h+20,d+20],[h-10,d+25],[-2e3,-2e3],[h,d+25],[h-10,d+40],[h-10,d+30],[h-40,d+40],[h-50,d+40]],u[7]=[[h-30,d-30],[h-30,d-30],[h+40,d+20],[h+40,d+40],[h+10,d+30],[h+10,d+40],[h+10,d+25],[-2e3,-2e3],[h,d+25],[h-20,d+20],[h-30,d-10],[h-35,d]],u[8]=[[h-30,d-30],[h-50,d-10],[h-40,d-20],[h+20,d+60],[h-10,d+40],[h+10,d+80],[h,d+30],[h,d+20],[-2e3,-2e3],[h-25,d],[h-40,d],[h-50,d-10]],u[9]=[[h-30,d-30],[h-30,d-30],[h-20,d-90],[h-40,d-20],[h,d+60],[h-10,d+40],[h-10,d+40],[h-15,d+15],[h-25,d-10],[-2e3,-2e3],[h-30,d-10],[h-50,d-10]],u[10]=[[h-20,d-20],[h-10,d-35],[h-5,d-40],[h,d-50],[h-10,d-80],[h-30,d+40],[h-10,d+40],[h-25,d+10],[h-60,d],[h-30,d-10],[-2e3,-2e3],[h-25,d]],u[11]=[[h,d-25],[h-30,d-30],[h,d-80],[h+10,d-50],[h+30,d-30],[h-10,d-80],[h-50,d-20],[h-25,d+5],[h-80,d],[h-40,d-10],[h-20,d],[-2e3,-2e3]],i[2]=u[s][t][0],i[3]=u[s][t][1],n&&(i[2]=i[2]+Math.floor(30*Math.random())+10,i[3]=i[3]+Math.floor(30*Math.random())+10),i}return 3!==r&&(function(){const t={text:"T.HÓA",fill:d[3],x:l.x,y:l.y+p+o+2.7,fontSize:n-4,opacity:.7,fontStyle:"normal"},e=[],r=[];let h=0;for(let r=0;r<=3;r+=1)t.text=`${T(u[S.ars[i.cno[r]].ai].toLowerCase())}`,t.fill=d[r],t.fontStyle=C(i.cno[r])?"bold":"normal",t.opacity=.8,e[r]=ca(t,o,a,j),t.x=t.x+e[r].getTextWidth()+2.3,h=h+e[r].getTextWidth()+2.3,i.cno[r]===s&&(e[r].text("✱"),e[r].fontSize(n-3));let m=l.x+c-h/2+4;for(let i=0;i<=3;i+=1)e[i].absolutePosition({x:m,y:t.y}),m=e[i].x()+e[i].getTextWidth()+2.3,1===S.cfg[ti.tuanHoanZone]&&S.loopPT[i].forEach(((t,c)=>{if(t.includes(s)){const t={text:["⇄","⇅","⟳","⟲","⇊"][c],fill:d[i],x:e[i].x()+e[i].getTextWidth()/2-3.5,y:l.y+p+o+(0===c?10:12),fontSize:n-5,opacity:1,fontStyle:"normal"};void 0===r[i]&&(r[i]=[]),r[i][c]=ca(t,o,a,j)}}))}(),1===S.cfg[ti.locKiToanDo]&&function(){const t=i.zolk[0][si.currentLoc],e=i.zolk[3][si.currentKi];let u=null,p=null,m=null;const f="∞",g={text:"",fill:"",x:l.x+c,y:l.y+2*h-48,fontSize:4===r?n+2:n-2,opacity:4===r?1:.8,fontStyle:"bold"},b=4===r||5===r?"A":"",w=4===r||5===r?"D":"";if(t>0)if(Si(S.loopLP[0],s))if(0===i.zolk[0][si.locKeep])g.text=t.toString()+b+f,g.fill=d[0],u=ca(g,o,a,j),u&&u.x(u.x()-u.getTextWidth()/2);else{const e=t-i.zolk[0][si.locKeep];g.text=e>0?i.zolk[0][si.locKeep].toString()+b:t.toString()+b,g.fill=d[0],u=ca(g,o,a,j),u&&u.x(u.x()-u.getTextWidth()/2),e>0&&(g.text=e+f,p=ca(g,o,a,j),p&&p.x(p.x()-p.getTextWidth()/2))}else g.text=t.toString()+b,g.fill=d[0],u=ca(g,o,a,j),u&&u.x(u.x()-u.getTextWidth()/2);else Si(S.loopLP[0],s)&&0===t&&(g.text=f,g.fill=d[0],g.fontSize=n,u=ca(g,o,a,j),u&&u.x(u.x()-u.getTextWidth()/2));e>0||Si(S.loopLP[3],s)?(u&&u.y(u.y()-15),p&&p.y(p.y()-30)):p&&p.y(p.y()-15),e>0?(g.text=e.toString()+w+(Si(S.loopLP[3],s)?f:""),g.fill=d[3],m=ca(g,o,a,j),m&&m.x(m.x()-m.getTextWidth()/2)):Si(S.loopLP[3],s)&&0===e&&(g.text=f,g.fill=d[3],g.fontSize=n,m=ca(g,o,a,j),m&&m.x(m.x()-m.getTextWidth()/2)),u&&j.add(u),p&&j.add(p),m&&j.add(m),u&&u.moveToTop(),p&&p.moveToTop(),m&&m.moveToTop()}(),0!==r&&1!==r&&4!==r&&6!==r&&8!==r||function(t){const n=d[t],s=i.cno[t];let o=!1;0!==t&&3!==t||(o=1===i.zolk[t][0===t?si.isMoveLoc:3===t?si.isMoveKi:3]);const a={fill:n,stroke:n,pointerLength:11,pointerWidth:5,tension:.6,opacity:.6,strokeWidth:.4};switch(t){case 0:case 1:case 2:o&&function(){const t=d[3],e=i.cno[3],n={fill:t,stroke:t,pointerLength:11,pointerWidth:4,tension:.5,opacity:.5,strokeWidth:1,dash:[8,4]};n.points=L(e),C(e)&&(n.strokeWidth=1.7,n.opacity=.7),4!==r&&5!==r||(n.opacity=.7,n.strokeWidth=1.5,C(e)&&(n.opacity=.9,n.strokeWidth=2)),n.stroke=x(n.points,t,t),j.add(la.clone(n))}()}if(s<0||s===i.ci)return;a.points=L(s);const l=i.cno[3];3!==t&&s===l&&(a.points=L(s,0,!0));const c=C(s),h=o&&3===t;c&&(a.strokeWidth=1.5,a.opacity=.7),h&&(a.dash=[7,3],a.opacity=.8,a.strokeWidth=2),h&&c&&(a.opacity=.9),4!==r&&5!==r||(a.strokeWidth=1.7,a.opacity=a.opacity+.2),a.stroke=x(a.points,n,e[t]),j.add(la.clone(a))}(v),function(){const t=N();for(let e=0;e<=3;e+=1){const n=P(s),o=i.cno[e]===n,a=1===i.zolk[0][si.isMoveLoc],l=1===i.zolk[3][si.isMoveKi];if(o&&4!==r||4===r&&v===e&&o||1===r&&v===e&&o||8===r&&v===e&&o||o&&a&&3===e&&1!==v&&2!==v){const i=k[n]??0,o=k[s]??0;let c=o;i>o&&(k[s]=i,c=i);const h=t[c][s];if(v===e||1!==r&&8!==r||a&&3===e){const t=d[e],n={opacity:.8,points:h.pos,fill:t,stroke:t,strokeWidth:2.5,pointerLength:20,pointerWidth:8};!(l&&3===v||a&&0===v&&3===e)||0!==r&&1!==r&&4!==r&&8!==r||3!==e||(n.dash=[12,3]),4===r&&(n.strokeWidth=3),j.add(la.clone(n))}k[s]=c+1,k[n]=k[s]}}}()),t.layer.add(j),t.layer}function ya(t){const{ls:e,color:n,colorHoa:s,colorHoaFill:i,fontChinhTinh:o,fontPhuTinh:a,cung:r,fontDV:l,fontFamilySet:c,typeLs:h,pos:d,padContentBottom:u,padContent:p,wSquare:m,hafWSquare:f,hSquare:b,cfgLs:w,canHoa:y,thdraw:x}=t,v=new dt.Group({});function S(t,e=!0){let n={x:500,y:500,text:"",fontStyle:"normal",fontSize:l,fontFamily:c,fill:"#000",shadowForStrokeEnabled:!1,strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0};n={...n,...t};const s=ra.clone(n);return e&&v.add(s),s}function k(t,u,g,k,j=!1,N=a){if(4===h||5===h)return 1===g.zone&&0===k?function(t,a,u){if(![60,61,62,63].includes(u.id-1))return a;const p={fontSize:o+4,fontStyle:"normal"};p.x=t+f,p.y=a,p.text=u.name.toUpperCase(),p.fill=n[u.hh],p.fontStyle="bold";const g=S(p),w=g.y();g.x(g.x()-g.getTextWidth()/2);const k=u.id-1;if(4===h){const t={...p,fontSize:o-6,fontStyle:"normal"};if(t.x=p.x,t.y=p.y-9,r.stlk.length>0&&void 0!==r.stlk[k]){const e=r.stlk[k];t.text=`${e[0]}A`,t.fill=s[0];const n=S(t);t.text=`${e[1]}D`,t.fill=s[3];const i=S(t),o=n.getTextWidth()+i.getTextWidth()+4;n.x(d.x+f-o/2),i.x(n.x()+n.getTextWidth()+4),0===e[0]&&n.destroy(),0===e[1]&&(i.destroy(),e[0]>0&&n.x(n.x()+n.getTextWidth()+4))}}if([60,61,62,63].includes(k)){const t=g.x()-11,n=g.y();ha(v,y,e.dtb.bs.y[0],k,t,n,c,l,s,i);const o=g.x()+g.getTextWidth()+5,a=g.y()-.5;da(v,y,r,d,m,b,o,a,k,0,0,s,x,e)&&(x[r.ci]+=1);const h=g.x()+g.getTextWidth()+3,u=g.y()+4,p=ua(v,y,0,h,u,k,e,l,c,s)?h+12:h,f=pa(v,y,0,p,u,k,e,l,c,s);ma(v,y,0,f?p+10:p+3,u,k,e,l,c,s)}return w+25}(t,u,g):u;const C=k>0,T=g.id-1,P=w[ti.showHideStar];if(P>0&&!C){if(1===P&&!M.includes(T))return u;if(2===P&&!M.includes(T)&&!_.includes(T))return u;if(3===P&&!M.includes(T)&&!_.includes(T)&&!E.includes(T))return u;if(!(4!==P||M.includes(T)||_.includes(T)||E.includes(T)||B.includes(T)))return u}const L=N-1;if([64,65,66,67].includes(T)&&C)return u;const A=void 0!==g.cir,$=g.iptt,O={text:g.name,x:t,y:u,fontSize:N-1,fill:n[g.hh],width:A&&"vts"===g.cir?m:"auto",opacity:1,align:"center",shadowEnabled:!1,shadowOpacity:0,shadowForStrokeEnabled:!1,textDecoration:""};k>0&&(O.fontSize=O.fontSize-2,O.y=O.y+1.6),C?(O.fontStyle="italic",O.opacity=.9):(1===Number(w[ti.shortStar])&&(O.text=g.sht),$?(O.fontStyle="bold",O.shadowColor=n[g.hh],O.shadowBlur=0,O.shadowOffset={x:0,y:0},O.shadowOpacity=.8):(O.shadowOpacity=0,O.fontStyle="normal",O.textDecoration="",A&&("vbs"===g.cir||g.cir)));const D=S(O,!1);j&&(O.x=t-D.getTextWidth());const I=void 0!==r.tu||void 0!==r.tr,F=g.lvl;let q="",H=0,G=!1;void 0!==F&&Object.entries(F).forEach((([t,e],n)=>{Number(t)===r.ci+1&&(q=e,H=5.5,G=!0)})),void 0===g.lvl||"Đ"!==q||I||C||(O.shadowColor=n[g.hh],O.shadowBlur=0,O.shadowOffset={x:0,y:0},O.shadowOpacity=.8,S(O)),g.lvl;const V=S(O);if(k>0){const t={...O};switch(k){case 1:t.text="Đ.";break;case 2:t.text="L.";break;case 3:t.text="T."}t.fontSize=t.fontSize-2,2===g.typ?V.x(V.x()-p+3.5):V.x(V.x()+8),t.x=V.x()-8,t.y=V.y()+1.5,S(t)}const z=g.id-1;if(!C&&[60,61,62,63].includes(z)&&3!==h){H=0===H?H+3:H;const t=V.x()+V.getTextWidth()+H+9,n=V.y()-1,o=ha(v,y,e.dtb.bs.y[0],z,t,n,c,l,s,i),a=V.x()+V.getTextWidth()+H+(o?22:5),h=V.y()+1;da(v,y,r,d,m,b,a,h,z,0,0,s,x,e)&&(x[r.ci]+=1);const u=V.x()+V.getTextWidth()+H+(o?20:2),p=V.y()+2,f=ua(v,y,0,u,p,z,e,l,c,s),g=f?u+12:u,w=pa(v,y,0,g,p,z,e,l,c,s),S=w?g+11:f?u+12:u,k=ma(v,y,0,S,p,z,e,l,c,s);fa(v,y,0,k?S+11:w?g+11:f?u+12:u,p,z,e,l,c,s)}return G&&!C&&(O.x+=V.getTextWidth(),O.y-=1,O.text=q,O.fontSize=a-6,O.fontStyle="normal",O.opacity=1,O.shadowOpacity=0,S(O)),D.destroy(),u+L}function j(t,n,s,i,o,a=0){const r=w[ti.currentStar];for(let l=0;l<t.length;l+=1){if(a>0){let n=!1,s=e.istc?[...I,58,59,62,63]:I;if(s=1===r?s:2===r?[...s,25,37,82,83,85,86]:[],s.length>0&&!s.includes(t[l])&&(n=!0),!e.istc&&[62,63].includes(t[l])&&(n=!0),n)continue}if(0===Number(w[ti.isADSat])&&(123===t[l]||124===t[l]||125===t[l]))continue;const c=g[t[l]];void 0!==c.cir&&"vts"===c.cir||(1===c.typ&&(s=k(n,s,c,a)),2===c.typ&&(o=k(i,o,c,a,!0)))}return[s,o]}return function(){let t=d.x+p,e=d.y+73;const n=e,s=d.x+m-p-2;let i=n;if(4===h||5===h){const n=r.sb.length,s=25,o=d.y+70,a=[o,o+s,o+2*s];t=d.x,e=a[n],i=e}const o=d.x;let a=d.y+u-21;if(1===w[ti.batTuCung]&&1===w[ti.showSun]&&(a=d.y+u-35),0===w[ti.batTuCung]&&0===w[ti.showSun]&&(a=d.y+u-10),4!==h&&5!==h)for(let t=0;t<r.ss.length;t+=1){const e=g[r.ss[t]];void 0!==e.cir&&"vts"===e.cir&&(a=k(o,a,e,0,!1,13))}const l=j(r.ss,t,e,s,i,0);let c=l;1===w[ti.dvStar]&&(c=j(r.sv,t,l[0],s,l[1],1)),w[ti.currentStar]>0&&j(r.sy,t,c[0],s,c[1],2)}(),t.layer.add(v),t.layer}la.cache();const xa=i(nt()),va=Qs(Ys),Sa=({message:t})=>e.jsx("div",{className:"text-center p-4",children:e.jsx("p",{className:"text-red-500",children:t})});function ka(t,e,n="#dcd3aaa8"){if("undefined"!=typeof window)try{const s=window.document.createElement("canvas").getContext("2d");if(!s)return e;const i=void 0!==t[4]?t[4]:t[2],o=void 0!==t[5]?t[5]:t[3],a=s.createLinearGradient(t[0],t[1],i,o);return a.addColorStop(0,n),a.addColorStop(1,e),a}catch(t){return e}return e}function ja(t,e){try{let n="VCD";return t.ars&&t.ars[e]&&t.ars[e].sb&&t.ars[e].sb.length>0&&(n="",t.ars[e].sb.forEach((t=>{n.length>0&&(n=`${n}-`),n+=g[t]?.sht||""}))),oi(n)}catch(t){return"VCD"}}function Na(t){try{const n=t.dtb.sn,s=t.dtb.ln,i=t.dtb.bs,o=u[t.ars[t.at].ai];return e.jsxs("div",{className:"text-[14px] [&_div]:mb-1",children:[e.jsxs("div",{children:["Thời gian sinh dương lịch:"," ",e.jsxs("b",{children:[n.d,"/",n.m,"/",n.y," lúc",n.h,"h",n.i||0]})]}),e.jsxs("div",{children:[e.jsx("b",{children:`${t.adye>0?"Dương":"Âm"} ${t.sx>0?"Nam":"Nữ"}`})," tuổi âm lịch",e.jsxs("b",{children:[t.yeo," tuổi"]})]}),e.jsxs("div",{children:["Âm lịch giờ ",e.jsx("b",{children:d[i.h[1]]})," ngày ",e.jsx("b",{children:s.d})," tháng ",e.jsx("b",{children:s.m})," năm"," ",e.jsxs("b",{className:`color${m[i.y[2]]}`,children:[h[i.y[0]]," ",d[i.y[1]]]})]}),e.jsxs("div",{children:["Mệnh ",e.jsxs("b",{className:`color${m[i.y[2]]}`,children:[" ",b[m[i.y[2]]]]})," cục"," ",e.jsx("b",{className:`color${t.cid}`,children:b[t.cid]})," -",`${t.ad>0?y[1]:y[0]} - ${w[t.sks]}`," "]}),e.jsxs("div",{children:["Thân cư ",e.jsx("b",{children:o.charAt(0)+o.slice(1).toLowerCase()})," - Mệnh chủ"," ",e.jsx("b",{className:`color${g[t.mctc[0]].hh}`,children:g[t.mctc[0]].name})," - Thân chủ"," ",e.jsx("b",{className:`color${g[t.mctc[1]].hh}`,children:g[t.mctc[1]].name})," "]}),e.jsxs("div",{className:"!text-[12px] !mt-3",children:["Năm xem ",e.jsx("b",{children:t.dtv.sn.y})," ÂL:"," ",e.jsxs("span",{className:`color${m[t.dtv.bs.y[2]]}`,children:[h[t.dtv.bs.y[0]]," ",d[t.dtv.bs.y[1]]]})," ","-"," ",e.jsxs("span",{className:`color${m[t.dtv.bs.m[2]]}`,children:[h[t.dtv.bs.m[0]]," ",d[t.dtv.bs.m[1]],"(",t.dtv.ln.m,")"]})," ","-"," ",e.jsxs("span",{className:`color${m[t.dtv.bs.d[2]]}`,children:[h[t.dtv.bs.d[0]]," ",d[t.dtv.bs.d[1]],"(",t.dtv.ln.d,")"]})," ","-"," ",e.jsxs("span",{className:`color${m[t.dtv.bs.h[2]]}`,children:[h[t.dtv.bs.h[0]]," ",d[t.dtv.bs.h[1]]]})]})]})}catch(t){return e.jsx("div",{className:"text-red-500",children:"Lỗi hiển thị thông tin"})}}const Ca=t=>{if(!t||!t.ls)return e.jsx(Sa,{message:"Không thể tải dữ liệu lá số. Vui lòng kiểm tra thông tin đầu vào."});const s=t.ls;if(!s.cfg)return e.jsx(Sa,{message:"Dữ liệu lá số không hợp lệ. Vui lòng thử lại."});if(!s.dtb||!s.dtv)return e.jsx(Sa,{message:"Thông tin ngày tháng không hợp lệ. Vui lòng kiểm tra lại."});const i=s.cfg,a=960+75*(s.css<=11?0:s.css-11),r=i[ti.typeLs],p=i[ti.typePhiHoa],f=185.5,x=a/4,v=a+2+1+1,S=["","","#031640","#067b11","#8b8380","#e39e25","#cf233b"],k=["","","#123e65","#04973c","#919191","#e39e25","#e73827"];let j=5;4!==r&&5!==r||(j=8);const N=["rgb(3 140 0)","rgb(110 8 136)","rgb(14 124 202)","rgb(217 4 4)"],C=["rgb(3 140 0 / 75%)","rgb(110 8 136 / 75%)","rgb(14 124 202 / 75%)","rgb(217 4 4 / 75%)"],T=["rgba(114,250,112,0.9)","rgba(227,100,255,0.9)","rgba(77,182,255,0.9)","rgba(246,66,66,0.9)"],L=["rgba(114,250,112,0.5)","rgba(227,100,255,0.5)","rgba(77,182,255,0.5)","rgba(246,66,66,0.5)"],A="Roboto Slab",M=x/2;let _=1,$=_+f,E=$+1+f,B=E+1+f,D=B+1+f,I=1,q=I+x,G=q+1+x,W=G+1+x,U=W+1+x;_+=27,$+=27,E+=27,B+=27,D+=27,I+=27,q+=27,G+=27,W+=27,U+=27;const Y=x-2.3*j,Z=j,X={width:800,height:v+54,borderOutWith:1,borderInnerWith:1,padZone:54,fontFamily:A},{stageRef:J,layerRef:Q,canvasImage:tt,setCanvasImage:et,getStageImage:nt,cleanup:st}=function(){const t=o.useRef(null),e=o.useRef(null),[n,s]=o.useState(null);return{stageRef:t,layerRef:e,canvasImage:n,setCanvasImage:s,getStageImage:(e=1)=>{try{return t.current?t.current.toDataURL({pixelRatio:e,quality:1,mimeType:"image/png"}):null}catch(t){return null}},cleanup:()=>{e.current&&(e.current.destroy(),e.current=null),t.current&&(t.current.destroy(),t.current=null),s(null)}}}(),{handleExport:it,copyImageToClipboard:ot,exportImageNote:at}=function(t,n){return{handleExport:()=>{try{const e=n(2);if(!e)throw new Error("Không thể lấy được ảnh lá số");const s=t.dtb.sn,i=t.am,o=ja(t,i),a=t.at,r=ja(t,a);!function(t,e){if("undefined"!=typeof window)try{const n=window.document.createElement("a");n.download=e,n.href=t,window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n)}catch(t){}}(e,`${1===t.sx?"nam":"nu"}-Menh-${o}-${oi(d[i])}-Than-${r}-${oi(d[a])}--${s.d}.${s.m}.${s.y}-${s.h}h${s.i||0}-TinhMenhDo.com-${Math.floor(1e4*Math.random())}.png`)}catch(t){va.fire({title:"Lỗi",text:t instanceof Error?t.message:"Có lỗi xảy ra khi lưu lá số",icon:"error"})}},copyImageToClipboard:async()=>{try{const s=n(2);if(!s)throw new Error("Không thể lấy được ảnh lá số");const i=await fetch(s),o=await i.blob();await navigator.clipboard.write([new ClipboardItem({[o.type]:o})]),va.fire({title:"Thông báo",html:e.jsxs("div",{children:[e.jsx("div",{children:"Tinh Mệnh Đồ đã copy xong:"}),e.jsxs("div",{className:"text-orange-600",children:["Check lại thông tin ",e.jsx("b",{children:"1 lần nữa"})," cho dù bạn đã chắc chắn."]}),e.jsx("br",{}),e.jsx("div",{children:Na(t)}),e.jsx("br",{})]}),icon:"success"})}catch(t){va.fire({title:"Lỗi",text:t instanceof Error?t.message:"Có lỗi xảy ra khi copy lá số",icon:"error"})}},exportImageNote:async()=>{try{const s=n(2);if(!s)throw new Error("Không thể lấy được ảnh lá số");const i=await fetch(s),o=await i.blob();if(await navigator.clipboard.write([new ClipboardItem({[o.type]:o})]),(await va.fire({title:"Thông báo",html:e.jsxs("div",{children:[e.jsx("div",{children:"Tinh Mệnh Đồ đã COPY xong. Bạn có muốn chuyển sang tab Note lá số không?"}),e.jsx("div",{className:"text-orange-600",children:"Chú ý sau khi chuyển sang bảng ghi chú bạn cần click phải chọn Paste hoặc Ctrl+V để dán lá số vào bảng ghi chú"}),e.jsx("br",{}),e.jsx("div",{children:Na(t)}),e.jsx("br",{})]}),icon:"success",showCancelButton:!0,confirmButtonText:"Chuyển sang Note",cancelButtonText:"Đóng"})).isConfirmed){const t=document.createElement("a");t.href="/note?export=1",t.target="_blank",t.rel="noopener noreferrer",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch(t){va.fire({title:"Lỗi",text:t instanceof Error?t.message:"Có lỗi xảy ra khi copy lá số",icon:"error"})}}}}(s,((t=1)=>tt||J.current?.toDataURL({pixelRatio:t,quality:1,mimeType:"image/png"})||null));return o.useEffect((()=>{if("undefined"!=typeof window)try{if(st(),!document.getElementById("cv"))return st;const e=new ea.Stage({container:"cv",width:X.width,height:X.height,fill:"#fefefe",font:X.fontFamily});J.current=e;const o=new ea.Layer;Q.current=o;const tt=P(i[ti.lsCanType]);o.add(na.clone({x:0,y:0,width:800,height:v+54,hitStrokeWidth:0,shadowForStrokeEnabled:!1,fillRadialGradientStartPoint:{x:E,y:G},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:E,y:G},fillRadialGradientEndRadius:1e3,fillRadialGradientColorStops:[0,"#FFF",1,"#ddd"]})),o.add(na.clone({x:$+1,y:q+1,width:372,height:2*x+1,fillRadialGradientStartPoint:{x:$,y:q},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:$,y:q},fillRadialGradientEndRadius:555,fillRadialGradientColorStops:[0,"#fff",1,"#ddd"],hitStrokeWidth:0,shadowForStrokeEnabled:!1}));const it=function(t){const{ls:e,xBox:n,borderOutWith:s,hafBorderOut:i,yBox:o,xBox14:a,yBox14:r,xBox12:l,yBox12:c,xBox34:h,yBox34:d,xBox4:u,yBox4:p,hafBorderIn:m,borderInnerWith:f}=t;return function(){const t=["#000000","#000000","#000000"][e.cfg[ti.tcpb]];return[{points:[a+m,o-m,a+m,p+i],color:t,strokeWidth:f},{points:[l+m,o-m,l+m,r+m],color:t,strokeWidth:f},{points:[l+m,d+m,l+m,p+i],color:t,strokeWidth:f},{points:[h+m,o-m,h+m,p+i],color:t,strokeWidth:f},{points:[n,r+m,u+i,r+m],color:t,strokeWidth:f},{points:[n,c+m,a+m,c+m],color:t,strokeWidth:f},{points:[h+m,c+m,u+i,c+m],color:t,strokeWidth:f},{points:[n,d+m,u+i,d+m],color:t,strokeWidth:f}].concat([{points:[n-i,o-i,l+m,o-i],color:t,strokeWidth:s},{points:[l,o-i,h+m,o-i],color:t,strokeWidth:s},{points:[h+m,o-i,u+i,o-i],color:t,strokeWidth:s},{points:[u+i,o-i,u+i,c+m],color:t,strokeWidth:s},{points:[u+i,c+m,u+i,d+m],color:t,strokeWidth:s},{points:[u+i,d+m,u+i,p+i],color:t,strokeWidth:s},{points:[u+i,p+i,l+m,p+i],color:t,strokeWidth:s},{points:[l,p+i,a+m,p+i],color:t,strokeWidth:s},{points:[a+m,p+i,n-i,p+i],color:t,strokeWidth:s},{points:[n-i,p+i,n-i,c+m],color:t,strokeWidth:s},{points:[n-i,c+m,n-i,r+m],color:t,strokeWidth:s},{points:[n-i,r+m,n-i,o-i],color:t,strokeWidth:s}])}().forEach((e=>{t.layer.add(sa.clone({points:e.points,stroke:e.color,strokeWidth:1.5,opacity:1}))})),t.layer}({ls:s,layer:o,lsWidth:742,lsHeight:a,xBox:_,borderOutWith:1,hafBorderOut:.5,yBox:I,xBox12:E,yBox12:G,xBox14:$,yBox14:q,xBox34:B,yBox34:W,xBox4:D,yBox4:U,hafBorderIn:.5,borderInnerWith:1,bColor:k}),ot=function(t){let e=t.layer;const n=new dt.Group({}),s=[{x:Number(t.xBox12),y:Number(t.yBox34)},{x:Number(t.xBox14),y:Number(t.yBox34)},{x:Number(t.xBox),y:Number(t.yBox34)},{x:Number(t.xBox),y:Number(t.yBox12)},{x:Number(t.xBox),y:Number(t.yBox14)},{x:Number(t.xBox),y:Number(t.yBox)},{x:Number(t.xBox14),y:Number(t.yBox)},{x:Number(t.xBox12),y:Number(t.yBox)},{x:Number(t.xBox34),y:Number(t.yBox)},{x:Number(t.xBox34),y:Number(t.yBox14)},{x:Number(t.xBox34),y:Number(t.yBox12)},{x:Number(t.xBox34),y:Number(t.yBox34)}];let i,o;const a=[0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0,0,0,0,0,0,0];for(let n=0;n<12;n+=1)i=s[n],o={idx:Number(n),cung:t.ls.ars[n],pos:i,thdraw:r},e=ga({...o,...t}),e=ba({...o,...t}),e=ya({...o,...t}),e=wa({countHt:a,...o,...t});function l(e,s,i,o,a="#fff",r="#666",l=!1){let c=l?50:43;s>0&&(c=l?33:17);const h={x:Number(i[0])-c/2+(s>0?35:0),y:Number(i[1])-4.5,text:e,fill:a,width:c,align:"center",fontSize:9,perfectDrawEnabled:!0,opacity:1,shadowColor:"#000",shadowBlur:0,shadowOpacity:0,shadowOffset:{x:0,y:0}},d=ca(h,t.fontDV,t.fontFamilySet,n),u=na.clone({x:d.x()-5,y:d.y()-0,fill:r,width:d.width()+10,height:d.height()+0,perfectDrawEnabled:!0,strokeWidth:0,opacity:1,cornerRadius:6,stroke:"#222",hitStrokeWidth:0,shadowForStrokeEnabled:!1});n.add(u),null!==u&&u.moveToTop(),null!==d&&d.moveToTop(),6!==o&&0!==o||(0!==s||l||(d.absolutePosition({x:h.x+17,y:h.y+18}),u.absolutePosition({x:d.x(),y:d.y()+5})),0===s&&l&&(d.absolutePosition({x:h.x+21,y:h.y+18}),u.absolutePosition({x:d.x(),y:d.y()+5})),2!==s||l||(d.absolutePosition({x:h.x-31,y:h.y-50}),u.absolutePosition({x:d.x(),y:d.y()+5})),2===s&&l&&(d.absolutePosition({x:h.x-23,y:h.y-50}),u.absolutePosition({x:d.x(),y:d.y()+5})),d.rotation(-90),u.rotation(-90))}return 5!==t.typeLs&&6!==t.typeLs&&function(){const i=t.ls.ttr[0],o=t.ls.ttr[2];if(0!==i.length||0!==o.length){const a=[[s[0].x,s[0].y+t.hafHSquare],[s[2].x+t.hafWSquare,s[2].y],[s[4].x+t.hafWSquare,s[4].y],[s[7].x,s[7].y+t.hafHSquare],[s[9].x+t.hafWSquare,s[9].y],[s[11].x+t.hafWSquare,s[11].y]];if(0!==i.length){const t=i[0],e=i[1];t[0]===e[0]?l("Tuần-Triệt",0,a[t[0]/2],e[0],"#fff","#111",!0):(l("Tuần",0,a[t[0]/2],t[0],"#fff","#777",!1),l("Triệt",0,a[e[0]/2],e[0],"#fff","#333",!1))}if(0!==o.length&&1===t.ls.cfg[ti.lnTuTr]){const t=o[0],e=o[1];t[0]===e[0]?l("⊙-⊠",2,a[t[0]/2],e[0],"#fff","rgba(17, 17, 17, 1)",!0):(l("⊙",2,a[t[0]/2],t[0],"#fff","rgba(119, 119, 119, 1)",!1),l("⊠",2,a[e[0]/2],e[0],"#fff","rgba(51, 51, 51, 1)",!1))}e.add(n)}}(),e}({layer:it,bColor:k,colorHoaStart:C,colorHoa:N,colorHoaFill:T,colorHoaFill60:L,color:S,xBox12:E,yBox34:W,xBox14:$,xBox:_,yBox12:G,yBox14:q,yBox:I,xBox4:D,yBox4:U,xBox34:B,ls:s,hafWSquare:92.75,hafHSquare:M,fontFamilySet:A,borderOutWith:1,hafBorderOut:.5,fontDV:13,padContentBottom:Y,padContentTop:Z,padContent:j,wSquare:f,hSquare:x,fontPhuTinh:14,fontChinhTinh:15,getGradient:ka,typePhiHoa:p,typeLs:r,cfgLs:i,canHoa:tt}),at=function(t){const{wSquare:e,xBox12:s,xBox14:i,yBox14:o,yBox34:a,borderInnerWith:r,ls:p,fontCenter:f,fontFamilySet:x,color:v,fontDV:S,cfgLs:k}=t,j=new xa.Group({}),N=1===Number(k[ti.batTuCenter]);function C(t){let e={x:500,y:500,text:"",fontStyle:"normal",fontSize:S,fontFamily:x,fill:"#000",strokeWidth:0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1,perfectDrawEnabled:!0};e={...e,...t};const n=ra.clone(e);return j.add(n),n}function T(t){return C({...t,fontStyle:"normal",width:2*e+r,align:"center"})}function P(t,n,s,i){return function(t,n,s,i){const o=e/2-2.5,a=e/10,r=o+t,u={x:t,y:n,fill:"rgba(0, 0, 0, 0.07)",width:o,height:N?2.1*o:1.35*o,perfectDrawEnabled:!0,strokeWidth:1,opacity:1,cornerRadius:6,hitStrokeWidth:1,shadowForStrokeEnabled:!1},g=na.clone(u);j.add(g),C({text:c[s.cn]>0?"+":"-",x:g.x(),y:g.y()+2,fill:"#777",fontSize:f+1,width:o,align:"center",fontStyle:"normal",fontFamily:"Arial"});const b=C({text:`${i}`,x:g.x(),y:g.y()+a,fontSize:f,width:o,align:"center",fontStyle:"bold"});let w=b.x(),y=b.y();if(N){const t=C({text:`${-1===s.cht?"Nhật chủ":F[s.cht]}`,x:b.x(),y:b.y()+a+3,fontSize:f,width:o,align:"center"});w=t.x(),y=t.y()}const x=C({text:`${h[s.cn].toUpperCase()}`,x:w,y:y+a+6,fill:v[l[s.cn]],fontSize:f+1,fontStyle:"bold",width:o,align:"center"}),S=C({text:`${d[s.ci].toUpperCase()}`,x:x.x(),y:x.y()+a,fill:v[O[s.ci]],fontSize:f+1,fontStyle:"bold",width:o,align:"center"});if(w=S.x(),y=S.y(),N){const t=o/s.ctg.length,e=f-2;let n=0,i=S.y();s.ctg.forEach((s=>{const o=C({text:`${h[s]}`,x:0===n?S.x():n,y:S.y()+a,fill:v[l[s]],fontSize:e,width:t,align:"center"}),r=F[mi(p.dtb.bs.d[0],s)],c=t-2,d=C({text:r,x:o.x(),y:o.y()+a+2,fontSize:f-2,width:"Thương"===r?c+8:c,align:"center",fill:"#000"});n=o.x()+t,i=d.y()}));const r=a+3,c=C({text:`${R[s.ts]}`,x:S.x(),y:i+r,fontSize:f-2,width:o,align:"center"});w=c.x(),y=c.y()}const k=a+5,T=f-2;return C({text:`${K[s.na]}`,x:w,y:y+k,fill:v[m[s.na]],fontSize:T,width:o,align:"center"}),r}(t,n,s,1===k[ti.showSun]?i:"")}return function(){if(void 0===p)return[];j.destroyChildren(),C({text:`Ver ${t.version}`,x:i+10,y:a-48,fill:"#000",align:"center",width:2*e-20,fontSize:f-4,opacity:.3,fontVariant:"normal"}),C({text:(()=>{try{return window.atob("VGluaE1lbmhEby5jb20=")}catch{return""}})(),x:i,y:a-36,fill:"#b06200",align:"center",width:2*e,fontSize:f-1,opacity:.8,fontVariant:"normal"}),function(){let t=`${String.fromCharCode(76)}oại ${String.fromCharCode(108)}á số ${k[ti.typeLs]+1}`;if([6,7,8].includes(k[ti.typeLs])){const e=["1","2","3"];t=`${t} - ${"TG_FpIHPz".substring(0,3)}${e[k[ti.tcpb]]}`}C({text:`${t} - ${String.fromCharCode(67)}an ${String.fromCharCode(72)}óa ${p.cfg[ti.lsCanType]+1} - ${String.fromCharCode(108)}ập ${String.fromCharCode(108)}úc ${n().format("YYYY/MM/DD HH:mm")}`,x:i,y:a-20,fill:"#000",align:"center",width:2*e,fontSize:f-2,opacity:.8,fontVariant:"normal"})}();const c=f-1;let x=u[p.ars[p.at].ai];x=x.charAt(0)+x.slice(1).toLowerCase();const S=p.dtv.bs,L=f-1.5;!function(t,e,n){t.forEach(((t,i)=>{!function(t,e,n){let i=0;t.forEach((t=>{i+=function({text:t,fontSize:e,fontStyle:n}){return ra.clone({text:t,fontSize:e,fontStyle:n}).width()}({...t,fontSize:n})+3}));let o=s-i/2;t.forEach(((t,s)=>{const{txt:i,width:a}=function({text:t,y:e,fontSize:n,fontStyle:s,fill:i}){const o=C({text:t,y:e,fontSize:n,fontStyle:s,fill:i});return{txt:o,width:o.getTextWidth()}}({...t,y:e,fontSize:n});i.x(o),o+=a+.8}))}(t,e[i],n)}))}([[{text:`${p.adye>0?"Dương":"Âm"} ${p.sx>0?"Nam":"Nữ"}`,fontStyle:"normal"},{text:`${p.yeo} tuổi`,fontStyle:"bold",align:"center"},{text:"âm lịch",fontStyle:"normal"},{text:"giờ",fontStyle:"normal"},{text:`${d[p.dtb.bs.h[1]]}`,fontStyle:"bold"},{text:"ngày",fontStyle:"normal"},{text:`${p.dtb.ln.d}`,fontStyle:"bold"},{text:"tháng",fontStyle:"normal"},{text:`${p.dtb.ln.m}`,fontStyle:"bold"},{text:"năm",fontStyle:"normal"},{text:h[p.dtb.bs.y[0]],fontStyle:"bold",fill:v[l[p.dtb.bs.y[0]]]},{text:d[p.dtb.bs.y[1]],fontStyle:"bold",fill:v[O[p.dtb.bs.y[1]]]}],[{text:"Mệnh",fontStyle:"normal"},{text:b[m[p.dtb.bs.y[2]]],fontStyle:"bold",fill:v[m[p.dtb.bs.y[2]]]},{text:"cục"},{text:b[p.cid],fontStyle:"bold",fill:v[p.cid]},{text:`- ${p.ad>0?y[1]:y[0]} - ${w[p.sks]}`}],[{text:"Thân cư",fontStyle:"normal"},{text:`${x}`,fontStyle:"bold"},{text:"- Mệnh chủ"},{text:g[p.mctc[0]].name,fontStyle:"bold",fill:v[g[p.mctc[0]].hh]},{text:"- Thân chủ"},{text:g[p.mctc[1]].name,fontStyle:"bold",fill:v[g[p.mctc[1]].hh]}],[{text:"Năm xem ÂL: ",x:i+10,fontSize:L},{text:`${h[S.y[0]]} ${d[S.y[1]]} -`,fill:v[m[S.y[2]]],fontSize:L},{text:`${h[S.m[0]]} ${d[S.m[1]]}(${p.dtv.ln.m}) -`,fill:v[m[S.m[2]]],fontSize:L},{text:`${h[S.d[0]]} ${d[S.d[1]]}(${p.dtv.ln.d}) -`,fill:v[m[S.d[2]]],fontSize:L},{text:`${h[S.h[0]]} ${d[S.h[1]]}`,fill:v[m[S.h[2]]],fontSize:L}]],function(t){return Array.from({length:4},((e,n)=>t+16*n))}(o+15),c),function(){const{dtb:t,tutru:s}=p,a=t.tki,c=T({text:`Tứ Trụ - Sinh vào tiết ${H[a[0]]}`,x:i,y:o+95,fontSize:f});a[1]&&T({text:`Tháng ${z[a[0]]}tk từ ${H[V[a[0]][0]]} (${1===k[ti.showSun]?n(a[3]).format("YYYY/MM/DD HH:mm"):n(a[3]).format("----/MM/DD HH:mm")}) đến ${H[V[a[0]][1]]} (${1===k[ti.showSun]?n(a[4]).format("YYYY/MM/DD HH:mm"):n(a[4]).format("----/MM/DD HH:mm")})`,x:i,y:c.y()+16,fontSize:f-3});const u=P(i+3,c.y()+33,s.cot[0],`${t.sn.y}`),m=t.ln.mt===t.ln.m?`(${t.ln.mt})`:`(${t.ln.m})(${t.ln.mt}tk)`,g=P(u+3,c.y()+33,s.cot[1],`${t.sn.m} ${m}`),b=P(g+3,c.y()+33,s.cot[2],`${t.sn.d} (${t.ln.d})`);if(P(b+3,c.y()+33,s.cot[3],`${t.sn.h}h${t.sn.i}`),N){const t=p.tutru.dvt,s=C({text:`${t[0]?"Thuận":"Nghịch"} đến tk cách ${t[1]} ngày ${t[2]} giờ quy đổi thành ${t[3]} năm ${t[4]} tháng ${t[5]} ngày`,x:i,y:c.y()+235,fontStyle:"normal",width:2*e+r,align:"center",fontSize:f-2.5}),o=15,a=p.tutru.dv,u=34;let m=0;a.forEach(((t,e)=>{const a=n.unix(t[2]),r=p.yeo>=a.year()-p.dtb.sn.y+1&&p.yeo<=a.year()-p.dtb.sn.y+10,c={x:0===m?i+3:m,y:s.y()+o,fill:r?"rgba(255, 224, 191, 0.7)":"rgba(0, 0, 0, 0.07)",width:u,height:75,perfectDrawEnabled:!0,strokeWidth:1,opacity:1,cornerRadius:6,hitStrokeWidth:1,shadowForStrokeEnabled:!1};j.add(na.clone(c));const g=C({text:`${F[mi(p.dtb.bs.d[0],t[0])]}`,x:0===m?i+3:m,y:s.y()+o+5,fill:"#333",fontSize:f-4,width:u,align:"center"}),b=C({text:`${h[t[0]]}`,x:0===m?i+3:m,y:g.y()+o,fill:v[l[t[0]]],fontSize:f-2,width:u,align:"center"}),w=C({text:`${d[t[1]]}`,x:b.x(),y:b.y()+o,fill:v[O[t[1]]],fontSize:f-2,width:u,align:"center"});let y=`${a.year()-p.dtb.sn.y+1}-${a.year()-p.dtb.sn.y+10}t${1===k[ti.showSun]?` ${a.format("YYYY")}`:""}`;0===e&&(y=`${a.year()-p.dtb.sn.y+1}t${1===k[ti.showSun]?` ${a.format("DD/MM   YYYY")}`:""}`),C({text:`${y}`,x:b.x(),y:w.y()+o+2,fill:"#333",fontSize:f-5,width:u,align:"center"}),m=b.x()+u+3.5}))}}()}(),t.layer.add(j),t.layer}({layer:ot,wSquare:f,xBox12:E,xBox14:$,yBox14:q,yBox34:W,borderInnerWith:1,ls:s,fontCenter:12,hafWSquare:92.75,fontFamilySet:A,color:S,fontDV:13,cfgLs:i,getGradient:ka,version:t.version});at.add(na.clone({x:0,y:v+54,width:800,height:v+54,fill:"rgb(233 233 233)"})),e.add(at),Q.current=at,setTimeout((()=>{const t=nt(2);t&&et(t)}),100)}catch(t){}return st}),[t.ls,t.version]),o.useEffect((()=>{t.fnDownloadCall>0&&it(),t.fnCopyLs>0&&ot(),t.fnExportNote>0&&at()}),[t.fnDownloadCall,t.fnCopyLs,t.fnExportNote]),e.jsxs(e.Fragment,{children:[e.jsx("div",{id:"cv",className:"flex justify-center"}),e.jsx("div",{className:"absolute top-0 left-0 size-full max-lg:block"})]})},Ta="undefined"!=typeof window;function Pa(){return Ta?new URLSearchParams(window.location.search):new URLSearchParams}function Aa(){return Ta?window.location.pathname:""}const La=t=>{try{return t?.dtb?.bs&&Array.isArray(t.dtb.bs.y)&&Array.isArray(t.dtb.bs.m)&&Array.isArray(t.dtb.bs.d)&&Array.isArray(t.dtb.bs.h)?{y:t.dtb.bs.y,m:t.dtb.bs.m,d:t.dtb.bs.d,h:t.dtb.bs.h}:null}catch{return null}},Ma=t=>{try{return t?.dtb?.ln&&"number"==typeof t.dtb.ln.y&&"number"==typeof t.dtb.ln.m&&"number"==typeof t.dtb.ln.d?{y:t.dtb.ln.y,m:t.dtb.ln.m,d:t.dtb.ln.d}:null}catch{return null}},_a=t=>{try{return t?.dtb?.sn&&"number"==typeof t.dtb.sn.y&&"number"==typeof t.dtb.sn.m&&"number"==typeof t.dtb.sn.d&&"number"==typeof t.dtb.sn.h?{y:t.dtb.sn.y,m:t.dtb.sn.m,d:t.dtb.sn.d,h:t.dtb.sn.h,i:t.dtb.sn.i||0}:null}catch{return null}};function Ea(t){try{if(!t||!t.dtb)return!1;const e=La(t),n=Ma(t),s=_a(t);return Boolean(e&&n&&s)}catch(t){return!1}}const Ba="60vh",$a=({children:t,className:n=""})=>e.jsx("div",{className:`w-full relative ${n}`,style:{minHeight:Ba},children:t}),Da=({message:t})=>e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100 dark:bg-slate-800 text-center p-4",style:{minHeight:Ba},children:e.jsx("p",{children:t})}),Oa=({lunarInfo:t,birthInfo:n,setShowCanvas:s})=>e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-700 cursor-pointer",onClick:()=>s(!0),onTouchStart:()=>s(!0),style:{minHeight:Ba},children:[e.jsx("div",{className:"text-2xl font-bold mb-3 text-center",children:"TinhMenhDo.com"}),e.jsx("div",{className:"text-lg mb-3 text-center max-sm:text-base",children:n}),e.jsx("div",{className:"text-md max-sm:text-sm text-center",children:t}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20 text-lg md:text-xl text-center",children:"Click hoặc di chuột để hiện lá số"})]}),Fa=({lsObj:t,fontName:n,version:s,fnDownloadCall:i,fnCopyCall:o,fnExportNote:a})=>Ea(t)?e.jsx("div",{className:"relative w-full h-full",children:e.jsx(Ca,{ls:t,fontName:n,version:s,fnDownloadCall:i,fnCopyLs:o,fnExportNote:a})}):e.jsx(Da,{message:"Dữ liệu lá số không đầy đủ"}),Ia=React.memo((({fontsPreloaded:t,showCanvas:n,lsObj:s,setShowCanvas:i,fontName:a,version:r,fnDownloadCall:l,fnCopyCall:c,fnExportNote:u})=>{const p=o.useMemo((()=>{if(!t)return e.jsx(Da,{message:"Đang tải phông chữ..."});if(!n){if(!Ea(s))return e.jsx(Da,{message:"Đang xử lý dữ liệu..."});let t="",n="";try{if(s.dtb&&s.dtb.ln){const e=s.dtb.ln;t=`Ngày ${e.d} tháng ${e.m} năm ${e.y} (Âm lịch)`}s.dtb&&s.dtb.bs&&s.dtb.bs.y&&(n=`Năm ${h[s.dtb.bs.y[0]]} ${d[s.dtb.bs.y[1]]}`)}catch(t){}return t||(t="Đang tải thông tin ngày âm lịch..."),n||(n="Đang tải thông tin năm sinh..."),e.jsx(Oa,{lunarInfo:t,birthInfo:n,setShowCanvas:i})}return e.jsx(Fa,{lsObj:s,fontName:a,version:r,fnDownloadCall:l,fnCopyCall:c,fnExportNote:u})}),[t,n,s,i,a,r,l,c,u]);return e.jsx($a,{className:"mb-10 "+(Ea(s)?"":"bg-gray-100"),children:e.jsx("div",{className:"w-full h-full transition-all duration-300 ease-in-out",onMouseEnter:()=>!n&&i(!0),onTouchStart:()=>!n&&i(!0),children:p})})}));Ia.displayName="ContentDisplay";const Ha=200,za=["Tử Vi","Thiên Phủ","Thái Dương","Vũ Khúc","Thiên Đồng","Liêm Trinh"];function Va({fontName:t,onPreloadComplete:n}){const s=o.useRef(null),i=o.useRef(null);return o.useEffect((()=>(Array.from({length:3}).forEach(((e,n)=>{try{const e=document.createElement("div");e.id=`preload-canvas-${n}`,e.style.position="fixed",e.style.left="-1000px",e.style.top="-1000px",document.body.appendChild(e);const s=new ea.Stage({container:e,width:Ha,height:Ha}),i=new ea.Layer,o=new ea.Rect({x:0,y:0,width:Ha,height:Ha,fill:"#ffffff"});i.add(o),za.forEach(((e,n)=>{const s=Object.keys(g),o=g[s[Math.floor(Math.random()*s.length)]],a=new ea.Text({x:10,y:20+30*n,text:`${e} ${o?.name||""}`,fontSize:16,fontFamily:t,fill:"#000000"});i.add(a)})),s.add(i),i.cache(),setTimeout((()=>{s.destroy(),document.body.removeChild(e)}),1e3)}catch(t){}})),setTimeout(n,1e3),()=>{i.current&&i.current.destroy()})),[t,n]),e.jsx("div",{ref:s,style:{display:"none"}})}const Ra={tag:(t,e)=>{const n=e.property?`${t}[property="${e.property}"]`:`${t}[name="${e.name}"]`;let s=document.querySelector(n);s?s.setAttribute("content",e.content):(s=document.createElement(t),Object.entries(e).forEach((([t,e])=>{s?.setAttribute(t,e)})),document.head.appendChild(s))},meta:(t,e)=>{const n={...t.startsWith("og:")?{property:t}:{name:t},content:e};Ra.tag("meta",n)},link:(t,e)=>{Ra.tag("link",{rel:t,href:e})}},Ka=React.memo((({lsObj:t,lsState:n,configIconsRef:s,setShowNewConfigPanel:i})=>{if(!t||!Ea(t))return null;try{const o=(t=>{try{const e=_a(t);return e?{ngay:e.d,thang:e.m,nam:e.y,gio:e.h,phut:e.i||0}:null}catch{return null}})(t),a=(t=>{try{const e=Ma(t);return e?{ngay:e.d,thang:e.m,nam:e.y}:null}catch{return null}})(t),r=di(t);return o&&a&&r?e.jsxs("div",{className:"mx-auto my-3 text-center text-lg",children:["Tử vi ",1===n.sex?"Nam":"Nữ"," ",o.nam,"/",o.thang,"/",o.ngay," ",o.gio,"h",o.phut," - Âm lịch ngày",a.ngay," tháng",a.thang," năm",r.y," ",e.jsx("a",{onClick:()=>{i?i(!0):s.current?.toggleMenu?.()},className:"font-bold cursor-pointer text-orange-500 hover:text-yellow-500",children:"[SỬA LẠI]"})]}):null}catch(t){return null}}));Ka.displayName="RenderTitle";var Wa,Ga,Ua,qa,Ya,Za={exports:{}};function Xa(){return Ga?Wa:(Ga=1,Wa="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function Qa(){if(qa)return Ua;qa=1;var t=Xa();function e(){}function n(){}return n.resetWarningCache=e,Ua=function(){function s(e,n,s,i,o,a){if(a!==t){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function i(){return s}s.isRequired=s;var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o}}function Ja(){return Ya||(Ya=1,Za.exports=Qa()()),Za.exports}const tr=i(Ja());var er,nr;const sr=i(nr?er:(nr=1,er=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var s,i,o;if(Array.isArray(e)){if((s=e.length)!=n.length)return!1;for(i=s;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((s=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=s;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=s;0!=i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}));var ir,or,ar,rr,lr,cr,hr,dr,ur,pr={exports:{}},mr={exports:{}},fr={exports:{}},gr={exports:{}},br={exports:{}};function wr(){return dr||(dr=1,function(t,e){var n;function s(t){function s(){if(s.enabled){var t=s,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var a=new Array(arguments.length),r=0;r<a.length;r++)a[r]=arguments[r];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,s){if("%%"===n)return n;l++;var i=e.formatters[s];if("function"==typeof i){var o=a[l];n=i.call(t,o),a.splice(l,1),l--}return n})),e.formatArgs.call(t,a),(s.log||e.log||function(){}.bind()).apply(t,a)}}return s.namespace=t,s.enabled=e.enabled(t),s.useColors=e.useColors(),s.color=function(t){var n,s=0;for(n in t)s=(s<<5)-s+t.charCodeAt(n),s|=0;return e.colors[Math.abs(s)%e.colors.length]}(t),"function"==typeof e.init&&e.init(s),s}(e=br.exports=s.debug=s.default=s).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),s=n.length,i=0;i<s;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,s;for(n=0,s=e.skips.length;n<s;n++)if(e.skips[n].test(t))return!1;for(n=0,s=e.names.length;n<s;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=function(){if(hr)return cr;hr=1;var t=1e3,e=60*t,n=60*e,s=24*n;function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}return cr=function(o,a){a=a||{};var r=typeof o;if("string"===r&&o.length>0)return function(i){if(!((i=String(i)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(o);if("number"===r&&!1===isNaN(o))return a.long?function(o){return i(o,s,"day")||i(o,n,"hour")||i(o,e,"minute")||i(o,t,"second")||o+" ms"}(o):function(i){return i>=s?Math.round(i/s)+"d":i>=n?Math.round(i/n)+"h":i>=e?Math.round(i/e)+"m":i>=t?Math.round(i/t)+"s":i+"ms"}(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))}}(),e.names=[],e.skips=[],e.formatters={}}(0,br.exports)),br.exports}var yr,xr,vr,Sr,kr,jr,Nr={exports:{}},Cr={exports:{}},Tr={exports:{}},Pr={exports:{}},Ar=(jr||(jr=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){return or?ir:(or=1,t=function(){var t={},e={};return t.on=function(t,n){var s={name:t,handler:n};return e[t]=e[t]||[],e[t].unshift(s),s},t.off=function(t){var n=e[t.name].indexOf(t);-1!==n&&e[t.name].splice(n,1)},t.trigger=function(t,n){var s,i=e[t];if(i)for(s=i.length;s--;)i[s].handler(n)},t},ir=t);var t}(),i=r(s),o=r((lr||(lr=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(function(){if(rr)return ar;function t(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function e(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}return rr=1,ar=function(n,s,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof s&&(i=s,s={}),s=s||{},i=i||function(){},a.type=s.type||"text/javascript",a.charset=s.charset||"utf8",a.async=!("async"in s)||!!s.async,a.src=n,s.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(a,s.attrs),s.text&&(a.text=""+s.text),("onload"in a?t:e)(a,i),a.onload||t(a,i),o.appendChild(a)}}());e.default=function(t){return new Promise((function(e){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)e(window.YT);else{var s="http:"===window.location.protocol?"http:":"https:";(0,n.default)(s+"//www.youtube.com/iframe_api",(function(e){e&&t.trigger("error",e)}));var i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){i&&i(),e(window.YT)}}}))},t.exports=e.default}(mr,mr.exports)),mr.exports)),a=r((kr||(kr=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=(ur||(ur=1,function(t,e){var n={};function s(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=n.DEBUG),t}(e=gr.exports=wr()).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var s="color: "+this.color;t.splice(1,0,s,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,s)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=s,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(s())}(0,gr.exports)),gr.exports),s=c(n),i=(yr||(yr=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default}(Nr,Nr.exports)),Nr.exports),o=c(i),a=(xr||(xr=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default}(Cr,Cr.exports)),Cr.exports),r=c(a),l=c((Sr||(Sr=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=(vr||(vr=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default}(Pr,Pr.exports)),Pr.exports),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={pauseVideo:{acceptableStates:[s.default.ENDED,s.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[s.default.ENDED,s.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[s.default.ENDED,s.default.PLAYING,s.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default}(Tr,Tr.exports)),Tr.exports));function c(t){return t&&t.__esModule?t:{default:t}}var h=(0,s.default)("youtube-player"),d={proxyEvents:function(t){var e={},n=function(n){var s="on"+n.slice(0,1).toUpperCase()+n.slice(1);e[s]=function(e){h('event "%s"',s,e),t.trigger(n,e)}},s=!0,i=!1,o=void 0;try{for(var a,l=r.default[Symbol.iterator]();!(s=(a=l.next()).done);s=!0)n(a.value)}catch(t){i=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(i)throw o}}return e},promisifyPlayer:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},s=function(s){e&&l.default[s]?n[s]=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.then((function(t){var e=l.default[s],i=t.getPlayerState(),o=t[s].apply(t,n);return e.stateChangeRequired||Array.isArray(e.acceptableStates)&&-1===e.acceptableStates.indexOf(i)?new Promise((function(n){t.addEventListener("onStateChange",(function s(){var i=t.getPlayerState(),o=void 0;"number"==typeof e.timeout&&(o=setTimeout((function(){t.removeEventListener("onStateChange",s),n()}),e.timeout)),Array.isArray(e.acceptableStates)&&-1!==e.acceptableStates.indexOf(i)&&(t.removeEventListener("onStateChange",s),clearTimeout(o),n())}))})).then((function(){return o})):o}))}:n[s]=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.then((function(t){return t[s].apply(t,n)}))}},i=!0,a=!1,r=void 0;try{for(var c,h=o.default[Symbol.iterator]();!(i=(c=h.next()).done);i=!0)s(c.value)}catch(t){a=!0,r=t}finally{try{!i&&h.return&&h.return()}finally{if(a)throw r}}return n}};e.default=d,t.exports=e.default}(fr,fr.exports)),fr.exports));function r(t){return t&&t.__esModule?t:{default:t}}var l=void 0;e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,i.default)();if(l||(l=(0,o.default)(r)),e.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof t&&!document.getElementById(t))throw new Error('Element "'+t+'" does not exist.');e.events=a.default.proxyEvents(r);var c=new Promise((function(s){"object"===(void 0===t?"undefined":n(t))&&t.playVideo instanceof Function?s(t):l.then((function(n){var i=new n.Player(t,e);return r.on("ready",(function(){s(i)})),null}))})),h=a.default.promisifyPlayer(c,s);return h.on=r.on,h.off=r.off,h},t.exports=e.default}(pr,pr.exports)),pr.exports);const Lr=i(Ar);var Mr=Object.defineProperty,_r=Object.defineProperties,Er=Object.getOwnPropertyDescriptors,Br=Object.getOwnPropertySymbols,$r=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable,Or=(t,e,n)=>e in t?Mr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fr=(t,e)=>{for(var n in e||(e={}))$r.call(e,n)&&Or(t,n,e[n]);if(Br)for(var n of Br(e))Dr.call(e,n)&&Or(t,n,e[n]);return t},Ir=(t,e)=>_r(t,Er(e));function Hr(t={}){return Ir(Fr({},t),{height:0,width:0,playerVars:Ir(Fr({},t.playerVars),{autoplay:0,start:0,end:0})})}var zr={videoId:tr.string,id:tr.string,className:tr.string,iframeClassName:tr.string,style:tr.object,title:tr.string,loading:tr.oneOf(["lazy","eager"]),opts:tr.objectOf(tr.any),onReady:tr.func,onError:tr.func,onPlay:tr.func,onPause:tr.func,onEnd:tr.func,onStateChange:tr.func,onPlaybackRateChange:tr.func,onPlaybackQualityChange:tr.func},Vr=class extends React.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var e,n;return null==(n=(e=this.props).onReady)?void 0:n.call(e,t)},this.onPlayerError=t=>{var e,n;return null==(n=(e=this.props).onError)?void 0:n.call(e,t)},this.onPlayerStateChange=t=>{var e,n,s,i,o,a,r,l;switch(null==(n=(e=this.props).onStateChange)||n.call(e,t),t.data){case Vr.PlayerState.ENDED:null==(i=(s=this.props).onEnd)||i.call(s,t);break;case Vr.PlayerState.PLAYING:null==(a=(o=this.props).onPlay)||a.call(o,t);break;case Vr.PlayerState.PAUSED:null==(l=(r=this.props).onPause)||l.call(r,t)}},this.onPlayerPlaybackRateChange=t=>{var e,n;return null==(n=(e=this.props).onPlaybackRateChange)?void 0:n.call(e,t)},this.onPlayerPlaybackQualityChange=t=>{var e,n;return null==(n=(e=this.props).onPlaybackQualityChange)?void 0:n.call(e,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if("undefined"==typeof document)return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const t=Ir(Fr({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Lr(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;null==(t=this.internalPlayer)||t.getIframe().then((t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,e,n,s;if(void 0===this.props.videoId||null===this.props.videoId)return void(null==(t=this.internalPlayer)||t.stopVideo());let i=!1;const o={videoId:this.props.videoId};(null==(e=this.props.opts)?void 0:e.playerVars)&&(i=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),i?null==(n=this.internalPlayer)||n.loadVideoById(o):null==(s=this.internalPlayer)||s.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return((t,e,n)=>new Promise(((e,s)=>{var i=t=>{try{a(n.next(t))}catch(t){s(t)}},o=t=>{try{a(n.throw(t))}catch(t){s(t)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);a((n=n.apply(t,null)).next())})))(this,0,(function*(){(function(t,e){var n,s,i,o;return t.id!==e.id||t.className!==e.className||(null==(n=t.opts)?void 0:n.width)!==(null==(s=e.opts)?void 0:s.width)||(null==(i=t.opts)?void 0:i.height)!==(null==(o=e.opts)?void 0:o.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title})(t,this.props)&&this.updatePlayer(),function(t,e){return t.videoId!==e.videoId||!sr(Hr(t.opts),Hr(e.opts))}(t,this.props)&&(yield this.resetPlayer()),function(t,e){var n,s;if(t.videoId!==e.videoId)return!0;const i=(null==(n=t.opts)?void 0:n.playerVars)||{},o=(null==(s=e.opts)?void 0:s.playerVars)||{};return i.start!==o.start||i.end!==o.end}(t,this.props)&&this.updateVideo()}))}componentWillUnmount(){this.destroyPlayer()}render(){return React.createElement("div",{className:this.props.className,style:this.props.style},React.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Rr=Vr;Rr.propTypes=zr,Rr.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Rr.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Kr=Rr;const Wr=React.memo((()=>{const[t,n]=o.useState(!0),[s,i]=o.useState(!0),a=o.useCallback((()=>{n((t=>!t))}),[]),r=o.useCallback((()=>{i((t=>!t))}),[]),l=({title:t,isExpanded:n,toggleFn:s,id:i,children:o})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2 group",children:e.jsxs("button",{onClick:s,className:"flex items-center font-bold text-[15px] focus:outline-none hover:text-orange-600 group-hover:text-orange-600 transition-all duration-300","aria-expanded":n,"aria-controls":i,children:[e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 mr-2 text-lg border rounded-full group-hover:border-orange-500 group-hover:bg-orange-100 group-hover:text-orange-600 group-hover:shadow-sm transition-all duration-300",children:n?"-":"+"}),e.jsx("strong",{children:t})]})}),e.jsx("div",{id:i,className:"overflow-hidden transition-all duration-300 "+(n?"max-h-[5000px] opacity-100"+("tuhoatbl-container"===i?" overflow-x-auto":""):"max-h-0 opacity-0"),children:o})]});return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"mb-20 px-2 sm:px-6",children:[e.jsx("h2",{className:"text-2xl font-bold pb-1 border-b border-dashed border-gray-300 mb-4",children:"Video hướng dẫn"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Kr,{videoId:"NihjY_1UjjA",opts:{height:"400",width:"700",playerVars:{controls:1}},className:"max-w-[900px] !w-full [&_iframe]:w-full"})})]}),e.jsxs("section",{className:"text-sm max-lg:w-full px-2 sm:px-6 mb-20",children:[e.jsx("h2",{className:"text-2xl font-bold pb-1 border-b border-dashed border-gray-300 mb-4",children:"Giải thích các kí hiệu trên lá số"}),e.jsx(l,{title:"Giải thích các kí hiệu trên lá số (click để xem)",isExpanded:s,toggleFn:r,id:"explanation-container",children:e.jsxs("ul",{className:"mb-10 list-disc pl-10 text-sm",children:[e.jsx("li",{children:"Trên cùng ở giữa là tên cung nguyên bàn ví dụ Mệnh, Bào, Phối..."}),e.jsx("li",{children:"Hình tam giác nhỏ cạnh tên cùng màu là cùng tam hợp ví dụ (Thân, Tý, Thìn) tam hợp thủy tam giác đen"}),e.jsx("li",{children:"Góc trái trên cùng 1 cung có chữ B.Dần, Đ.Mão, M.Thìn thì đó là can cung và địa chi cung tương ứng Bính Dần, Đinh Mão, Mậu Thìn"}),e.jsx("li",{children:"Chữ (T) ở cạnh tên là cung Thân Nam Phái"}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hệ thống tứ hóa, phi hóa:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Dấu ☸ ở cạnh tên cung là Lai Nhân Cung Khâm Thiên Tứ Hóa"}),e.jsx("li",{children:"Dấu + - ở chính tinh là nam nữ nhân tinh với Khâm Thiên Tứ Hóa"}),e.jsx("li",{children:"A, B, C, D tròn là tiên thiên tứ hóa tương ứng Lộc,Quyền, Khoa, Kị"}),e.jsx("li",{children:"2, 3, 4, 5 cạnh các chính tinh là phi hóa tương ứng từ Đại Vận, Lưu Niên, Lưu Nguyệt, Lưu Nhật"}),e.jsx("li",{children:"Mũi tên thẳng hướng tâm hoặc cong là các phi hóa, nét đứt là chuyển kị"}),e.jsx("li",{children:"Tự hóa hướng tâm là các mũi tên đâm xuyên tâm lá số"}),e.jsx("li",{children:"Tự hóa ly tâm là các mũi tên đâm ra ngoài"}),e.jsx("li",{children:"Phần số xanh lá và đỏ ở giữa cung phía dưới kết quả Phương Viên Lộc Kị toàn đồ "})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hệ thống sao lưu:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Tiểu Vận Nam Phái góc trái phía dưới từng năm ví dụ THÌN"}),e.jsx("li",{children:"Các sao lưu đại vận có chữ Đ. ví dụ Đ.Kình Dương"}),e.jsx("li",{children:"Các sao lưu hằng năm có chữ L. ví dụ L.Kình Dương"}),e.jsxs("li",{children:["Vận tháng:",e.jsxs("ol",{className:"list-disc pl-5",children:[e.jsx("li",{children:'Nguyệt vận nam phái gần năm tiểu vận ví dụ "V5" nguyệt vận tháng 5'}),e.jsx("li",{children:'Nguyệt lưu nguyệt Phi Tinh góc phải dưới là "Đ.Sửu P12" (tháng 12 can chi tháng theo lịch là Đinh Sửu)'}),e.jsx("li",{children:'Vận tháng tử vân phái là chữ "ẤT5" ( tháng 5 can tháng theo lịch Ất)'})]})]}),e.jsx("li",{children:"⊙ cung lưu Tuần, ⊠ cung lưu Triệt, sao có chữ L. là sao lưu niên"})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cung vị trùng điệp chọn trong menu:"}),"Tự xoay cung vị theo năm, tháng xem",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Trên cùng ở bên trái tên cung đại vận ví dụ Đ.Mệnh, Đ.Bào, Đ.Phối..."}),e.jsx("li",{children:"Trên cùng ở bên phải tên cung lưu niên ví dụ L.Mệnh, L.Bào, L.Phối..."}),e.jsx("li",{children:"Các biểu tượng ⇄, ⇅ dưới các cung phi là tuần hoàn Lộc, Quyền hoặc Kị. ⇄ thì sẽ tuần hoàn với các cung có ⇄ tương ứng, tương tự với ⇅ sẽ ương ứng với ⇅"})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hệ thống Lục Thập Hoa Giáp và tuổi các năm:"}),e.jsx("ul",{className:"list-disc pl-5",children:e.jsx("li",{children:"Phần dưới cùng có nhiều năm 2009 2021 2003 là các năm màu năm là màu ngũ hành nạp âm. Ngay trên là Can năm đó và tuổi ví du ( Đ.13 K.25) thì là Đinh 13 tuổi, Kỷ 25 Tuổi"})})]})]})}),e.jsx(l,{title:"Bảng an tứ hóa các phái tử vi (click để xem)",isExpanded:t,toggleFn:a,id:"tuhoatbl-container",children:e.jsx("table",{id:"tuhoatbl",className:"w-[1600px]",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Thiên can"}),e.jsxs("th",{children:["Bảng 1 ",e.jsx("br",{})," Được dùng nhiều"]}),e.jsxs("th",{children:["Bảng 2 ",e.jsx("br",{}),"Mặc định của phần mềm"]}),e.jsxs("th",{children:["Bảng 3 ",e.jsx("br",{})," Trung Châu Phái Vương Đình Chi"]}),e.jsxs("th",{children:["Bảng 4 ",e.jsx("br",{})," Một số phái"]}),e.jsxs("th",{children:["Bảng 5 ",e.jsx("br",{})," Trường phái nhỏ khác"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"GIÁP"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Liêm"}),e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Liêm"}),e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Liêm"}),e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Liêm"}),e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Liêm"}),e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"ẤT"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"BÍNH"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"}),e.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"}),e.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"}),e.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"}),e.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"}),e.jsx("span",{className:"inline-block w-16",children:"Liêm"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"ĐINH"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"MẬU"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Bật"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Bật"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Bật"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Bật"}),e.jsx("span",{className:"inline-block w-16",children:"Cơ"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"KỶ"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"}),e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"CANH"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Âm"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Âm"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Phủ"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Tướng"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Tham"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TÂN"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Dương"}),e.jsx("span",{className:"inline-block w-16",children:"Khúc"}),e.jsx("span",{className:"inline-block w-16",children:"Xương"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"NHÂM"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Phụ"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Phụ"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Phủ"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Phụ"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Lương"}),e.jsx("span",{className:"inline-block w-16",children:"Tử"}),e.jsx("span",{className:"inline-block w-16",children:"Phụ"}),e.jsx("span",{className:"inline-block w-16",children:"Vũ"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"QUÝ"}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),e.jsxs("td",{children:[e.jsx("span",{className:"inline-block w-16",children:"Phá"}),e.jsx("span",{className:"inline-block w-16",children:"Cự"}),e.jsx("span",{className:"inline-block w-16",children:"Âm"}),e.jsx("span",{className:"inline-block w-16",children:"Tham"})]})]})]})})})]})]})}));function Gr(){return e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 mx-auto",style:{maxWidth:"798px"},children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor","aria-labelledby":"warningTitle",children:[e.jsx("title",{id:"warningTitle",children:"Cảnh báo"}),e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})]})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsx("strong",{children:"Lưu ý:"})," đang là lá số Trung Châu Phái cẩn thận nhầm Thiên Bàn, Địa Bàn, Nhân Bàn"]})})]})})}Wr.displayName="ExplainLS";const Ur=Qs(Ys);n.locale("vi");const qr=o.lazy((()=>t((()=>import("./DYMj-iqF.js")),__vite__mapDeps([0,1,2,3])))),Yr=o.lazy((()=>t((()=>import("./B_3cwFyS.js")),__vite__mapDeps([4,1,5,2,3,6,7,8,9,10,11,12])))),Zr=o.lazy((()=>t((()=>import("./DgIyxd-w.js")),__vite__mapDeps([13,1,2,3,6,7,5,8,9,10,11,12])))),Xr=()=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-md animate-pulse",style:{minHeight:"200px"},children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-md w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-md w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-md w-2/3 mb-2"})]});function Qr(t){return t>=6&&t<=8}function Jr({fontName:t,fontClass:n,version:s,defaultType:i,titleSeo:a,descSeo:r}){const[l,c]=o.useState(!1),[h,u]=o.useState(0),[p,m]=o.useState(0),[f,b]=o.useState(0),[w,y]=o.useState(!1),[x,v]=o.useState(!1),[S,k]=o.useState(!1),[j,N]=o.useState(!0),[,C]=o.useState(!1),T=o.useRef(null),P=o.useRef(null),L=Aa(),A=Pa(),M=o.useMemo((()=>function(t){try{const e=new URLSearchParams(t.split("?")[1]),n=e.get("s"),s=null===n?1:Number(n);if(Number.isNaN(s)||0!==s&&1!==s)return Ni();const i=ji((e.get("b")||"").split("."),!0);if(!i)return Ni();const o=ji((e.get("v")||"").split("."),!1);if(!o)return Ni();const a=e.get("cf")||"",r=a?ai(a):[...Js];if(!Array.isArray(r)||r.some((t=>"number"!=typeof t)))return Ni();const l=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}-${String(i.getHours()).padStart(2,"0")}-${String(i.getMinutes()).padStart(2,"0")}`,c=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}-${String(o.getHours()).padStart(2,"0")}`;return{sex:s,dtBorn:i,strBorn:l,tkccBorn:"",dtView:o,strView:c,cfg:r,key:"",keyUrl:""}}catch{return Ni()}}(`${L}?${A.toString()}`)),[L,A]),[_,$]=o.useState((()=>{if("undefined"==typeof window)return{vBorn:new Date,vView:new Date,sex:1,cfgLs:[1],first:!1,copyState:!1,copyLS:!1};if(A.has("b")&&A.get("b")?.startsWith("1895"),void 0!==i&&!A.get("cf")){const t=[...M.cfg];return t[ti.typeLs]=i,{vBorn:M.dtBorn,vView:M.dtView,sex:M.sex,cfgLs:ci(t),first:!1,copyState:!1,copyLS:!1}}return{vBorn:M.dtBorn,vView:M.dtView,sex:M.sex,cfgLs:ci(M.cfg),first:!1,copyState:!1,copyLS:!1}})),[E,B]=o.useState((()=>Ii(new Date,new Date,1,[1]))),[O,D]=o.useState((()=>ki(_.vBorn,_.vView,_.sex,_.cfgLs))),I=o.useCallback((t=>{const e=new Date(t);return e.getFullYear()<1e3&&e.setFullYear(1e3),e.getFullYear()>2099&&e.setFullYear(2099),e}),[]),F=o.useCallback((t=>{if(!l)return;const e=t.replace(/\/tu-vi\/tu-vi\//,"/tu-vi/");window.location.pathname+window.location.search!==e&&window.history.pushState({},"",e)}),[l]),q=o.useCallback((t=>{$((e=>({...e,...t})))}),[]),H=o.useCallback((()=>{x||v(!0)}),[x]),G=o.useCallback(Rt((()=>{const t=()=>{if("undefined"!=typeof window&&window.location.search.includes("b=1895"))return;const t=ki(_.vBorn,_.vView,_.sex,_.cfgLs),e=_.cfgLs[ti.typeLs],n=`/tu-vi/${function(t){return t?.toLowerCase().trim().replace(/\s+/g,"-")||""}(ei[e]).replace(/^tu-vi\//,"")}`,s=window.location.pathname;A.toString()===t.url.substring(1)&&s.includes(n)||requestAnimationFrame((()=>{F(n+t.url),D(t)}))};"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,0)}),300),[_.vBorn,_.vView,_.sex,_.cfgLs,A,F]),V=o.useCallback(((t,e,n,s)=>{try{const i=Ii(t,e,n,s);B(i)}catch(t){}}),[]),z=o.useCallback(((t,e)=>{const n=I(e);$((s=>({...s,vBorn:"dateTimeBorn"===t?n:s.vBorn,vView:"dateTimeView"===t||e.getTime()>s.vView.getTime()?n:s.vView,first:!0}))),x||v(!0)}),[x,I]),R=o.useCallback(((t,e)=>{requestAnimationFrame((()=>{const n=function(t,e,n){let s;return s=ai("string"==typeof t?t:t.join("")),s[e]=li(e,n),[6,7,8].includes(s[1])||(s[21]=0),s}(_.cfgLs,t,e);q({cfgLs:n,first:!0}),H()}))}),[_.cfgLs,q,H]),W=o.useCallback((()=>{if(!l)return;const t=window.location.href;window.navigator.clipboard.writeText(t),q({copyState:!0}),setTimeout((()=>{q({copyState:!1})}),2e3)}),[l,q]),K=o.useCallback((()=>{y(!0)}),[]),U=o.useCallback((()=>{C(!0),setTimeout((()=>{N(!1),C(!1)}),300)}),[]),Y=function(t,e){return o.useMemo((()=>{if(!t||!Ea(t))return null;const n=_a(t),s=Ma(t),i=La(t);if(!n||!s||!i)return null;try{if(!(t.ars&&t.am&&t.aIdx&&t.dtv))return null;const s=n,i=hi(t),o=di(t),a=t.ars[t.am];if(!a||!a.sb)return null;const r=0===a.sb.length?"Vô Chính Diệu":1===a.sb.length?g[a.sb[0]]?.name||"":`${g[a.sb[0]]?.name||""}, ${g[a.sb[1]]?.name||""}`;if(!t.aIdx.aid0||!t.dtv.bs?.y||!t.aIdx.lynpc)return null;const l=function(t,e,n,s){const i=t.i||0;return`Lá số Tử Vi ${e} tuổi ${n.y} ${yi[s.cfg[ti.typeLs]]} sinh ${t.d}/${t.m}/${t.y} ${t.h}h${i} , tử vi số mệnh, bát tự ${n.y.toUpperCase()} | ${n.m.toUpperCase()} | ${n.d.toUpperCase()} | ${n.h.toUpperCase()}`}(s,i,o,{cfg:{[ti.typeLs]:e.cfg[ti.typeLs]}}),c=function(t,e,n,s,i,o,a,r,l){return`Tu vi ${t.d}/${t.m}/${t.y} tử vi trọn đời ${yi[s.cfg[ti.typeLs]-1]} ${e} tuổi ${n.y} ${t.y} mệnh tại ${d[i.ci]} có ${l}. Đại vn ${d[o.ci]}, lưu niên ${d[a.ci]}, tiểu vận ${d[r.ci]}`}(s,i,o,{cfg:{[ti.typeLs]:e.cfg[ti.typeLs]}},t.ars[t.am],t.ars[t.aIdx.aid0],t.ars[t.dtv.bs.y[1]],t.ars[t.aIdx.lynpc],r);return{title:l,description:c}}catch(t){return null}}),[t,e?.cfg])}(E,O);return o.useEffect((()=>{c(!0)}),[]),o.useEffect((()=>{"undefined"!=typeof window&&window.location.search.includes("b=1895")||l&&G()}),[_.vBorn,_.vView,_.sex,_.cfgLs,G,l]),o.useEffect((()=>{V(_.vBorn,_.vView,_.sex,_.cfgLs)}),[_.vBorn,_.vView,_.sex,_.cfgLs,V]),o.useEffect((()=>{if(!l||!Ea(E)||!Y)return;const{title:t,description:e}=Y,n=window.location.href;document.title=t;const s={"og:title":t,description:e,"og:description":e,"og:url":n};Object.entries(s).forEach((([t,e])=>{Ra.meta(t,e)})),Ra.link("canonical",n)}),[Y,E,l]),e.jsxs(e.Fragment,{children:[e.jsx(Va,{fontName:t,onPreloadComplete:K}),e.jsx(Hi,{lsUrl:O,rightDom:"",children:e.jsxs("div",{className:"max-xl:grid-cols-1 x2l:max-[1600px]:flex relative mx-auto dark:text-slate-300 pb-24 "+(j?"main-content":""),onClick:H,onTouchStart:H,style:{minHeight:"600px"},children:[e.jsx("h1",{className:"text-xl font-bold w-full text-center py-4",children:a}),E&&Ea(E)&&e.jsxs(e.Fragment,{children:[e.jsx(Ka,{lsObj:E,lsState:_,configIconsRef:T,setShowNewConfigPanel:N}),Qr(_.cfgLs[ti.typeLs])&&e.jsx(Gr,{})]}),e.jsxs("div",{className:"relative z-10 my-4 text-sm max-lg:m-0 max-lg:mb-5 max-lg:p-0",children:[e.jsx("div",{id:"lsArea",className:`relative mx-auto max-lg:mb-5 max-lg:h-auto max-lg:w-full ${n}`,ref:P,style:{minHeight:"400px"},children:e.jsx(Ia,{fontsPreloaded:w,showCanvas:x,lsObj:E,lsState:_,setShowCanvas:v,fontName:t,version:s,fnDownloadCall:h,fnCopyCall:p,fnExportNote:f})}),Ea(E)&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-2 sm:px-6",children:[e.jsx("div",{className:"relative z-10 my-4 text-sm max-lg:m-0",children:e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-3",children:[e.jsx("div",{className:"bgInset btnSave",onClick:()=>{u((t=>t+1)),setTimeout((()=>{u(0)}),200)},children:e.jsx("button",{className:"btnColorFull btnLsAction max-md:text-[10px] ",children:"Lưu ảnh lớn"})}),e.jsx("div",{className:"bgInset btnSave",onClick:async()=>{if(S)Ur.fire({title:"Thông báo",text:"Đang trong quá trình copy, vui lòng đợi...",icon:"info"});else try{k(!0),m((t=>t+1)),await new Promise((t=>setTimeout(t,1e3))),m(0),k(!1)}catch{k(!1),Ur.fire({title:"Lỗi",text:"Có lỗi xảy ra khi copy lá số",icon:"error"})}},children:e.jsx("button",{className:"btnLsAction btnColorFull max-md:text-[10px] hover:text-white transition-all hover:bg-[#c25f00] hover:bg-none",children:S?"Đang copy...":"Copy ảnh"})}),e.jsx("div",{className:"bgInset btnSave",onClick:W,children:e.jsxs("button",{className:"btnColorFull btnLsAction max-md:text-[10px] AVvXsEi94KYr1tqpyhdMUCD9vh4d3LAOE3 hover:text-white transition-all hover:bg-[#4267B2] hover:bg-none",children:["Chia sẻ ",_.copyState?"(Copy...)":""]})}),e.jsx("div",{className:"bgInset btnSave",children:e.jsx("a",{className:"btnColorFull btnLsAction max-md:text-[10px] hover:text-white transition-all hover:bg-[#1b668b] hover:bg-none",href:"https://t.me/TinhMenhDoBot/app",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})}),e.jsx("div",{className:"bgInset btnSave",onClick:async()=>{if(S)Ur.fire({title:"Thông báo",text:"Đang trong quá trình copy, vui lòng đợi...",icon:"info"});else try{b((t=>t+1)),await new Promise((t=>setTimeout(t,1e3))),b(0)}catch{Ur.fire({title:"Thông báo",text:"Có lỗi trong quá trình export lá số ấn F5 và thử lại",icon:"error"})}},children:e.jsx("span",{className:"btnColorFull btnLsAction max-md:text-[10px] hover:text-white transition-all hover:bg-[#994620] hover:bg-none",children:"Bảng ghi chú lá số"})}),e.jsx("div",{className:"bgInset btnSave",children:e.jsx("a",{href:"/tu-vi/ren-luyen-an-sao/nho-vi-tri-14-chinh-tinh",className:"btnColorFull btnLsAction max-md:text-[10px] hover:text-white transition-all hover:bg-[#994620] hover:bg-none",children:"Luyện an sao"})}),e.jsx("div",{className:"bgInset btnSave",children:e.jsx("a",{onClick:()=>N(!0),className:"btnColorFull btnLsAction max-md:text-[10px] hover:text-white transition-all hover:bg-[#994620] hover:bg-none",children:"Sửa lá số"})})]})}),e.jsx(o.Suspense,{fallback:e.jsx(Xr,{}),children:e.jsx(Zr,{ls:E},"pcsID")})]})}),e.jsxs("section",{className:"mb-20 px-2 sm:px-6",style:{minHeight:"300px"},children:[e.jsx("h2",{className:"text-2xl font-bold pb-1 border-b border-dashed border-gray-300 mb-4",children:"Chế độ AI tư vấn"}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"italic py-5",children:["AI phân tích dựa trên dữ liệu sao bạn cung cấp."," ",e.jsx("strong",{children:"Lưu ý rằng đây chỉ là góc nhìn tham khảo, không thể thay thế sự đánh giá của các chuyên gia phong thủy hay tử vi chuyên sâu."})," ","Khi đi vào phân tích chi tiết, có thể có sai số nhất định do cách diễn giải hoặc phương pháp tính toán khác biệt. Bạn có thể tiếp tục đặt câu hỏi để phân tích sâu hơn về từng cung hoặc từng bộ sao cụ thể."," ",e.jsx("strong",{className:"text-orange-500",children:"(Lưu ý dùng đúng app không dùng GPT trực tiếp)"})]}),e.jsx("div",{className:"w-full flex justify-center py-5",children:e.jsx("img",{src:"/images/tinh-menh-do-gpt.jpg",width:600,height:320,className:"transition-all rounded-xl border border-black/40 shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_8px_25px_rgba(255,104,0,0.3)] dark:shadow-[0_8px_20px_rgba(255,104,0,0.15)]",alt:"App Tinh Mệnh Đồ trên GPT",loading:"lazy"})}),e.jsxs("p",{className:"text-normal mb-5",children:["Để có thể dùng ",e.jsx("b",{children:"App Tinh Mệnh Đồ trên GPT"})," cần lấy đủ dữ liệu sao dạng text dưới đây bằng"," ",e.jsx("b",{children:"nút Copy"}),' và rồi tìm ứng dụng "Tinh Mệnh Đồ Tử Vi" trong app GPT Store hoặc click nút mở'," ",e.jsx("strong",{children:"App Tinh Mệnh Đồ GPT"})," ở phía dưới.",e.jsx("br",{}),"Sau cần phân tích tổng quát nếu cần cụ thể hơn hãy hỏi chatbot ví dụ:",e.jsx("br",{}),"-",e.jsx("i",{children:"Phân tích cung Mệnh chi tiết hơn"}),e.jsx("br",{}),"-",e.jsx("i",{children:"Phân tích Mệnh Tại Quan chi tiết hơn"}),e.jsx("br",{}),"...",e.jsx("br",{})]}),e.jsx(Mi,{ls:E}),e.jsxs("div",{className:"pt-5 text-center",children:[e.jsx("div",{className:"mb-4",children:"Link mở: "}),e.jsx("a",{href:"https://chatgpt.com/g/g-BHVwAwPzS-tu-vi-va-nghien-cuu-so-menh-tinh-menh-do",target:"_blank",rel:"noopener noreferrer",className:"mx-2 text-orange-100 bg-orange-500 hover:bg-orange-700 hover:text-white transition-all px-4 py-2 rounded-md",children:e.jsx("strong",{children:"App Tinh Mệnh Đồ trên GPT"})})]})]})]}),e.jsx(o.Suspense,{fallback:e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-md",style:{height:"200px",width:"100%"},children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-md w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-md w-1/2 mb-2"})]}),children:e.jsxs("div",{children:[e.jsx(qr,{ls:E}),e.jsx(Wr,{})]})}),e.jsx("h2",{className:"px-4",children:r}),e.jsxs("div",{className:"px-4 mb-30",children:[e.jsx("h2",{className:"text-2xl font-bold pb-1 border-b border-dashed border-gray-300 mb-4",children:"🚀 Hướng Dẫn Xem Mệnh Bằng Tinh Mệnh Đồ"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"📌 Bước 1: Truy cập ngay TinhMenhDo.com"}),e.jsx("div",{children:"🔹 Bạn sẽ thấy giao diện trực quan, dễ sử dụng để nhập thông tin cá nhân."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"📌 Bước 2: Nhập ngày tháng năm sinh & giờ sinh chính xác"}),e.jsx("div",{children:"🔹 Giờ sinh là yếu tố cực kỳ quan trọng trong Tử Vi, vì vậy hãy kiểm tra kỹ trước khi nhập!"}),e.jsx("div",{children:"🔹 Nếu không chắc chắn giờ sinh, có thể tham khảo cha mẹ hoặc dùng phương pháp truy đoán giờ sinh."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:'📌 Bước 3: Nhấn nút "AI TƯ VẤN" tổng quát (tham khảo)'}),e.jsx("div",{children:"🔹 Hệ thống AI sẽ nhanh chóng tính toán và hiển thị lá số cùng luận giải tổng quát sơ bộ."}),e.jsx("div",{children:'🔹 Hãy sử dụng nút "LẤY TEXT" để sao chép nội dung chọn đúng Tinh Mệnh Đồ trên store GPT.'})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"📌 Bước 4: Nghiên Cứu Luận Giải & Định Hướng Vận Mệnh"}),e.jsx("div",{children:"🔹 Đọc kỹ luận giải, đối chiếu với thực tế để hiểu sâu hơn về vận mệnh."}),e.jsxs("div",{children:["🔹 Để hiểu sâu hơn về luận giải mệnh và"," ",e.jsx("a",{href:"/tu-vi/la-so-tu-vi-viet-nam",children:e.jsx("strong",{children:"lá số Tử Vi"})}),", bạn có thể sử dụng các công cụ rèn luyện ",e.jsx("strong",{children:"tự học huyền học"})," trên website, những công cụ này giúp bạn thực hành và áp dụng kiến thức Tử Vi vào thực tế một cách trực quan và hiệu quả."]}),e.jsxs("div",{children:["🔹 Sách của thầy AlexAlpha, với phương pháp hệ thống hóa kiến thức ",e.jsx("strong",{children:"Tử Vi chuyên sâu"}),", là tài liệu không thể thiếu để nghiên cứu và phân tích lá số Tử Vi. Ngoài ra, bạn cũng có thể tham khảo các tài liệu, sách tham khảo từ nhiều nguồn uy tín khác để làm phong phú thêm hiểu biết về Tử Vi và các yếu tố vận mệnh."]})]})]})]})]})}),e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"fixed top-0 right-0 h-full w-[340px] bg-white dark:bg-slate-800 shadow-xl z-50 overflow-y-auto transform translate-x-full",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-md w-3/4 mb-4"}),e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-md mb-4"}),e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-md mb-4"})]})}),children:Ea(E)&&e.jsxs(e.Fragment,{children:[e.jsx("aside",{className:`fixed inset-y-0 right-0 md:w-[340px] w-full bg-white/0 dark:bg-slate-800 shadow-xl z-50 transform transition-transform ease-in-out ${j?"translate-x-0":"translate-x-full"} overflow-y-auto`,"aria-label":"Configuration panel",children:j&&e.jsx(Yr,{cfgLs:_.cfgLs,onConfigChange:R,sex:_.sex,onSexChange:t=>{q({sex:t,first:!0})},dateTimeBorn:_.vBorn,dateTimeView:_.vView,onDateChange:z,ls:E,onHidePanel:U})}),e.jsxs("div",{className:"fixed bottom-6 right-6 z-40 transition-all duration-300 ease-out "+(j?"opacity-0 translate-y-10 pointer-events-none":"opacity-100 translate-y-0 animate-in"),children:[e.jsx("button",{onClick:()=>N(!0),className:"w-14 h-14 rounded-full bg-orange-500 shadow-lg flex items-center justify-center text-white hover:bg-orange-600 transition-all hover:cursor-pointer hover:scale-110 active:scale-95 duration-200","aria-label":"Sửa lá số",children:e.jsx("span",{className:"material-symbols-rounded",children:"settings"})}),e.jsxs("svg",{className:"absolute top-[-21px] left-[-22px] pointer-events-none",width:"100",height:"100",viewBox:"0 0 100 100",children:[e.jsx("defs",{children:e.jsx("path",{id:"circlePath",d:"M 50, 50 m -35, 0 a 35,35 0 1,1 70,0 a 35,35 0 1,1 -70,0"})}),e.jsx("text",{fontSize:"14",fill:"white",fontWeight:"bold",children:e.jsx("textPath",{href:"#circlePath",startOffset:"25%",textAnchor:"middle",children:"Sửa Lá Số"})})]})]})]})}),e.jsx("style",{children:"\n      .konva-container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        min-height: 400px; /* Thêm chiều cao cố định */\n      }\n      .konva-container canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n      \n      /* Ensure body scroll is not blocked */\n      html, body {\n        overflow: auto !important;\n      }    \n\n      /* Animation for floating action button */\n      .animate-in {\n        animation: fadeInUp 0.4s ease-out forwards;\n      }\n\n      @keyframes fadeInUp {\n        from {\n          opacity: 0;\n          transform: translateY(20px);\n        }\n        to {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n      \n      /* Add skeleton loading animation */\n      .animate-pulse {\n        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n      }\n      \n      @keyframes pulse {\n        0%, 100% { opacity: 1 }\n        50% { opacity: .5 }\n      }\n    "})]})}export{ti as C,Jr as P,ui as a,hi as b,gi as c,wi as d,di as g,xi as h,bi as l,fi as t,vi as y};
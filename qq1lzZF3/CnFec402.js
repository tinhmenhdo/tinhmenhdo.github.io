import{j as i}from"./C2QZIOQO.js";import{A as ro}from"./BQaFN19K.js";import{c as ct,d as ge}from"./CZdqJKJf.js";import{R as nt,r as _}from"./mSt8MfY5.js";import{c as ao}from"./Bo2Z31qa.js";import{c as Yt,g as It}from"./Cpj98o6Y.js";import{a as re,c as J,A as be,O as ei,L as ce,h as mt,S as is,H as pt,i as se,j as lo,k as co,l as ti,C as Ue,m as $t,n as ho,f as uo,o as fo,I as mo,P as tt,p as Pt,T as en,q as Gt,r as In,s as Nn,x as Oe,t as po,e as St,G as ni,u as go,v as wo,w as Ye,y as ht,z as on,F as si,B as bo,D as vs,b as tn,E as nn,J as ks,K as xo,g as Ss,M as yo,d as vo}from"./VsI6Tx2J.js";import{K as dt,_ as Ts,R as ko,L as So,C as To,T as jo,A as Co,a as No}from"./CNuNv4A4.js";function ii(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")}function Lo(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function js(e,t){return e.get(ii(e,t))}function Po(e,t,s){Lo(e,t),t.set(e,s)}function Ao(e,t,s){return e.set(ii(e,t),s),s}const $o=100,Y={},Bo=()=>{Y.previousActiveElement instanceof HTMLElement?(Y.previousActiveElement.focus(),Y.previousActiveElement=null):document.body&&document.body.focus()},Mo=e=>new Promise((t=>{if(!e)return t();const s=window.scrollX,n=window.scrollY;Y.restoreFocusTimeout=setTimeout((()=>{Bo(),t()}),$o),window.scrollTo(s,n)})),oi="swal2-",Eo=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],j=Eo.reduce(((e,t)=>(e[t]=oi+t,e)),{}),Do=["success","warning","info","question","error"],rn=Do.reduce(((e,t)=>(e[t]=oi+t,e)),{}),ri="SweetAlert2:",os=e=>e.charAt(0).toUpperCase()+e.slice(1),Ce=e=>{console.warn(`${ri} ${"object"==typeof e?e.join(" "):e}`)},ot=e=>{console.error(`${ri} ${e}`)},Cs=[],Ho=e=>{Cs.includes(e)||(Cs.push(e),Ce(e))},ai=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ho(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},wn=e=>"function"==typeof e?e():e,rs=e=>e&&"function"==typeof e.toPromise,Ot=e=>rs(e)?e.toPromise():Promise.resolve(e),as=e=>e&&Promise.resolve(e)===e,Ne=()=>document.body.querySelector(`.${j.container}`),_t=e=>{const t=Ne();return t?t.querySelector(e):null},$e=e=>_t(`.${e}`),he=()=>$e(j.popup),Kt=()=>$e(j.icon),Io=()=>$e(j["icon-content"]),li=()=>$e(j.title),ls=()=>$e(j["html-container"]),ci=()=>$e(j.image),cs=()=>$e(j["progress-steps"]),bn=()=>$e(j["validation-message"]),We=()=>_t(`.${j.actions} .${j.confirm}`),bt=()=>_t(`.${j.actions} .${j.cancel}`),rt=()=>_t(`.${j.actions} .${j.deny}`),Oo=()=>$e(j["input-label"]),xt=()=>_t(`.${j.loader}`),Wt=()=>$e(j.actions),di=()=>$e(j.footer),xn=()=>$e(j["timer-progress-bar"]),ds=()=>$e(j.close),_o='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',hs=()=>{const e=he();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),s=Array.from(t).sort(((e,t)=>{const s=parseInt(e.getAttribute("tabindex")||"0"),n=parseInt(t.getAttribute("tabindex")||"0");return s>n?1:s<n?-1:0})),n=e.querySelectorAll(_o),i=Array.from(n).filter((e=>"-1"!==e.getAttribute("tabindex")));return[...new Set(s.concat(i))].filter((e=>je(e)))},us=()=>Ve(document.body,j.shown)&&!Ve(document.body,j["toast-shown"])&&!Ve(document.body,j["no-backdrop"]),yn=()=>{const e=he();return!!e&&Ve(e,j.toast)},Ko=()=>{const e=he();return!!e&&e.hasAttribute("data-loading")},Be=(e,t)=>{if(e.textContent="",t){const s=(new DOMParser).parseFromString(t,"text/html"),n=s.querySelector("head");n&&Array.from(n.childNodes).forEach((t=>{e.appendChild(t)}));const i=s.querySelector("body");i&&Array.from(i.childNodes).forEach((t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},Ve=(e,t)=>{if(!t)return!1;const s=t.split(/\s+/);for(let t=0;t<s.length;t++)if(!e.classList.contains(s[t]))return!1;return!0},Wo=(e,t)=>{Array.from(e.classList).forEach((s=>{!Object.values(j).includes(s)&&!Object.values(rn).includes(s)&&!Object.values(t.showClass||{}).includes(s)&&e.classList.remove(s)}))},Ae=(e,t,s)=>{if(Wo(e,t),!t.customClass)return;const n=t.customClass[s];if(n){if("string"!=typeof n&&!n.forEach)return void Ce(`Invalid type of customClass.${s}! Expected string or iterable object, got "${typeof n}"`);ae(e,n)}},vn=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${j.popup} > .${j[t]}`);case"checkbox":return e.querySelector(`.${j.popup} > .${j.checkbox} input`);case"radio":return e.querySelector(`.${j.popup} > .${j.radio} input:checked`)||e.querySelector(`.${j.popup} > .${j.radio} input:first-child`);case"range":return e.querySelector(`.${j.popup} > .${j.range} input`);default:return e.querySelector(`.${j.popup} > .${j.input}`)}},hi=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ui=(e,t,s)=>{!e||!t||("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{s?e.classList.add(t):e.classList.remove(t)})):s?e.classList.add(t):e.classList.remove(t)})))},ae=(e,t)=>{ui(e,t,!0)},Re=(e,t)=>{ui(e,t,!1)},Ge=(e,t)=>{const s=Array.from(e.children);for(let e=0;e<s.length;e++){const n=s[e];if(n instanceof HTMLElement&&Ve(n,t))return n}},st=(e,t,s)=>{s===`${parseInt(s)}`&&(s=parseInt(s)),s||0===parseInt(s)?e.style.setProperty(t,"number"==typeof s?`${s}px`:s):e.style.removeProperty(t)},ye=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},ke=e=>{e&&(e.style.display="none")},fs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((()=>{Rt(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},Ns=(e,t,s,n)=>{const i=e.querySelector(t);i&&i.style.setProperty(s,n)},Rt=function(e,t){t?ye(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ke(e)},je=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),Ro=()=>!je(We())&&!je(rt())&&!je(bt()),Ls=e=>e.scrollHeight>e.clientHeight,fi=e=>{const t=window.getComputedStyle(e),s=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return s>0||n>0},ms=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=xn();s&&je(s)&&(t&&(s.style.transition="none",s.style.width="100%"),setTimeout((()=>{s.style.transition=`width ${e/1e3}s linear`,s.style.width="0%"}),10))},zo=()=>{const e=xn();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const s=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${s}%`},Fo=()=>typeof window>"u"||typeof document>"u",Vo=`\n <div aria-labelledby="${j.title}" aria-describedby="${j["html-container"]}" class="${j.popup}" tabindex="-1">\n   <button type="button" class="${j.close}"></button>\n   <ul class="${j["progress-steps"]}"></ul>\n   <div class="${j.icon}"></div>\n   <img class="${j.image}" />\n   <h2 class="${j.title}" id="${j.title}"></h2>\n   <div class="${j["html-container"]}" id="${j["html-container"]}"></div>\n   <input class="${j.input}" id="${j.input}" />\n   <input type="file" class="${j.file}" />\n   <div class="${j.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${j.select}" id="${j.select}"></select>\n   <div class="${j.radio}"></div>\n   <label class="${j.checkbox}">\n     <input type="checkbox" id="${j.checkbox}" />\n     <span class="${j.label}"></span>\n   </label>\n   <textarea class="${j.textarea}" id="${j.textarea}"></textarea>\n   <div class="${j["validation-message"]}" id="${j["validation-message"]}"></div>\n   <div class="${j.actions}">\n     <div class="${j.loader}"></div>\n     <button type="button" class="${j.confirm}"></button>\n     <button type="button" class="${j.deny}"></button>\n     <button type="button" class="${j.cancel}"></button>\n   </div>\n   <div class="${j.footer}"></div>\n   <div class="${j["timer-progress-bar-container"]}">\n     <div class="${j["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),qo=()=>{const e=Ne();return!!e&&(e.remove(),Re([document.documentElement,document.body],[j["no-backdrop"],j["toast-shown"],j["has-column"]]),!0)},Je=()=>{Y.currentInstance.resetValidationMessage()},Uo=()=>{const e=he(),t=Ge(e,j.input),s=Ge(e,j.file),n=e.querySelector(`.${j.range} input`),i=e.querySelector(`.${j.range} output`),o=Ge(e,j.select),a=e.querySelector(`.${j.checkbox} input`),r=Ge(e,j.textarea);t.oninput=Je,s.onchange=Je,o.onchange=Je,a.onchange=Je,r.oninput=Je,n.oninput=()=>{Je(),i.value=n.value},n.onchange=()=>{Je(),i.value=n.value}},Yo=e=>"string"==typeof e?document.querySelector(e):e,Go=e=>{const t=he();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Zo=e=>{"rtl"===window.getComputedStyle(e).direction&&ae(Ne(),j.rtl)},Xo=e=>{const t=qo();if(Fo())return void ot("SweetAlert2 requires document to initialize");const s=document.createElement("div");s.className=j.container,t&&ae(s,j["no-transition"]),Be(s,Vo);const n=Yo(e.target);n.appendChild(s),Go(e),Zo(n),Uo()},ps=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Qo(e,t):e&&Be(t,e)},Qo=(e,t)=>{e.jquery?Jo(t,e):Be(t,e.toString())},Jo=(e,t)=>{if(e.textContent="",0 in t)for(let s=0;s in t;s++)e.appendChild(t[s].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},er=(e,t)=>{const s=Wt(),n=xt();!s||!n||(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ye(s):ke(s),Ae(s,t,"actions"),tr(s,n,t),Be(n,t.loaderHtml||""),Ae(n,t,"loader"))};function tr(e,t,s){const n=We(),i=rt(),o=bt();!n||!i||!o||(Ln(n,"confirm",s),Ln(i,"deny",s),Ln(o,"cancel",s),nr(n,i,o,s),s.reverseButtons&&(s.toast?(e.insertBefore(o,n),e.insertBefore(i,n)):(e.insertBefore(o,t),e.insertBefore(i,t),e.insertBefore(n,t))))}function nr(e,t,s,n){n.buttonsStyling?(ae([e,t,s],j.styled),n.confirmButtonColor&&(e.style.backgroundColor=n.confirmButtonColor,ae(e,j["default-outline"])),n.denyButtonColor&&(t.style.backgroundColor=n.denyButtonColor,ae(t,j["default-outline"])),n.cancelButtonColor&&(s.style.backgroundColor=n.cancelButtonColor,ae(s,j["default-outline"]))):Re([e,t,s],j.styled)}function Ln(e,t,s){const n=os(t);Rt(e,s[`show${n}Button`],"inline-block"),Be(e,s[`${t}ButtonText`]||""),e.setAttribute("aria-label",s[`${t}ButtonAriaLabel`]||""),e.className=j[t],Ae(e,s,`${t}Button`)}const sr=(e,t)=>{const s=ds();s&&(Be(s,t.closeButtonHtml||""),Ae(s,t,"closeButton"),Rt(s,t.showCloseButton),s.setAttribute("aria-label",t.closeButtonAriaLabel||""))},ir=(e,t)=>{const s=Ne();s&&(or(s,t.backdrop),rr(s,t.position),ar(s,t.grow),Ae(s,t,"container"))};function or(e,t){"string"==typeof t?e.style.background=t:t||ae([document.documentElement,document.body],j["no-backdrop"])}function rr(e,t){t&&(t in j?ae(e,j[t]):(Ce('The "position" parameter is not valid, defaulting to "center"'),ae(e,j.center)))}function ar(e,t){t&&ae(e,j[`grow-${t}`])}var ue={innerParams:new WeakMap,domCache:new WeakMap};const lr=["input","file","range","select","radio","checkbox","textarea"],cr=(e,t)=>{const s=he();if(!s)return;const n=ue.innerParams.get(e),i=!n||t.input!==n.input;lr.forEach((e=>{const n=Ge(s,j[e]);n&&(ur(e,t.inputAttributes),n.className=j[e],i&&ke(n))})),t.input&&(i&&dr(t),fr(t))},dr=e=>{if(!e.input)return;if(!we[e.input])return void ot(`Unexpected type of input! Expected ${Object.keys(we).join(" | ")}, got "${e.input}"`);const t=mi(e.input);if(!t)return;const s=we[e.input](t,e);ye(t),e.inputAutoFocus&&setTimeout((()=>{hi(s)}))},hr=e=>{for(let t=0;t<e.attributes.length;t++){const s=e.attributes[t].name;["id","type","value","style"].includes(s)||e.removeAttribute(s)}},ur=(e,t)=>{const s=he();if(!s)return;const n=vn(s,e);if(n){hr(n);for(const e in t)n.setAttribute(e,t[e])}},fr=e=>{if(!e.input)return;const t=mi(e.input);t&&Ae(t,e,"input")},gs=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},zt=(e,t,s)=>{if(s.inputLabel){const n=document.createElement("label"),i=j["input-label"];n.setAttribute("for",e.id),n.className=i,"object"==typeof s.customClass&&ae(n,s.customClass.inputLabel),n.innerText=s.inputLabel,t.insertAdjacentElement("beforebegin",n)}},mi=e=>{const t=he();if(t)return Ge(t,j[e]||j.input)},an=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:as(t)||Ce(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},we={};we.text=we.email=we.password=we.number=we.tel=we.url=we.search=we.date=we["datetime-local"]=we.time=we.week=we.month=(e,t)=>(an(e,t.inputValue),zt(e,e,t),gs(e,t),e.type=t.input,e),we.file=(e,t)=>(zt(e,e,t),gs(e,t),e),we.range=(e,t)=>{const s=e.querySelector("input"),n=e.querySelector("output");return an(s,t.inputValue),s.type=t.input,an(n,t.inputValue),zt(s,e,t),e},we.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const s=document.createElement("option");Be(s,t.inputPlaceholder),s.value="",s.disabled=!0,s.selected=!0,e.appendChild(s)}return zt(e,e,t),e},we.radio=e=>(e.textContent="",e),we.checkbox=(e,t)=>{const s=vn(he(),"checkbox");s.value="1",s.checked=!!t.inputValue;const n=e.querySelector("span");return Be(n,t.inputPlaceholder||t.inputLabel),s},we.textarea=(e,t)=>{an(e,t.inputValue),gs(e,t),zt(e,e,t);return setTimeout((()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(he()).width);new MutationObserver((()=>{if(!document.body.contains(e))return;const n=e.offsetWidth+(e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight))(e);n>s?he().style.width=`${n}px`:st(he(),"width",t.width)})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const mr=(e,t)=>{const s=ls();s&&(fs(s),Ae(s,t,"htmlContainer"),t.html?(ps(t.html,s),ye(s,"block")):t.text?(s.textContent=t.text,ye(s,"block")):ke(s),cr(e,t))},pr=(e,t)=>{const s=di();s&&(fs(s),Rt(s,t.footer,"block"),t.footer&&ps(t.footer,s),Ae(s,t,"footer"))},gr=(e,t)=>{const s=ue.innerParams.get(e),n=Kt();if(n){if(s&&t.icon===s.icon)return As(n,t),void Ps(n,t);if(!t.icon&&!t.iconHtml)return void ke(n);if(t.icon&&-1===Object.keys(rn).indexOf(t.icon))return ot(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),void ke(n);ye(n),As(n,t),Ps(n,t),ae(n,t.showClass&&t.showClass.icon)}},Ps=(e,t)=>{for(const[s,n]of Object.entries(rn))t.icon!==s&&Re(e,n);ae(e,t.icon&&rn[t.icon]),yr(e,t),wr(),Ae(e,t,"icon")},wr=()=>{const e=he();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),s=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<s.length;e++)s[e].style.backgroundColor=t},br='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',xr='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',As=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let s=e.innerHTML,n="";t.iconHtml?n=$s(t.iconHtml):"success"===t.icon?(n=br,s=s.replace(/ style=".*?"/g,"")):"error"===t.icon?n=xr:t.icon&&(n=$s({question:"?",warning:"!",info:"i"}[t.icon])),s.trim()!==n.trim()&&Be(e,n)},yr=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const s of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ns(e,s,"background-color",t.iconColor);Ns(e,".swal2-success-ring","border-color",t.iconColor)}},$s=e=>`<div class="${j["icon-content"]}">${e}</div>`,vr=(e,t)=>{const s=ci();if(s){if(!t.imageUrl)return void ke(s);ye(s,""),s.setAttribute("src",t.imageUrl),s.setAttribute("alt",t.imageAlt||""),st(s,"width",t.imageWidth),st(s,"height",t.imageHeight),s.className=j.image,Ae(s,t,"image")}},kr=(e,t)=>{const s=Ne(),n=he();if(s&&n){if(t.toast){st(s,"width",t.width),n.style.width="100%";const e=xt();e&&n.insertBefore(e,Kt())}else st(n,"width",t.width);st(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),ke(bn()),Sr(n,t)}},Sr=(e,t)=>{const s=t.showClass||{};e.className=`${j.popup} ${je(e)?s.popup:""}`,t.toast?(ae([document.documentElement,document.body],j["toast-shown"]),ae(e,j.toast)):ae(e,j.modal),Ae(e,t,"popup"),"string"==typeof t.customClass&&ae(e,t.customClass),t.icon&&ae(e,j[`icon-${t.icon}`])},Tr=(e,t)=>{const s=cs();if(!s)return;const{progressSteps:n,currentProgressStep:i}=t;n&&0!==n.length&&void 0!==i?(ye(s),s.textContent="",i>=n.length&&Ce("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach(((e,o)=>{const a=jr(e);if(s.appendChild(a),o===i&&ae(a,j["active-progress-step"]),o!==n.length-1){const e=Cr(t);s.appendChild(e)}}))):ke(s)},jr=e=>{const t=document.createElement("li");return ae(t,j["progress-step"]),Be(t,e),t},Cr=e=>{const t=document.createElement("li");return ae(t,j["progress-step-line"]),e.progressStepsDistance&&st(t,"width",e.progressStepsDistance),t},Nr=(e,t)=>{const s=li();s&&(fs(s),Rt(s,t.title||t.titleText,"block"),t.title&&ps(t.title,s),t.titleText&&(s.innerText=t.titleText),Ae(s,t,"title"))},pi=(e,t)=>{kr(0,t),ir(0,t),Tr(0,t),gr(e,t),vr(0,t),Nr(0,t),sr(0,t),mr(e,t),er(0,t),pr(0,t);const s=he();"function"==typeof t.didRender&&s&&t.didRender(s),Y.eventEmitter.emit("didRender",s)},Lr=()=>je(he()),gi=()=>{var e;return null===(e=We())||void 0===e?void 0:e.click()},Pr=()=>{var e;return null===(e=rt())||void 0===e?void 0:e.click()},Ar=()=>{var e;return null===(e=bt())||void 0===e?void 0:e.click()},yt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),wi=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},$r=(e,t,s)=>{wi(e),t.toast||(e.keydownHandler=e=>Mr(t,e,s),e.keydownTarget=t.keydownListenerCapture?window:he(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},On=(e,t)=>{var s;const n=hs();if(n.length)return(e+=t)===n.length?e=0:-1===e&&(e=n.length-1),void n[e].focus();null===(s=he())||void 0===s||s.focus()},bi=["ArrowRight","ArrowDown"],Br=["ArrowLeft","ArrowUp"],Mr=(e,t,s)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Er(t,e):"Tab"===t.key?Dr(t):[...bi,...Br].includes(t.key)?Hr(t.key):"Escape"===t.key&&Ir(t,e,s)))},Er=(e,t)=>{if(!wn(t.allowEnterKey))return;const s=vn(he(),t.input);if(e.target&&s&&e.target instanceof HTMLElement&&e.target.outerHTML===s.outerHTML){if(["textarea","file"].includes(t.input))return;gi(),e.preventDefault()}},Dr=e=>{const t=e.target,s=hs();let n=-1;for(let e=0;e<s.length;e++)if(t===s[e]){n=e;break}e.shiftKey?On(n,-1):On(n,1),e.stopPropagation(),e.preventDefault()},Hr=e=>{const t=Wt(),s=We(),n=rt(),i=bt();if(!(t&&s&&n&&i))return;const o=[s,n,i];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const a=bi.includes(e)?"nextElementSibling":"previousElementSibling";let r=document.activeElement;if(r){for(let e=0;e<t.children.length;e++){if(r=r[a],!r)return;if(r instanceof HTMLButtonElement&&je(r))break}r instanceof HTMLButtonElement&&r.focus()}},Ir=(e,t,s)=>{wn(t.allowEscapeKey)&&(e.preventDefault(),s(yt.esc))};var gt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Or=()=>{const e=Ne();Array.from(document.body.children).forEach((t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},xi=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},yi=typeof window<"u"&&!!window.GestureEvent,_r=()=>{if(yi&&!Ve(document.body,j.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",ae(document.body,j.iosfix),Kr()}},Kr=()=>{const e=Ne();if(!e)return;let t;e.ontouchstart=e=>{t=Wr(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Wr=e=>{const t=e.target,s=Ne(),n=ls();return!(!s||!n||Rr(e)||zr(e))&&(t===s||!Ls(s)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!(Ls(n)&&n.contains(t)))},Rr=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,zr=e=>e.touches&&e.touches.length>1,Fr=()=>{if(Ve(document.body,j.iosfix)){const e=parseInt(document.body.style.top,10);Re(document.body,j.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Vr=()=>{const e=document.createElement("div");e.className=j["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let ut=null;const qr=e=>{null===ut&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(ut=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ut+Vr()}px`)},Ur=()=>{null!==ut&&(document.body.style.paddingRight=`${ut}px`,ut=null)};function vi(e,t,s,n){yn()?Bs(e,n):(Mo(s).then((()=>Bs(e,n))),wi(Y)),yi?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),us()&&(Ur(),Fr(),xi()),Yr()}function Yr(){Re([document.documentElement,document.body],[j.shown,j["height-auto"],j["no-backdrop"],j["toast-shown"]])}function Ze(e){e=Zr(e);const t=gt.swalPromiseResolve.get(this),s=Gr(this);this.isAwaitingPromise?e.isDismissed||(Ft(this),t(e)):s&&t(e)}const Gr=e=>{const t=he();if(!t)return!1;const s=ue.innerParams.get(e);if(!s||Ve(t,s.hideClass.popup))return!1;Re(t,s.showClass.popup),ae(t,s.hideClass.popup);const n=Ne();return Re(n,s.showClass.backdrop),ae(n,s.hideClass.backdrop),Xr(e,t,s),!0};function ki(e){const t=gt.swalPromiseReject.get(this);Ft(this),t&&t(e)}const Ft=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,ue.innerParams.get(e)||e._destroy())},Zr=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Xr=(e,t,s)=>{var n;const i=Ne(),o=fi(t);"function"==typeof s.willClose&&s.willClose(t),null===(n=Y.eventEmitter)||void 0===n||n.emit("willClose",t),o?Qr(e,t,i,s.returnFocus,s.didClose):vi(e,i,s.returnFocus,s.didClose)},Qr=(e,t,s,n,i)=>{Y.swalCloseEventFinishedCallback=vi.bind(null,e,s,n,i);const o=function(e){var s;e.target===t&&(null===(s=Y.swalCloseEventFinishedCallback)||void 0===s||s.call(Y),delete Y.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o))};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},Bs=(e,t)=>{setTimeout((()=>{var s;"function"==typeof t&&t.bind(e.params)(),null===(s=Y.eventEmitter)||void 0===s||s.emit("didClose"),e._destroy&&e._destroy()}))},wt=e=>{let t=he();if(t||new Bt,t=he(),!t)return;const s=xt();yn()?ke(Kt()):Jr(t,e),ye(s),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Jr=(e,t)=>{const s=Wt(),n=xt();!s||!n||(!t&&je(We())&&(t=We()),ye(s),t&&(ke(t),n.setAttribute("data-button-to-replace",t.className),s.insertBefore(n,t)),ae([e,s],j.loading))},ea=(e,t)=>{"select"===t.input||"radio"===t.input?oa(e,t):["text","email","number","tel","textarea"].some((e=>e===t.input))&&(rs(t.inputValue)||as(t.inputValue))&&(wt(We()),ra(e,t))},ta=(e,t)=>{const s=e.getInput();if(!s)return null;switch(t.input){case"checkbox":return na(s);case"radio":return sa(s);case"file":return ia(s);default:return t.inputAutoTrim?s.value.trim():s.value}},na=e=>e.checked?1:0,sa=e=>e.checked?e.value:null,ia=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,oa=(e,t)=>{const s=he();if(!s)return;const n=e=>{"select"===t.input?aa(s,ln(e),t):"radio"===t.input&&la(s,ln(e),t)};rs(t.inputOptions)||as(t.inputOptions)?(wt(We()),Ot(t.inputOptions).then((t=>{e.hideLoading(),n(t)}))):"object"==typeof t.inputOptions?n(t.inputOptions):ot("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof t.inputOptions)},ra=(e,t)=>{const s=e.getInput();s&&(ke(s),Ot(t.inputValue).then((n=>{s.value="number"===t.input?`${parseFloat(n)||0}`:`${n}`,ye(s),s.focus(),e.hideLoading()})).catch((t=>{ot(`Error in inputValue promise: ${t}`),s.value="",ye(s),s.focus(),e.hideLoading()})))};function aa(e,t,s){const n=Ge(e,j.select);if(!n)return;const i=(e,t,n)=>{const i=document.createElement("option");i.value=n,Be(i,t),i.selected=Si(n,s.inputValue),e.appendChild(i)};t.forEach((e=>{const t=e[0],s=e[1];if(Array.isArray(s)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,n.appendChild(e),s.forEach((t=>i(e,t[1],t[0])))}else i(n,s,t)})),n.focus()}function la(e,t,s){const n=Ge(e,j.radio);if(!n)return;t.forEach((e=>{const t=e[0],i=e[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=j.radio,o.value=t,Si(t,s.inputValue)&&(o.checked=!0);const r=document.createElement("span");Be(r,i),r.className=j.label,a.appendChild(o),a.appendChild(r),n.appendChild(a)}));const i=n.querySelectorAll("input");i.length&&i[0].focus()}const ln=e=>{const t=[];return e instanceof Map?e.forEach(((e,s)=>{let n=e;"object"==typeof n&&(n=ln(n)),t.push([s,n])})):Object.keys(e).forEach((s=>{let n=e[s];"object"==typeof n&&(n=ln(n)),t.push([s,n])})),t},Si=(e,t)=>!!t&&t.toString()===e.toString(),ca=e=>{const t=ue.innerParams.get(e);e.disableButtons(),t.input?Ti(e,"confirm"):bs(e,!0)},da=e=>{const t=ue.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Ti(e,"deny"):ws(e,!1)},ha=(e,t)=>{e.disableButtons(),t(yt.cancel)},Ti=(e,t)=>{const s=ue.innerParams.get(e);if(!s.input)return void ot(`The "input" parameter is needed to be set when using returnInputValueOn${os(t)}`);const n=e.getInput(),i=ta(e,s);s.inputValidator?ua(e,i,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(s.validationMessage||n.validationMessage)):"deny"===t?ws(e,i):bs(e,i)},ua=(e,t,s)=>{const n=ue.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>Ot(n.inputValidator(t,n.validationMessage)))).then((n=>{e.enableButtons(),e.enableInput(),n?e.showValidationMessage(n):"deny"===s?ws(e,t):bs(e,t)}))},ws=(e,t)=>{const s=ue.innerParams.get(e||void 0);s.showLoaderOnDeny&&wt(rt()),s.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((()=>Ot(s.preDeny(t,s.validationMessage)))).then((s=>{!1===s?(e.hideLoading(),Ft(e)):e.close({isDenied:!0,value:typeof s>"u"?t:s})})).catch((t=>ji(e||void 0,t)))):e.close({isDenied:!0,value:t})},Ms=(e,t)=>{e.close({isConfirmed:!0,value:t})},ji=(e,t)=>{e.rejectPromise(t)},bs=(e,t)=>{const s=ue.innerParams.get(e||void 0);s.showLoaderOnConfirm&&wt(),s.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((()=>Ot(s.preConfirm(t,s.validationMessage)))).then((s=>{je(bn())||!1===s?(e.hideLoading(),Ft(e)):Ms(e,typeof s>"u"?t:s)})).catch((t=>ji(e||void 0,t)))):Ms(e,t)};function cn(){const e=ue.innerParams.get(this);if(!e)return;const t=ue.domCache.get(this);ke(t.loader),yn()?e.icon&&ye(Kt()):fa(t),Re([t.popup,t.actions],j.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const fa=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ye(t[0],"inline-block"):Ro()&&ke(e.actions)};function Ci(){const e=ue.innerParams.get(this),t=ue.domCache.get(this);return t?vn(t.popup,e.input):null}function Ni(e,t,s){const n=ue.domCache.get(e);t.forEach((e=>{n[e].disabled=s}))}function Li(e,t){const s=he();if(s&&e)if("radio"===e.type){const e=s.querySelectorAll(`[name="${j.radio}"]`);for(let s=0;s<e.length;s++)e[s].disabled=t}else e.disabled=t}function Pi(){Ni(this,["confirmButton","denyButton","cancelButton"],!1)}function Ai(){Ni(this,["confirmButton","denyButton","cancelButton"],!0)}function $i(){Li(this.getInput(),!1)}function Bi(){Li(this.getInput(),!0)}function Mi(e){const t=ue.domCache.get(this),s=ue.innerParams.get(this);Be(t.validationMessage,e),t.validationMessage.className=j["validation-message"],s.customClass&&s.customClass.validationMessage&&ae(t.validationMessage,s.customClass.validationMessage),ye(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",j["validation-message"]),hi(n),ae(n,j.inputerror))}function Ei(){const e=ue.domCache.get(this);e.validationMessage&&ke(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Re(t,j.inputerror))}const ft={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ma=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],pa={allowEnterKey:void 0},ga=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Di=e=>Object.prototype.hasOwnProperty.call(ft,e),Hi=e=>-1!==ma.indexOf(e),Ii=e=>pa[e],wa=e=>{Di(e)||Ce(`Unknown parameter "${e}"`)},ba=e=>{ga.includes(e)&&Ce(`The parameter "${e}" is incompatible with toasts`)},xa=e=>{const t=Ii(e);t&&ai(e,t)},ya=e=>{!1===e.backdrop&&e.allowOutsideClick&&Ce('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)wa(t),e.toast&&ba(t),xa(t)};function Oi(e){const t=he(),s=ue.innerParams.get(this);if(!t||Ve(t,s.hideClass.popup))return void Ce("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const n=va(e),i=Object.assign({},s,n);pi(this,i),ue.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const va=e=>{const t={};return Object.keys(e).forEach((s=>{Hi(s)?t[s]=e[s]:Ce(`Invalid parameter to update: ${s}`)})),t};function _i(){const e=ue.domCache.get(this),t=ue.innerParams.get(this);t?(e.popup&&Y.swalCloseEventFinishedCallback&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),Y.eventEmitter.emit("didDestroy"),ka(this)):Ki(this)}const ka=e=>{Ki(e),delete e.params,delete Y.keydownHandler,delete Y.keydownTarget,delete Y.currentInstance},Ki=e=>{e.isAwaitingPromise?(Pn(ue,e),e.isAwaitingPromise=!0):(Pn(gt,e),Pn(ue,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Pn=(e,t)=>{for(const s in e)e[s].delete(t)};var Sa=Object.freeze({__proto__:null,_destroy:_i,close:Ze,closeModal:Ze,closePopup:Ze,closeToast:Ze,disableButtons:Ai,disableInput:Bi,disableLoading:cn,enableButtons:Pi,enableInput:$i,getInput:Ci,handleAwaitingPromise:Ft,hideLoading:cn,rejectPromise:ki,resetValidationMessage:Ei,showValidationMessage:Mi,update:Oi});const Ta=(e,t,s)=>{e.toast?ja(e,t,s):(Na(t),La(t),Pa(e,t,s))},ja=(e,t,s)=>{t.popup.onclick=()=>{e&&(Ca(e)||e.timer||e.input)||s(yt.close)}},Ca=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let dn=!1;const Na=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(dn=!0)}}},La=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(dn=!0)}}},Pa=(e,t,s)=>{t.container.onclick=n=>{dn?dn=!1:n.target===t.container&&wn(e.allowOutsideClick)&&s(yt.backdrop)}},Aa=e=>"object"==typeof e&&e.jquery,Es=e=>e instanceof Element||Aa(e),$a=e=>{const t={};return"object"!=typeof e[0]||Es(e[0])?["title","html","icon"].forEach(((s,n)=>{const i=e[n];"string"==typeof i||Es(i)?t[s]=i:void 0!==i&&ot(`Unexpected type of ${s}! Expected "string" or "Element", got ${typeof i}`)})):Object.assign(t,e[0]),t};function Ba(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return new this(...t)}function Ma(e){return class extends(this){_main(t,s){return super._main(t,Object.assign({},e,s))}}}const Ea=()=>Y.timeout&&Y.timeout.getTimerLeft(),Wi=()=>{if(Y.timeout)return zo(),Y.timeout.stop()},Ri=()=>{if(Y.timeout){const e=Y.timeout.start();return ms(e),e}},Da=()=>{const e=Y.timeout;return e&&(e.running?Wi():Ri())},Ha=e=>{if(Y.timeout){const t=Y.timeout.increase(e);return ms(t,!0),t}},Ia=()=>!(!Y.timeout||!Y.timeout.isRunning());let Ds=!1;const _n={};function Oa(){_n[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ds||(document.body.addEventListener("click",_a),Ds=!0)}const _a=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in _n){const s=t.getAttribute(e);if(s)return void _n[e].fire({template:s})}};class Ka{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){var s=this;const n=function(){s.removeListener(e,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.apply(s,o)};this.on(e,n)}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];this._getHandlersByEventName(e).forEach((e=>{try{e.apply(this,s)}catch(e){console.error(e)}}))}removeListener(e,t){const s=this._getHandlersByEventName(e),n=s.indexOf(t);n>-1&&s.splice(n,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}Y.eventEmitter=new Ka;const Wa=(e,t)=>{Y.eventEmitter.on(e,t)},Ra=(e,t)=>{Y.eventEmitter.once(e,t)},za=(e,t)=>{e?t?Y.eventEmitter.removeListener(e,t):Y.eventEmitter.removeAllListeners(e):Y.eventEmitter.reset()};var Fa=Object.freeze({__proto__:null,argsToParams:$a,bindClickHandler:Oa,clickCancel:Ar,clickConfirm:gi,clickDeny:Pr,enableLoading:wt,fire:Ba,getActions:Wt,getCancelButton:bt,getCloseButton:ds,getConfirmButton:We,getContainer:Ne,getDenyButton:rt,getFocusableElements:hs,getFooter:di,getHtmlContainer:ls,getIcon:Kt,getIconContent:Io,getImage:ci,getInputLabel:Oo,getLoader:xt,getPopup:he,getProgressSteps:cs,getTimerLeft:Ea,getTimerProgressBar:xn,getTitle:li,getValidationMessage:bn,increaseTimer:Ha,isDeprecatedParameter:Ii,isLoading:Ko,isTimerRunning:Ia,isUpdatableParameter:Hi,isValidParameter:Di,isVisible:Lr,mixin:Ma,off:za,on:Wa,once:Ra,resumeTimer:Ri,showLoading:wt,stopTimer:Wi,toggleTimer:Da});class Va{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const zi=["swal-title","swal-html","swal-footer"],qa=e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const s=t.content;return el(s),Object.assign(Ua(s),Ya(s),Ga(s),Za(s),Xa(s),Qa(s),Ja(s,zi))},Ua=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{it(e,["name","value"]);const s=e.getAttribute("name"),n=e.getAttribute("value");!s||!n||(t[s]="boolean"==typeof ft[s]?"false"!==n:"object"==typeof ft[s]?JSON.parse(n):n)})),t},Ya=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((e=>{const s=e.getAttribute("name"),n=e.getAttribute("value");!s||!n||(t[s]=new Function(`return ${n}`)())})),t},Ga=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{it(e,["type","color","aria-label"]);const s=e.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(t[`${s}ButtonText`]=e.innerHTML,t[`show${os(s)}Button`]=!0,e.hasAttribute("color")&&(t[`${s}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${s}ButtonAriaLabel`]=e.getAttribute("aria-label")))})),t},Za=e=>{const t={},s=e.querySelector("swal-image");return s&&(it(s,["src","width","height","alt"]),s.hasAttribute("src")&&(t.imageUrl=s.getAttribute("src")||void 0),s.hasAttribute("width")&&(t.imageWidth=s.getAttribute("width")||void 0),s.hasAttribute("height")&&(t.imageHeight=s.getAttribute("height")||void 0),s.hasAttribute("alt")&&(t.imageAlt=s.getAttribute("alt")||void 0)),t},Xa=e=>{const t={},s=e.querySelector("swal-icon");return s&&(it(s,["type","color"]),s.hasAttribute("type")&&(t.icon=s.getAttribute("type")),s.hasAttribute("color")&&(t.iconColor=s.getAttribute("color")),t.iconHtml=s.innerHTML),t},Qa=e=>{const t={},s=e.querySelector("swal-input");s&&(it(s,["type","label","placeholder","value"]),t.input=s.getAttribute("type")||"text",s.hasAttribute("label")&&(t.inputLabel=s.getAttribute("label")),s.hasAttribute("placeholder")&&(t.inputPlaceholder=s.getAttribute("placeholder")),s.hasAttribute("value")&&(t.inputValue=s.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach((e=>{it(e,["value"]);const s=e.getAttribute("value");if(!s)return;const n=e.innerHTML;t.inputOptions[s]=n}))),t},Ja=(e,t)=>{const s={};for(const n in t){const i=t[n],o=e.querySelector(i);o&&(it(o,[]),s[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return s},el=e=>{const t=zi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const s=e.tagName.toLowerCase();t.includes(s)||Ce(`Unrecognized element <${s}>`)}))},it=(e,t)=>{Array.from(e.attributes).forEach((s=>{-1===t.indexOf(s.name)&&Ce([`Unrecognized attribute "${s.name}" on <${e.tagName.toLowerCase()}>.`,""+(t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element.")])}))},Fi=10,tl=e=>{const t=Ne(),s=he();"function"==typeof e.willOpen&&e.willOpen(s),Y.eventEmitter.emit("willOpen",s);const n=window.getComputedStyle(document.body).overflowY;il(t,s,e),setTimeout((()=>{nl(t,s)}),10),us()&&(sl(t,e.scrollbarPadding,n),Or()),!yn()&&!Y.previousActiveElement&&(Y.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(s))),Y.eventEmitter.emit("didOpen",s),Re(t,j["no-transition"])},hn=e=>{const t=he();if(e.target!==t)return;const s=Ne();t.removeEventListener("animationend",hn),t.removeEventListener("transitionend",hn),s.style.overflowY="auto"},nl=(e,t)=>{fi(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",hn),t.addEventListener("transitionend",hn)):e.style.overflowY="auto"},sl=(e,t,s)=>{_r(),t&&"hidden"!==s&&qr(s),setTimeout((()=>{e.scrollTop=0}))},il=(e,t,s)=>{ae(e,s.showClass.backdrop),s.animation?(t.style.setProperty("opacity","0","important"),ye(t,"grid"),setTimeout((()=>{ae(t,s.showClass.popup),t.style.removeProperty("opacity")}),10)):ye(t,"grid"),ae([document.documentElement,document.body],j.shown),s.heightAuto&&s.backdrop&&!s.toast&&ae([document.documentElement,document.body],j["height-auto"])};var Hs={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function ol(e){e.inputValidator||("email"===e.input&&(e.inputValidator=Hs.email),"url"===e.input&&(e.inputValidator=Hs.url))}function rl(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(Ce('Target parameter is not valid, defaulting to "body"'),e.target="body")}function al(e){ol(e),e.showLoaderOnConfirm&&!e.preConfirm&&Ce("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),rl(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Xo(e)}let _e;var Zt=new WeakMap;class xe{constructor(){if(Po(this,Zt,void 0),typeof window>"u")return;_e=this;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,Ao(Zt,this,this._main(_e.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ya(Object.assign({},t,e)),Y.currentInstance){const e=gt.swalPromiseResolve.get(Y.currentInstance),{isAwaitingPromise:t}=Y.currentInstance;Y.currentInstance._destroy(),t||e({isDismissed:!0}),us()&&xi()}Y.currentInstance=_e;const s=cl(e,t);al(s),Object.freeze(s),Y.timeout&&(Y.timeout.stop(),delete Y.timeout),clearTimeout(Y.restoreFocusTimeout);const n=dl(_e);return pi(_e,s),ue.innerParams.set(_e,s),ll(_e,n,s)}then(e){return js(Zt,this).then(e)}finally(e){return js(Zt,this).finally(e)}}const ll=(e,t,s)=>new Promise(((n,i)=>{const o=t=>{e.close({isDismissed:!0,dismiss:t})};gt.swalPromiseResolve.set(e,n),gt.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{ca(e)},t.denyButton.onclick=()=>{da(e)},t.cancelButton.onclick=()=>{ha(e,o)},t.closeButton.onclick=()=>{o(yt.close)},Ta(s,t,o),$r(Y,s,o),ea(e,s),tl(s),hl(Y,s,o),ul(t,s),setTimeout((()=>{t.container.scrollTop=0}))})),cl=(e,t)=>{const s=qa(e),n=Object.assign({},ft,t,s,e);return n.showClass=Object.assign({},ft.showClass,n.showClass),n.hideClass=Object.assign({},ft.hideClass,n.hideClass),!1===n.animation&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},dl=e=>{const t={popup:he(),container:Ne(),actions:Wt(),confirmButton:We(),denyButton:rt(),cancelButton:bt(),loader:xt(),closeButton:ds(),validationMessage:bn(),progressSteps:cs()};return ue.domCache.set(e,t),t},hl=(e,t,s)=>{const n=xn();ke(n),t.timer&&(e.timeout=new Va((()=>{s("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ye(n),Ae(n,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&ms(t.timer)}))))},ul=(e,t)=>{if(!t.toast){if(!wn(t.allowEnterKey))return ai("allowEnterKey"),void pl();fl(e)||ml(e,t)||On(-1,1)}},fl=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const e of t)if(e instanceof HTMLElement&&je(e))return e.focus(),!0;return!1},ml=(e,t)=>t.focusDeny&&je(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&je(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!je(e.confirmButton))&&(e.confirmButton.focus(),!0),pl=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((()=>{e.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${e}`)}xe.prototype.disableButtons=Ai,xe.prototype.enableButtons=Pi,xe.prototype.getInput=Ci,xe.prototype.disableInput=Bi,xe.prototype.enableInput=$i,xe.prototype.hideLoading=cn,xe.prototype.disableLoading=cn,xe.prototype.showValidationMessage=Mi,xe.prototype.resetValidationMessage=Ei,xe.prototype.close=Ze,xe.prototype.closePopup=Ze,xe.prototype.closeModal=Ze,xe.prototype.closeToast=Ze,xe.prototype.rejectPromise=ki,xe.prototype.update=Oi,xe.prototype._destroy=_i,Object.assign(xe,Fa),Object.keys(Sa).forEach((e=>{xe[e]=function(){return _e&&_e[e]?_e[e](...arguments):null}})),xe.DismissReason=yt,xe.version="11.14.5";const Bt=xe;Bt.default=Bt,typeof document<"u"&&function(e,t){var s=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=t);else try{s.innerHTML=t}catch{s.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const Is=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],An=()=>{};function Vi(e){function t(e){const t={},s={},n=Is.map((e=>e.key));return Object.entries(e).forEach((e=>{let[i,o]=e;n.includes(i)&&nt.isValidElement(o)?(t[i]=o,s[i]=" "):s[i]=o})),[t,s]}function s(t,s){Object.entries(s).forEach((s=>{let[n,i]=s;const o=Is.find((e=>e.key===n)).getter(e),a=ao(o);a.render(i),t.__roots.push(a)}))}function n(e){e.__roots.forEach((e=>{e.unmount()})),e.__roots=[]}return class extends e{static argsToParams(t){if(nt.isValidElement(t[0])||nt.isValidElement(t[1])){const e={};return["title","html","icon"].forEach(((s,n)=>{void 0!==t[n]&&(e[s]=t[n])})),e}return e.argsToParams(t)}_main(e,i){this.__roots=[],this.__params=Object.assign({},i,e);const[o,a]=t(this.__params),r=a.willOpen||An,l=a.didOpen||An,c=a.didDestroy||An;return super._main(Object.assign({},a,{willOpen:e=>{s(this,o),r(e)},didOpen:e=>{setTimeout((()=>{l(e)}))},didDestroy:e=>{c(e),n(this)}}))}update(e){Object.assign(this.__params,e),n(this);const[i,o]=t(this.__params);super.update(o),s(this,i)}}}function gl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var qi=gl,wl="object"==typeof Yt&&Yt&&Yt.Object===Object&&Yt,bl=wl,xl=bl,yl="object"==typeof self&&self&&self.Object===Object&&self,vl=xl||yl||Function("return this")(),Ui=vl,kl=vl,Sl=function(){return kl.Date.now()},Tl=Sl,jl=/\s/;function Cl(e){for(var t=e.length;t--&&jl.test(e.charAt(t)););return t}var Nl=Cl,Ll=Nl,Pl=/^\s+/;function Al(e){return e&&e.slice(0,Ll(e)+1).replace(Pl,"")}var $l=Al,Bl=vl,Ml=Bl.Symbol,Yi=Ml,Os=Yi,Gi=Object.prototype,El=Gi.hasOwnProperty,Dl=Gi.toString,Tt=Os?Os.toStringTag:void 0;function Hl(e){var t=El.call(e,Tt),s=e[Tt];try{e[Tt]=void 0;var n=!0}catch{}var i=Dl.call(e);return n&&(t?e[Tt]=s:delete e[Tt]),i}var Il=Hl,Ol=Object.prototype,_l=Ol.toString;function Kl(e){return _l.call(e)}var Wl=Kl,_s=Yi,Rl=Il,zl=Wl,Fl="[object Null]",Vl="[object Undefined]",Ks=Yi?Yi.toStringTag:void 0;function ql(e){return null==e?void 0===e?Vl:Fl:Ks&&Ks in Object(e)?Rl(e):zl(e)}var Ul=ql;function Yl(e){return null!=e&&"object"==typeof e}var Gl=Yl,Zl=Ul,Xl=Gl,Ql="[object Symbol]";function Jl(e){return"symbol"==typeof e||Xl(e)&&Zl(e)==Ql}var ec=Jl,tc=$l,Ws=qi,nc=ec,Rs=NaN,sc=/^[-+]0x[0-9a-f]+$/i,ic=/^0b[01]+$/i,oc=/^0o[0-7]+$/i,rc=parseInt;function ac(e){if("number"==typeof e)return e;if(nc(e))return Rs;if(Ws(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ws(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tc(e);var s=ic.test(e);return s||oc.test(e)?rc(e.slice(2),s?2:8):sc.test(e)?Rs:+e}var lc=ac,cc=qi,$n=Tl,zs=lc,dc="Expected a function",hc=Math.max,uc=Math.min;function fc(e,t,s){var n,i,o,a,r,l,c=0,d=!1,h=!1,u=!0;if("function"!=typeof e)throw new TypeError(dc);function m(t){var s=n,o=i;return n=i=void 0,c=t,a=e.apply(o,s)}function p(e){var s=e-l;return void 0===l||s>=t||s<0||h&&e-c>=o}function f(){var e=$n();if(p(e))return g(e);r=setTimeout(f,function(e){var s=t-(e-l);return h?uc(s,o-(e-c)):s}(e))}function g(e){return r=void 0,u&&n?m(e):(n=i=void 0,a)}function w(){var e=$n(),s=p(e);if(n=arguments,i=this,l=e,s){if(void 0===r)return function(e){return c=e,r=setTimeout(f,t),d?m(e):a}(l);if(h)return clearTimeout(r),r=setTimeout(f,t),m(l)}return void 0===r&&(r=setTimeout(f,t)),a}return t=zs(t)||0,cc(s)&&(d=!!s.leading,o=(h="maxWait"in s)?hc(zs(s.maxWait)||0,t):o,u="trailing"in s?!!s.trailing:u),w.cancel=function(){void 0!==r&&clearTimeout(r),c=0,n=l=i=r=void 0},w.flush=function(){return void 0===r?a:g($n())},w}var mc=fc;const pc=It(mc),gc=742,wc=960,Fs=54,Vs=1,vt=Object.freeze([1,2,3,0,0,0,1,1,0,0,0,0,0,1,0,1,1,0,0,0,2,0,0]);var I=(e=>(e[e.lsCanType=0]="lsCanType",e[e.typeLs=1]="typeLs",e[e.typePhiHoa=2]="typePhiHoa",e[e.showHideStar=3]="showHideStar",e[e.currentStar=4]="currentStar",e[e.dvTuHoa=5]="dvTuHoa",e[e.locKiToanDo=6]="locKiToanDo",e[e.tuanHoanZone=7]="tuanHoanZone",e[e.lnTuHoa=8]="lnTuHoa",e[e.lnDHCQH=9]="lnDHCQH",e[e.lnKVXK=10]="lnKVXK",e[e.lnTuTr=11]="lnTuTr",e[e.isADSat=12]="isADSat",e[e.batTuCenter=13]="batTuCenter",e[e.batTuCung=14]="batTuCung",e[e.isNapAmCung=15]="isNapAmCung",e[e.showSun=16]="showSun",e[e.shortStar=17]="shortStar",e[e.rotateZone=18]="rotateZone",e[e.drawByZone=19]="drawByZone",e[e.showHoaIcon=20]="showHoaIcon",e[e.tcpb=21]="tcpb",e[e.dvStar=22]="dvStar",e))(I||{});const bc=["la-so-tu-vi-viet-nam","luong-phai-nam-phai","kham-thien-tu-hoa-nam-phai","tu-vi-nam-phai","tu-vi-phi-tinh-luong-phai","tu-vi-kham-thien-tu-hoa","tu-vi-trung-chau-phai","tu-vi-trung-chau-phai-kham-thien","tu-vi-trung-chau-luong-phai"];var me=(e=>(e[e.numLoc=0]="numLoc",e[e.numKi=1]="numKi",e[e.currentLoc=2]="currentLoc",e[e.isMoveLoc=3]="isMoveLoc",e[e.isMoveKi=4]="isMoveKi",e[e.isTruyLoc=5]="isTruyLoc",e[e.isTruyKi=6]="isTruyKi",e))(me||{}),Z=(e=>(e[e.isMoveLoc=0]="isMoveLoc",e[e.totalLoc=1]="totalLoc",e[e.currentLoc=2]="currentLoc",e[e.isMoveAllLoc=3]="isMoveAllLoc",e[e.locKeep=4]="locKeep",e[e.isMoveNienLoc=5]="isMoveNienLoc",e[e.isMoveKi=0]="isMoveKi",e[e.totalKi=1]="totalKi",e[e.currentKi=2]="currentKi",e))(Z||{}),z=(e=>(e[e.L=0]="L",e[e.Q=1]="Q",e[e.Z=2]="Z",e[e.K=3]="K",e))(z||{});function Bn(e){let t=e;return t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),t=t.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),t=t.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),t=t.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),t=t.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),t=t.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),t=t.replace(/Đ/g,"D"),t.toLowerCase()}function un(e){return e.split("").map((e=>parseInt(e,10))).filter((e=>!isNaN(e)))}const pe=(e,t,s)=>Math.max(t,Math.min(s,e));function Zi(e,t){let s=t;switch(e){case 0:case 3:case 4:case 20:s=pe(s,0,4);break;case 1:s=pe(s,0,8);break;case 2:s=pe(s,0,3);break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 22:s=pe(s,0,1);break;case 21:s=pe(s,0,2)}return s}const xc=(e,t,s)=>{let n;return n=un("string"==typeof e?e:e.join("")),n[t]=Zi(t,s),[6,7,8].includes(n[1])||(n[21]=0),n};function qs(e){return un(e.join("")).map(((e,t)=>Zi(t,e)))}function kn(e){return 1===e.sx?"Nam":"Nữ"}function xs(e){return{y:`${re[e.dtb.bs.y[0]]} ${J[e.dtb.bs.y[1]]}`,m:`${re[e.dtb.bs.m[0]]} ${J[e.dtb.bs.m[1]]}`,d:`${re[e.dtb.bs.d[0]]} ${J[e.dtb.bs.d[1]]}`,h:`${re[e.dtb.bs.h[0]]} ${J[e.dtb.bs.h[1]]}`}}function yc(e){return{y:`${re[e.dtb.tk.y[0]]} ${J[e.dtb.tk.y[1]]}`,m:`${re[e.dtb.tk.m[0]]} ${J[e.dtb.tk.m[1]]}`,d:`${re[e.dtb.tk.d[0]]} ${J[e.dtb.tk.d[1]]}`,h:`${re[e.dtb.tk.h[0]]} ${J[e.dtb.tk.h[1]]}`}}function ys(e){let t=be[e.ars[e.at].ai];t===be[10]&&(t=e.sx>0?"THÊ":"PHU");let s="Không được mùa sinh";return ei[ce[e.dtb.bs.y[2]]].includes(e.dtb.tki[0])&&(s="Được mùa sinh"),{ad:`${e.ad>0?mt[1]:mt[0]}`,adage:`${e.adye>0?"Dương":"Âm"} ${kn(e)}`,sk:`${is[e.sks]}`,hmenh:`${pt[ce[e.dtb.bs.y[2]]]}`,cuc:`${pt[e.cid]}`,tcu:t,mchu:`${se[e.mctc[0]].name}`,tchu:`${se[e.mctc[1]].name}`,mua:`${lo[co[e.dtb.tki[0]]]}`,okmua:`${s}`}}function jt(e){const t=[[1,1],[0,1],[1,0],[0,0]];let s=[];return s=s.concat(t[e[0]],t[e[1]],t[e[2]]),uo.indexOf(s.join(""))}function vc(e,t){return $t[e]===$t[t]?1:0}function fn(e,t){return ti[Ue[e]][Ue[t]][vc(e,t)]}function kc(e,t){return ho[e][t]}const Te=["#2C3E50","#27AE60","#8E44AD","#2980B9","#F39C12","#D35400","#C0392B","#458305","#04719d"],Sc=["Mặc định","Lương Phái + Nam phái","Khâm Thiên + Nam phái","Nam phái","Lương Phái","Khâm Thiên","Trung Châu Phái","Trung Châu Phái + Khâm Thiên","Trung Châu Phái + Lương Phái"],Tc=["Thiên Bàn","Địa Bàn","Nhân Bàn"],jc=["#04719d","#8d4526","#458305"],Cc=["Tứ hóa tiên thiên","Tứ Hóa Đại Vận","Tứ Hóa Lưu Niên","Tứ Hóa Lưu Nguyệt","Tứ Hóa Lưu Nhật"],Nc=["Bảng tứ hóa 1 - Canh Đồng => Kị","Bảng tứ hóa 2 - Canh Âm => Kị","Bảng tứ hóa 3 - Trung Châu Phái","Bảng tứ hóa 4 - Phái khác","Bảng tứ hóa 5 - Trường phái nhỏ"],Xi=["lá số tử vi tổng hợp","lá số tử vi Phi Tinh Lương Phái kết hợp Nam Phái","lá số tử vi Khâm Thiên Tứ Hóa kết hợp Nam Phái","lá số tử vi Nam Phái","lá số tử vi Phi Tinh Lương Phái","lá số tử vi Khâm Thiên Tứ Hóa","lá số Trung Châu Phái","lá số Trung Châu Phái & Khâm Thiên Tứ Hóa","lá số Trung Châu Phái & Lương Phái"],Lc=["Hiện đủ sao","Hiện sao chính","Hiện sao chính, quý tinh","Hiện sao chính, quý tinh, trường sinh","Hiện sao chính, quý tinh, trường sinh, lục bại"],Pc=["Không hiện sao lưu","Hiện 9 sao lưu","Hiện 15 sao lưu","Hiện toàn bộ sao lưu"];function Ct(e,t){for(const s of e)if(s.includes(t))return!0;return!1}function Us(e,t=new Date,s=1,n=[...vt]){const i=n,o=e??new Date,a=ct(o.getFullYear(),o.getMonth()+1,o.getDate(),o.getHours(),o.getMinutes()),r=`?s=${s}&b=${`${o.getFullYear()}.${(o.getMonth()+1).toString().padStart(2,"0")}.${o.getDate().toString().padStart(2,"0")}.${o.getHours().toString().padStart(2,"0")}.${o.getMinutes().toString().padStart(2,"0")}`}&v=${`${t.getFullYear()}.${(t.getMonth()+1).toString().padStart(2,"0")}.${t.getDate().toString().padStart(2,"0")}.${t.getHours().toString().padStart(2,"0")}`}&cf=${i.join("")}`,l=`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}-${o.getHours()}-${o.getMinutes()}`,c=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}-${t.getHours()}`;return{url:r,urlArr:[r],sex:s,dtBorn:o,strBorn:l,tkccBorn:"",dtView:t,strView:c,cfg:i,key:"",luna:a}}const Ys=e=>{try{const t=new URLSearchParams(e.split("?")[1]),s=null===t.get("s")?1:Number(t.get("s")),n=(t.get("b")||"").split("."),i=(t.get("v")||"").split("."),o=t.get("cf")||"",a=o?un(o):[...vt];let r=new Date;5===n.length&&(r=new Date(Number(n[0]),Number(n[1])-1,Number(n[2]),Number(n[3]),Number(n[4])));let l=new Date;4===i.length&&(l=new Date(Number(i[0]),Number(i[1])-1,Number(i[2]),Number(i[3]),0));const c=`${r.getFullYear()}-${r.getMonth()+1}-${r.getDate()}-${r.getHours()}-${r.getMinutes()}`,d=`${l.getFullYear()}-${l.getMonth()+1}-${l.getDate()}-${l.getHours()}`;return{sex:s,dtBorn:r,strBorn:c,tkccBorn:"",dtView:l,strView:d,cfg:a,key:"",keyUrl:""}}catch{return Ac()}},Ac=()=>({sex:1,dtBorn:new Date,strBorn:ge().format("YYYY-MM-DDTHH:mm:ss"),tkccBorn:"giap-thin-tan-mui-mau-ty-nham-tuat",dtView:new Date,strView:ge().format("YYYY-MM-DDTHH:mm:ss"),cfg:[...vt],key:"err",keyUrl:"err"}),$c=e=>{const t=e.ls;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-5",children:[i.jsx("h4",{className:"text-[18px] font-bold",children:"Bát quái mê tung bộ"}),i.jsxs("span",{children:["(Tham khảo:"," ",i.jsx("a",{href:"https://alexalpha.sapopage.com/?utm_source=tinhmenhdo.com",className:"hover:text-orange-500",title:"Khâm Thiên Tứ Hóa Dễ Hiểu",children:"Khâm Thiên Tứ Hóa Dễ Hiểu)"})]})]}),i.jsx("div",{className:"mb-10",children:i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex flex-wrap",children:t.ars.map(((e,s)=>i.jsx("div",{children:e.que.length>0?i.jsxs("div",{className:"que",children:[i.jsx("div",{className:"mb-2 font-bold",children:fo[e.ai]}),i.jsx("ul",{className:"flex flex-wrap",children:e.que.map(((e,s)=>{const n=mo[e[0]],o=e[1],a=e[2];return i.jsxs("li",{className:"queItem group",title:`Ý nghĩa quẻ: ${n[2]} - [${tt[o[0]]}${tt[o[1]]}${tt[o[2]]}] - [${be[t.ars[a[0]].ai]} ${be[t.ars[a[1]].ai]} ${be[t.ars[a[2]].ai]}]`,children:[i.jsx("h4",{className:"queName",children:n[0]}),i.jsxs("div",{className:"queMean",children:[e[0]+1," ",i.jsx("h4",{className:"block w-full font-normal",children:n[1]})]}),i.jsxs("div",{className:"queExpl group-hover:opacity-95",children:[i.jsx("div",{className:`colorHoa${o[0]} queTuhoa`,children:tt[o[0]]}),i.jsx("div",{className:`colorHoa${o[1]} queTuhoa`,children:tt[o[1]]}),i.jsx("div",{className:`colorHoa${o[2]} queTuhoa`,children:tt[o[2]]})]}),i.jsxs("div",{className:"queExpl2 group-hover:opacity-95",children:[i.jsx("div",{className:"queBuild",children:be[t.ars[a[0]].ai].toLowerCase()}),i.jsx("div",{className:"queBuild",children:be[t.ars[a[1]].ai].toLowerCase()}),i.jsx("div",{className:"queBuild",children:be[t.ars[a[2]].ai].toLowerCase()})]})]},`qu${s}`)}))})]},`q${s}`):i.jsx(i.Fragment,{})},"ars"+s)))})})})]})},Bc=_.memo((({typeInput:e,dateTime:t,onChange:s,minDate:n,_maxDate:o,showMinute:a=!1})=>{const r="dateTimeView"===e,l=r&&n?ge(n):null,c=r?l?.year()??1e3:1e3,d=r?(l?.year()??0)+120:2099,[h,u]=_.useState(ge(t)),[m,p]=_.useState({year:h.year(),month:h.month()+1,date:h.date(),hour:h.hour(),minute:h.minute()}),[f,g]=_.useState({start:100*Math.floor(h.year()/100),end:100*Math.floor(h.year()/100)+99}),[w,x]=_.useState(!1);_.useRef(0);const b=_.useRef();_.useEffect((()=>{const e=ge(t);u(e),p({year:e.year(),month:e.month()+1,date:e.date(),hour:e.hour(),minute:e.minute()})}),[t]);const y=[{name:"year",label:"Năm",min:c,max:d},{name:"month",label:"Tháng",min:1,max:12},{name:"date",label:"Ngày",min:1,max:31},{name:"hour",label:"Giờ",min:0,max:23,padStart:!0},...a?[{name:"minute",label:"Phút",min:0,max:59,padStart:!0}]:[]],v=_.useMemo((()=>r&&l?Array.from({length:121},((e,t)=>l.year()+t)):[]),[r,l]),j=_.useMemo((()=>Array.from({length:12},((e,t)=>t+1))),[]),k=_.useMemo((()=>Array.from({length:31},((e,t)=>t+1))),[]),S=_.useMemo((()=>Array.from({length:24},((e,t)=>t))),[]),N=_.useMemo((()=>Array.from({length:60},((e,t)=>t))),[]),C=_.useCallback(((t,n)=>{let i=h;if(n)switch(t.name){case"minute":i=59===i.minute()?i.minute(0).add(1,"hour"):i.add(1,"minute");break;case"hour":i=23===i.hour()?i.hour(0).add(1,"day"):i.add(1,"hour");break;case"date":i=i.date()===i.endOf("month").date()?i.date(1).add(1,"month"):i.add(1,"day");break;case"month":i=11===i.month()?i.month(0).add(1,"year"):i.add(1,"month");break;case"year":i=i.add(1,"year")}else switch(t.name){case"minute":i=0===i.minute()?i.subtract(1,"hour").minute(59):i.subtract(1,"minute");break;case"hour":i=0===i.hour()?i.subtract(1,"day").hour(23):i.subtract(1,"hour");break;case"date":1===i.date()?(i=i.subtract(1,"month"),i=i.date(i.daysInMonth())):i=i.subtract(1,"day");break;case"month":i=0===i.month()?i.subtract(1,"year").month(11):i.subtract(1,"month");break;case"year":i=i.subtract(1,"year")}if(r&&l){if(i.isBefore(l))i=ge(l);else if(i.year()>l.year()+120)return}else if(i.year()<c||i.year()>d)return;u(i),p({year:i.year(),month:i.month()+1,date:i.date(),hour:i.hour(),minute:i.minute()}),s(e,i.toDate())}),[h,l,r,c,d,s,e]),T=_.useCallback(((t,n)=>{let i=h;switch(t){case"year":i=h.year(n);break;case"month":i=h.month(n-1);break;case"date":i=h.date(n);break;case"hour":i=h.hour(n);break;case"minute":i=h.minute(n)}if(r&&l)if(i.isBefore(l))i=ge(l);else if(i.year()>l.year()+120)return;u(i),p((e=>({...e,[t]:n}))),s(e,i.toDate())}),[h,l,r,s,e]);_.useEffect((()=>()=>{b.current&&clearTimeout(b.current)}),[]);const L=_.useCallback((e=>{const t=_.useMemo((()=>"year"===e.name&&r?v:"month"===e.name?j:"date"===e.name?k:"hour"===e.name?S:N),[e.name,r,v,j,k,S,N]);return i.jsx("select",{value:m[e.name],onChange:t=>T(e.name,parseInt(t.target.value)),className:"w-full h-full text-center text-xl font-medium cursor-pointer focus:outline-none appearance-none bg-transparent hover:bg-gray-50",children:t.map((t=>i.jsx("option",{value:t,children:e.padStart?t.toString().padStart(2,"0"):t},t)))})}),[m,T]),$=_.useCallback((e=>{g((t=>({start:t.start+(e?100:-100),end:t.end+(e?100:-100)})))}),[]),P=()=>{const e=[],t=r?l?.year()||1e3:f.start,s=r?(l?.year()||0)+120:f.end;for(let n=t;n<=s;n++)e.push(n);return e};return i.jsx("div",{className:"flex flex-col space-y-4",children:y.map((t=>i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.label}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center h-14 rounded-lg border border-gray-300 bg-white overflow-hidden",children:[i.jsx("button",{onClick:()=>C(t,!1),className:"\n                  flex-none w-14 h-full flex items-center justify-center text-2xl\n                  transition-colors hover:bg-gray-100 active:bg-gray-200\n                  text-gray-700 cursor-pointer\n                ",children:"dateTimeBorn"===e?"◀":"◁"}),i.jsx("div",{className:"flex-1 h-full flex items-center justify-center",children:"year"!==t.name||r?L(t):i.jsx("div",{className:"w-full h-full flex items-center justify-center cursor-pointer hover:bg-gray-50",onClick:()=>x(!w),children:i.jsxs("span",{className:"text-xl font-medium",children:[m[t.name]," ▾"]})})}),i.jsx("button",{onClick:()=>C(t,!0),className:"\n                  flex-none w-14 h-full flex items-center justify-center text-2xl\n                  transition-colors hover:bg-gray-100 active:bg-gray-200\n                  text-gray-700 cursor-pointer\n                ",children:"dateTimeBorn"===e?"▶":"▷"})]}),"year"===t.name&&!r&&w&&i.jsxs("div",{className:"absolute top-full left-0 w-full mt-1 bg-white border rounded-lg shadow-lg z-50 max-h-60 overflow-auto",children:[i.jsxs("div",{className:"sticky top-0 flex justify-between items-center p-2 bg-gray-50 border-b",children:[i.jsxs("button",{onClick:()=>$(!1),className:"px-3 py-1 text-sm rounded hover:bg-gray-200",disabled:f.start<=1e3,children:["◀ ",f.start-100," - ",f.start-1]}),i.jsxs("span",{className:"font-medium",children:[f.start," - ",f.end]}),i.jsxs("button",{onClick:()=>$(!0),className:"px-3 py-1 text-sm rounded hover:bg-gray-200",disabled:f.end>=2099,children:[f.end+1," - ",f.end+100," ▶"]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-1 p-2",children:P().map((t=>i.jsx("button",{onClick:()=>(t=>{const n=h.year(t);u(n),p((e=>({...e,year:t}))),s(e,n.toDate()),x(!1)})(t),className:`\n                        p-2 text-center rounded hover:bg-blue-50\n                        ${t===m.year?"bg-blue-100 font-medium":""}\n                      `,children:t},t)))})]})]})]},t.name)))})})),Mc={src:"/qq1lzZF3/CcqVVc0S.png",width:180,height:180,format:"png"},Ke={getBirthData:e=>{try{return e?.dtb?.bs?.y&&e.dtb.bs.m&&e.dtb.bs.d&&e.dtb.bs.h?{y:e.dtb.bs.y,m:e.dtb.bs.m,d:e.dtb.bs.d,h:e.dtb.bs.h}:null}catch{return null}},getLunarData:e=>{try{return e?.dtb?.ln?.y&&e.dtb.ln.m&&e.dtb.ln.d?{y:e.dtb.ln.y,m:e.dtb.ln.m,d:e.dtb.ln.d}:null}catch{return null}},getSolarData:e=>{try{return e?.dtb?.sn?.y&&e.dtb.sn.m&&e.dtb.sn.d&&e.dtb.sn.h?{y:e.dtb.sn.y,m:e.dtb.sn.m,d:e.dtb.sn.d,h:e.dtb.sn.h,i:e.dtb.sn.i||0}:null}catch{return null}}},qe=e=>{try{return!!(e&&Ke.getBirthData(e)&&Ke.getLunarData(e)&&Ke.getSolarData(e))}catch{return!1}},Ec=()=>({width:798,height:1016}),Dc=()=>{const e=Ec();if(mn&&window.innerWidth<768){const t=mn?window.innerWidth-32:e.width;return{width:t,height:t/e.width*e.height,isMobile:!0}}return{width:e.width,height:e.height,isMobile:!1}},Hc=e=>e?.toLowerCase().trim().replace(/\s+/g,"-")||"",mn=typeof window<"u",Ic=()=>mn?new URLSearchParams(window.location.search):new URLSearchParams,Oc=()=>mn?window.location.pathname:"",_c=e=>{const t=Ke.getSolarData(e),s=kn(e),n=yc(e),i=ys(e),o=ei[ce[e.dtb.bs.y[2]]].includes(e.dtb.tki[0]),a=e.ars[e.am];if(!a||!a.sb||!t)return null;const r=0===a.sb.length?"Vô Chính Diệu":1===a.sb.length?se[a.sb[0]]?.name||"":`${se[a.sb[0]]?.name||""}, ${se[a.sb[1]]?.name||""}`;window.dataLayer&&window.dataLayer.push({event:"purchase",currency:"VND",value:100,transaction_id:`${t.y}.${t.m}.${t.d}_${t.h}h${t.i||0}__${s}.${e.dtb.ln.y}.${e.dtb.ln.m}_${e.dtb.ln.d}__${n.y}_${n.m}_${n.d}_${n.h}`,items:[{item_name:`${t.y}.${t.m}.${t.d} - ${s} - ${n.y} | ${n.m} | ${n.d} | ${n.h}`,item_category:`${r} tại ${J[e.am]} đồ hình Tử Vi ${J[e.aIdx.s0]}`,item_category2:`${i.ad}, ${i.adage}, mệnh ${i.sk} sinh mùa ${i.mua} (${o?"okie":"fail"}) , cục ${i.cuc}, thân cư ${i.tcu}`,item_category3:`${n.y} | ${n.m}`,item_category4:`${n.d} | ${n.h}`,quantity:1,price:100}]})},et={LaSoTuVi:({color:e="#2C3E50"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:e,strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 7V17M7 12H17",stroke:e,strokeWidth:"2"})]}),LuongPhai:({color:e="#27AE60"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:e,strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 8V16M8 12H16",stroke:e,strokeWidth:"2"})]}),KhamThien:({color:e="#8E44AD"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L14.4 7.2L20 8.5L16 12.9L17 18.5L12 15.9L7 18.5L8 12.9L4 8.5L9.6 7.2L12 2Z",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 8L13 10.5L15.5 11L13.75 12.75L14 15L12 14L10 15L10.25 12.75L8.5 11L11 10.5L12 8Z",fill:e})]}),TrungChau:({color:e="#C0392B"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 2V22M2 12H22",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:e,strokeWidth:"2"})]}),ShowStar:({color:e="#2980B9"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:e,strokeWidth:"2",fill:"none"}),i.jsx("circle",{cx:"12",cy:"12",r:"3",fill:e})]}),TuHoa:({color:e="#34495e"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:e,strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 8V16M8 12H16",stroke:e,strokeWidth:"2"})]}),LuuTuHoa:({color:e="#3498db"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:e,strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 8L14 12L12 16L10 12L12 8Z",stroke:e,strokeWidth:"2"})]}),TuanHoan:({color:e="#3498db"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 8L10 6M12 8L14 6",stroke:e,strokeWidth:"2"})]}),CungViTrung:({color:e="#9b59b6"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 2V22M2 12H22",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:e,strokeWidth:"2"})]}),LocKiToanDo:({color:e="#e67e22"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:e,strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 8L14 12L12 16L10 12L12 8Z",fill:e})]}),SaoLuu:({color:e="#8e44ad"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:e,strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"3",fill:e}),i.jsx("path",{d:"M12 9L13.5 12L12 15L10.5 12L12 9Z",fill:e})]}),DaiVan:({color:e="#34495e"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 6V12L16 16",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 2V4M4 12H2M12 20V22M20 12H22",stroke:e,strokeWidth:"2"})]}),BatTu:({color:e="#3498db"})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M12 2V22M2 12H22",stroke:e,strokeWidth:"2"}),i.jsx("path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:e,strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"2",fill:e})]}),PhiHoa:({type:e=0})=>{const t=Pt;return i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:t[e],strokeWidth:"2",fill:"white"}),i.jsx("text",{x:"12",y:"16",textAnchor:"middle",fill:t[e],style:{font:"bold 13px sans-serif",userSelect:"none"},children:tt[e]})]})},NumberIcon:({color:e="#000000",number:t=1})=>i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:e,strokeWidth:"2",fill:"white"}),i.jsx("text",{x:"12",y:"16",textAnchor:"middle",fill:e,style:{font:"bold 13px sans-serif",userSelect:"none"},children:t})]})},Xt={sex:["#3498db","#e91e63"],showSun:["#95a5a6","#f1c40f"],tuanHoanZone:["#95a5a6","#3498db"],rotateZone:["#95a5a6","#9b59b6"],locKiToanDo:["#95a5a6","#e67e22"],dvStar:["#95a5a6","#34495e"],batTuCung:["#95a5a6","#3498db"]},Qi=_.forwardRef((({cfgLs:e,onConfigChange:t,sex:s,onSexChange:n,dateTimeBorn:o,dateTimeView:a,onDateChange:r,ls:l},c)=>{const[d,h]=_.useState({dateTimeBorn:o,dateTimeView:a});_.useEffect((()=>{h({dateTimeBorn:o,dateTimeView:a})}),[o,a]);const u=[{id:"sex",icon:1===s?i.jsx("span",{className:"material-symbols-rounded",children:"male"}):i.jsx("span",{className:"material-symbols-rounded",children:"female"}),title:"Giới tính",options:[{value:1,label:"Nam",color:Xt.sex[0],icon:i.jsx("span",{className:"material-symbols-rounded",children:"male"})},{value:0,label:"Nữ",color:Xt.sex[1],icon:i.jsx("span",{className:"material-symbols-rounded",children:"female"})}],current:s},{id:"dateTimeBorn",icon:i.jsx("span",{className:"material-symbols-rounded",children:"calendar_month"}),title:"Năm sinh",isDateTime:!0,value:o,color:"#2ecc71"},{id:"dateTimeView",icon:i.jsx("span",{className:"material-symbols-rounded",children:"schedule"}),title:"Năm xem",isDateTime:!0,value:a,color:"#9b59b6"},{id:I.showSun,icon:i.jsx("span",{className:"material-symbols-rounded",children:"wb_sunny"}),title:"Hiện dương lịch",options:[{value:0,label:"Không hiện",color:Xt.showSun[0],icon:i.jsx("span",{className:"material-symbols-rounded",children:"visibility_off"})},{value:1,label:"Hiện",color:Xt.showSun[1],icon:i.jsx("span",{className:"material-symbols-rounded",children:"visibility"})}]},{id:I.typeLs,icon:i.jsx("span",{className:"material-symbols-rounded",children:"auto_stories"}),title:"Chọn kiểu lá số",options:Sc.map(((e,t)=>({value:t,label:e,color:Te[t],icon:i.jsx("span",{className:"material-symbols-rounded",children:"auto_stories"})})))},{id:I.tcpb,icon:i.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"}),title:"Bàn Trung Châu",hidden:![6,7,8].includes(e[I.typeLs]),options:Tc.map(((e,t)=>({value:t,label:e,color:jc[t],icon:i.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"}),description:0===t?"Hiển thị các sao trên Thiên Bàn":1===t?"Hiển thị các cung trên Địa Bàn":"Hiển thị các yếu tố trên Nhân Bàn"})))},{id:I.typePhiHoa,icon:t=>i.jsx(et.PhiHoa,{type:e[I.typePhiHoa]}),title:"Kiểu phi hóa",options:[{value:0,label:"Hóa Lộc",color:Pt[0],icon:()=>i.jsx(et.PhiHoa,{type:0})},{value:1,label:"Hóa Quyền",color:Pt[1],icon:()=>i.jsx(et.PhiHoa,{type:1})},{value:2,label:"Hóa Khoa",color:Pt[2],icon:()=>i.jsx(et.PhiHoa,{type:2})},{value:3,label:"Hóa Kị",color:Pt[3],icon:()=>i.jsx(et.PhiHoa,{type:3})}]},{id:I.lsCanType,icon:i.jsx("span",{className:"material-symbols-rounded",children:"view_module"}),title:"Chọn bảng tứ hóa",options:Nc.map(((e,t)=>({value:t,label:e,color:Te[t],icon:i.jsx("span",{className:"material-symbols-rounded",children:"view_module"})})))},{id:I.showHoaIcon,icon:t=>{const s=e[I.showHoaIcon];return i.jsx(et.NumberIcon,{color:t,number:s+1})},title:"Hiện các tầng phi hóa",options:Cc.map(((e,t)=>({value:t,label:e,color:Te[t],icon:e=>i.jsx(et.NumberIcon,{color:e,number:t+1})})))},{id:I.tuanHoanZone,icon:i.jsx("span",{className:"material-symbols-rounded",children:"loop"}),title:"Tuần hoàn lộc kị",options:[{value:0,label:"Không hiện",color:Te[4],icon:i.jsx("span",{className:"material-symbols-rounded",children:"sync_disabled"})},{value:1,label:"Hiện",color:Te[5],icon:i.jsx("span",{className:"material-symbols-rounded",children:"loop"})}]},{id:I.rotateZone,icon:i.jsx("span",{className:"material-symbols-rounded",children:"rotate_90_degrees_ccw"}),title:"Cung vị trùng điệp",options:[{value:0,label:"Không hiện",color:Te[4],icon:i.jsx("span",{className:"material-symbols-rounded",children:"block"})},{value:1,label:"Hiện",color:Te[5],icon:i.jsx("span",{className:"material-symbols-rounded",children:"rotate_90_degrees_ccw"})}]},{id:I.locKiToanDo,icon:i.jsx("span",{className:"material-symbols-rounded",children:"star_rate"}),title:"Phương viên lộc kị toàn đồ",options:[{value:0,label:"Không hiện",color:Te[4],icon:i.jsx("span",{className:"material-symbols-rounded",children:"star_border"})},{value:1,label:"Hiện",color:Te[5],icon:i.jsx("span",{className:"material-symbols-rounded",children:"star_rate"})}]},{id:I.showHideStar,icon:i.jsx("span",{className:"material-symbols-rounded",children:"stars"}),title:"Hiện sao theo nhóm",options:Lc.map(((e,t)=>({value:t,label:e,color:Te[t],icon:i.jsx("span",{className:"material-symbols-rounded",children:"stars"})})))},{id:I.currentStar,icon:i.jsx("span",{className:"material-symbols-rounded",children:"auto_awesome_motion"}),title:"Hiện sao lưu",options:Pc.map(((e,t)=>({value:t,label:e,color:Te[t],icon:i.jsx("span",{className:"material-symbols-rounded",children:"auto_awesome_motion"})})))},{id:I.dvStar,icon:i.jsx("span",{className:"material-symbols-rounded",children:"grade"}),title:"Sao lưu đại vận",options:[{value:0,label:"Không hiện",color:Te[4],icon:i.jsx("span",{className:"material-symbols-rounded",children:"star_outline"})},{value:1,label:"Hiện",color:Te[5],icon:i.jsx("span",{className:"material-symbols-rounded",children:"grade"})}]},{id:I.batTuCung,icon:i.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"}),title:"Bát tự từng năm",options:[{value:0,label:"Không hiện",color:Te[4],icon:i.jsx("span",{className:"material-symbols-rounded",children:"block"})},{value:1,label:"Hiện",color:Te[5],icon:i.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"})}]}],[m,p]=_.useState(null),[f,g]=_.useState({x:0,y:0}),[w,x]=_.useState(!1),[b,y]=_.useState(null),[v,j]=_.useState(!1),[k,S]=_.useState(!1);_.useImperativeHandle(c,(()=>({toggleMenu:()=>{x(!w),w&&(y(null),j(!1))}})));const N=()=>{S(!0),requestAnimationFrame((()=>{x(!1),S(!1),y(null)}))},C=_.useCallback((async(e,t)=>{const s=t.currentTarget.getBoundingClientRect();g({x:s.left+s.width/2,y:s.top-10});const n="string"==typeof e.id?e.id:Number(e.id);p(m===n?null:n),y(n)}),[m]),T=_.useCallback(((e,s)=>{"sex"===e.id?(n(s.value),p(null)):e.id===I.typeLs?(t(I.typeLs,s.value),p(null),[6,7,8].includes(s.value)?(j(!0),setTimeout((()=>{const e=document.querySelector(".options-panel");e&&(e.scrollTop=0)}),50)):j(!1)):e.id===I.tcpb?(t(I.tcpb,s.value),p(null)):(t(e.id,s.value),p(null))}),[t,n,r]),L=(e,t)=>{"dateTimeBorn"===e?(r(e,t),t.getTime()>a.getTime()&&r("dateTimeView",t),_c(l)):r(e,t)};return _.useCallback(((e,s)=>{t(e,s)}),[t]),_.useCallback((e=>{n(e)}),[n]),_.useCallback(((e,t)=>{r(e,t)}),[r]),i.jsxs(i.Fragment,{children:[i.jsx("style",{children:"\n          @keyframes swalShow {\n            from {\n              opacity: 0;\n              transform: scale(0.8);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n\n          @keyframes swalHide {\n            from {\n              opacity: 1;\n              transform: scale(1);\n            }\n            to {\n              opacity: 0;\n              transform: scale(0.8);\n            }\n          }\n\n          .swal-show-animation {\n            animation: swalShow 0.3s ease-out;\n          }\n\n          .swal-hide-animation {\n            animation: swalHide 0.2s ease-in forwards;\n          }\n\n          @keyframes scaleIn {\n            from { transform: scale(0.5); opacity: 0; }\n            to { transform: scale(1); opacity: 1; }\n          }\n\n          @keyframes slideIn {\n            from { transform: translateY(100%); }\n            to { transform: translateY(0); }\n          }\n\n          .floating-menu {\n            animation: scaleIn 0.2s ease-out;\n          }\n\n          .tool-options {\n            animation: slideIn 0.3s ease-out;\n          }\n\n          .speed-dial-icon {\n            transition: transform 0.3s ease;\n          }\n\n          .speed-dial-icon.open {\n            transform: rotate(45deg);\n          }\n\n          /* Safe areas for mobile */\n          .safe-area-top {\n            padding-top: env(safe-area-inset-top, 0px);\n          }\n          \n          .pb-safe {\n            padding-bottom: env(safe-area-inset-bottom, 16px);\n          }\n\n          @keyframes slideInRight {\n            from {\n              transform: translateX(100%);\n              opacity: 0;\n            }\n            to {\n              transform: translateX(0);\n              opacity: 1;\n            }\n          }\n\n          @keyframes slideOutRight {\n            from {\n              transform: translateX(0);\n              opacity: 1;\n            }\n            to {\n              transform: translateX(100%);\n              opacity: 0;\n            }\n          }\n\n          .slide-in {\n            animation: slideInRight 0.3s ease-out forwards;\n          }\n\n          .slide-out {\n            animation: slideOutRight 0.3s ease-out forwards;\n          }\n\n          @keyframes fadeIn {\n            from {\n              opacity: 0;\n            }\n            to {\n              opacity: 1;\n            }\n          }\n\n          @keyframes fadeOut {\n            from {\n              opacity: 1;\n            }\n            to {\n              opacity: 0;\n            }\n          }\n\n          .fade-in {\n            animation: fadeIn 0.3s ease-out forwards;\n          }\n\n          .fade-out {\n            animation: fadeOut 0.3s ease-out forwards;\n          }\n\n          .slide-in, .slide-out {\n            will-change: transform;\n          }\n          \n          .fade-in, .fade-out {\n            will-change: opacity; \n          }\n\n          .slide-in {\n            transform: translate3d(0, 0, 0);\n          }\n          \n          .slide-out {\n            transform: translate3d(100%, 0, 0);\n          }\n\n          /* Thêm hardware acceleration cho animations */\n          .slide-in,\n          .slide-out,\n          .fade-in,\n          .fade-out {\n            will-change: transform, opacity;\n            backface-visibility: hidden;\n            transform: translateZ(0);\n          }\n\n          /* Giảm thời gian animation xuống để mượt hơn */\n          .slide-in {\n            animation: slideInRight 0.2s ease-out forwards;\n          }\n\n          .slide-out { \n            animation: slideOutRight 0.2s ease-out forwards;\n          }\n\n          .fade-in {\n            animation: fadeIn 0.2s ease-out forwards;\n          }\n\n          .fade-out {\n            animation: fadeOut 0.2s ease-out forwards;\n          }\n\n          /* Tối ưu transitions */\n          .transition-transform {\n            transition: transform 0.2s ease-out;\n          }\n\n          /* Tối ưu hover effects */\n          @media (hover: hover) {\n            .hover:bg-gray-100:hover {\n              background-color: rgba(243, 244, 246, 0.4);\n            }\n          }\n        "}),i.jsxs("div",{className:"fixed z-50 right-2 bottom-2",children:[i.jsx("button",{onClick:()=>{x(!w),w&&(y(null),j(!1))},className:"\n            w-14 h-14 rounded-full bg-white shadow-lg\n            flex items-center justify-center\n            hover:opacity-90 transition-all\n            focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2\n            overflow-hidden\n            relative z-50\n          ",children:i.jsx("img",{src:Mc.src,alt:"Settings",className:"w-full h-full object-cover"})}),i.jsxs("svg",{className:"absolute top-[-21px] left-[-22px]",width:"100",height:"100",viewBox:"0 0 100 100",children:[i.jsx("defs",{children:i.jsx("path",{id:"circlePath",d:"M 50, 50 m -35, 0 a 35,35 0 1,1 70,0 a 35,35 0 1,1 -70,0"})}),i.jsx("text",{fontSize:"14",fill:"orange",fontWeight:"bold",children:i.jsx("textPath",{href:"#circlePath",startOffset:"25%",textAnchor:"middle",children:"Sửa Lá Số"})})]})]}),(w||k)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`\n              fixed inset-0 z-50\n              ${k?"fade-out":"fade-in"}\n            `,onClick:N}),i.jsxs("div",{className:`\n              fixed top-0 right-0 w-full sm:w-[380px] h-screen \n              bg-white shadow-xl z-[60]\n              ${k?"slide-out":"slide-in"}\n            `,children:[i.jsx("div",{className:"safe-area-top bg-white"}),i.jsxs("div",{className:"sticky top-0 flex items-center justify-between px-4 py-2 border-b bg-white",children:[i.jsx("h3",{className:"text-lg font-medium",children:null!==b?u.find((e=>e.id===b))?.title:"Cấu hình lá số"}),null!==b?i.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx("span",{className:"material-symbols-rounded",children:"arrow_back"})}):i.jsx("button",{onClick:N,className:"p-2 hover:bg-gray-100 rounded-xl bg-gray-200 leading-none",children:i.jsx("span",{className:"material-symbols-rounded font-bold leading-none",children:"close"})})]}),i.jsxs("div",{className:"relative h-[calc(100vh-64px)] overflow-hidden",children:[i.jsx("div",{className:`\n                absolute inset-0 overflow-y-auto pb-safe\n                transition-transform duration-300 ease-in-out\n                ${null===b?"translate-x-0":"-translate-x-full"}\n              `,children:i.jsx("div",{className:"divide-y",children:u.map((t=>{const s=!t.hidden,n=t.isDateTime?ge(t.value).format("YYYY/MM/DD HH:mm"):t.options?.find((s=>s.value===("sex"===t.id?t.current:e[t.id])))?.label;return s&&i.jsxs("button",{className:`\n                          w-full p-4 flex items-center gap-4\n                          hover:bg-gray-50 transition-colors\n                          ${t.isDateTime?"cursor-pointer":""}\n                        `,onClick:e=>{t.isDateTime?C(t,e):y(t.id)},children:[i.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-[#e7e7e7] p-0 text-[#5e5e5e]",children:"function"==typeof t.icon?i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.icon(t.color||"#ffd641d9")}):t.icon}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("div",{className:"text-sm font-medium",children:t.title}),n&&i.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:n})]}),i.jsx("span",{className:"material-symbols-rounded text-gray-400",children:"chevron_right"})]},t.id)}))})}),i.jsx("div",{className:`\n                absolute inset-0 overflow-y-auto pb-safe bg-white options-panel\n                transition-transform duration-300 ease-in-out\n                ${null!==b?"translate-x-0":"translate-x-full"}\n              `,children:null!==b&&u.map((t=>{const n="string"==typeof t.id?t.id:Number(t.id);if(b===n){if(t.isDateTime){const e="dateTimeBorn"===t.id,s=e?o:a;return i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"relative flex flex-col space-y-6",children:[i.jsxs("div",{className:"w-full flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-medium mb-2",children:e?"Năm sinh":"Năm xem dương lịch"}),i.jsx("div",{className:"text-sm text-gray-500",children:ge(s).format(e?"dddd YYYY/MM/DD - HH:mm":"YYYY/MM/DD - HH")})]}),i.jsx("button",{onClick:()=>(e=>{const t=new Date;"dateTimeBorn"===e?(r(e,t),t.getTime()>a.getTime()&&r("dateTimeView",t)):"dateTimeView"===e&&(t.getTime()<o.getTime()?r(e,o):r(e,t))})(String(t.id)),className:"px-3 py-1.5 text-sm font-medium text-white bg-orange-500 \n                                    rounded-lg hover:bg-orange-600 transition-colors\n                                    active:scale-95 transform duration-100",children:"Đặt Lại"})]}),i.jsx(Bc,{typeInput:String(t.id),dateTime:s,onChange:L,minDate:e?void 0:o,_maxDate:e?void 0:ge(o).add(120,"year").toDate(),showMinute:e})]})},n)}return i.jsxs("div",{className:"relative h-full",children:[i.jsx("div",{className:`\n                          absolute inset-0 bg-white transition-transform duration-300\n                          ${v?"-translate-x-full":"translate-x-0"}\n                        `,children:i.jsx("div",{className:"p-4 space-y-3",children:t.options?.map((n=>{const o="sex"===t.id?s===n.value:e[t.id]===n.value;return i.jsxs("button",{className:`\n                                    w-full p-4 rounded-lg transition-all \n                                    flex items-center justify-between gap-3\n                                    relative\n                                    ${o?"\n                                      ring-2 ring-offset-2 ring-orange-400 \n                                      shadow-lg scale-[1.02]\n                                      z-10\n                                    ":"\n                                      hover:bg-opacity-90\n                                      active:scale-[0.98]\n                                      opacity-70\n                                    "}\n                                  `,style:{backgroundColor:n.color,transform:o?"scale(1.02)":"scale(1)"},onClick:e=>{e.stopPropagation(),T(t,n)},children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:`\n                                      w-10 h-10 rounded-full \n                                      flex items-center justify-center\n                                      bg-white/20 backdrop-blur-sm\n                                      ${o?"bg-white/30":""}\n                                    `,children:"function"==typeof n.icon?n.icon(n.color):n.icon}),i.jsxs("div",{className:"flex flex-col items-start",children:[i.jsx("span",{className:`\n                                        text-base font-medium text-white\n                                        ${o?"font-semibold":""}\n                                      `,children:n.label}),n.description&&i.jsx("span",{className:"text-sm text-white/80",children:n.description})]})]}),o&&i.jsx("span",{className:"material-symbols-rounded text-white",children:"check_circle"})]},n.value)}))})}),[6,7,8].includes(e[I.typeLs])&&i.jsxs("div",{className:`\n                            absolute inset-0 bg-white transition-transform duration-300\n                            ${v?"translate-x-0":"translate-x-full"}\n                          `,children:[i.jsxs("div",{className:"sticky top-0 flex items-center gap-2 p-4 border-b bg-white",children:[i.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx("span",{className:"material-symbols-rounded",children:"arrow_back"})}),i.jsx("h3",{className:"text-lg font-medium",children:"Quay lại loại lá số khác "})]}),i.jsx("div",{className:"p-4 space-y-3",children:u.find((e=>e.id===I.tcpb))?.options?.map((t=>{const s=e[I.tcpb]===t.value;return i.jsxs("button",{className:`\n                                      w-full p-4 rounded-lg transition-all \n                                      flex items-center justify-between gap-3\n                                      relative\n                                      ${s?"\n                                        ring-2 ring-offset-2 ring-orange-400 \n                                        shadow-lg scale-[1.02]\n                                        z-10\n                                      ":"\n                                        hover:bg-opacity-90\n                                        active:scale-[0.98]\n                                        opacity-70\n                                      "}\n                                    `,style:{backgroundColor:t.color,transform:s?"scale(1.02)":"scale(1)"},onClick:e=>{e.stopPropagation(),T(u.find((e=>e.id===I.tcpb)),t)},children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:`\n                                        w-10 h-10 rounded-full \n                                        flex items-center justify-center\n                                        bg-white/20 backdrop-blur-sm\n                                        ${s?"bg-white/30":""}\n                                      `,children:"function"==typeof t.icon?t.icon(t.color):t.icon}),i.jsxs("div",{className:"flex flex-col items-start",children:[i.jsx("span",{className:`\n                                        text-base font-medium text-white\n                                        ${s?"font-semibold":""}\n                                      `,children:t.label}),t.description&&i.jsx("span",{className:"text-sm text-white/80",children:t.description})]})]}),s&&i.jsx("span",{className:"material-symbols-rounded text-white",children:"check_circle"})]},t.value)}))})]})]},n)}return null}))})]})]})]})]})}));Qi.displayName="ConfigIcons";const Kn=()=>i.jsxs("div",{children:[i.jsx("div",{id:"cv",children:i.jsx("div",{className:"konvajs-content",role:"presentation",style:{position:"relative",userSelect:"none",width:720,height:960},children:i.jsx("canvas",{width:792,height:1056,style:{padding:0,margin:0,border:0,background:"transparent",position:"absolute",top:0,left:0,width:720,height:960,display:"block"}})})}),i.jsx("div",{className:"absolute left-0 top-0 hidden size-full max-lg:block"})]}),Kc=e=>{const t=e.ls,s=t.dtv.bs,n=xs(t),o=ys(t),a=`Thông tin lá số ${kn(t)} sinh năm ${t.dtb.sn.y} ${n.y} tháng ${n.m} ngày ${n.d} giờ ${n.h} dương lịch ${t.dtb.sn.y}/${t.dtb.sn.m}/${t.dtb.sn.d} ${t.dtb.sn.h}:${t.dtb.sn.i??30}?`,r=`Mệnh tại ${J[t.am]}, mệnh ${t.ars[t.am].sb.join(", ")||"vô chính diệu"}. Giới tính <b>${o.adage}</b>, <b>${o.ad}</b> bản mệnh là <b>${o.hmenh}</b> cục <strong>${o.cuc}</strong>, ${o.sk}, thân cư ${o.tcu}`,l=`Sao mệnh chủ là <b>${o.mchu}</b>, thân chủ là<b>${o.tchu}</b>`,c=`Tiết khí của thời gian sinh này là ${en[t.dtb.tki[0]]}`,d={"@context":"https://schema.org","@type":"FAQ Page",name:a,mainEntity:[{"@type":"Question",name:`Thông tin lá số ${t.dtb.sn.y} ${n.y} tháng ${n.m} ngày ${n.d} giờ ${n.h} dương lịch ${t.dtb.sn.y} ?`,acceptedAnswer:{"@type":"Answer",text:r}},{"@type":"Question",name:"Sao mệnh chủ, sao thân chủ?",acceptedAnswer:{"@type":"Answer",text:l}},{"@type":"Question",name:"Tiết khí của của lá số?",acceptedAnswer:{"@type":"Answer",text:c}}]},h=`color${ce[t.dtb.bs.y[2]]}`,u=t.aIdx.aid0,m=e=>i.jsx("div",{className:"w-full text-center font-bold uppercase",children:0===e.length?i.jsx(i.Fragment,{children:"Vô Chính Diệu"}):i.jsx("div",{className:"m-1",children:e.map((e=>i.jsx("div",{className:"text-center text-[16px]",children:i.jsx("strong",{className:`color${se[e].hh}`,children:Gt[e]})},e.toString())))})}),p=e=>{const t=[],s=[];let n=-1;return e.forEach((e=>{1===se[e].typ&&"vts"!==se[e].cir&&t.push(e),2===se[e].typ&&"vts"!==se[e].cir&&s.push(e),"vts"===se[e].cir&&(n=e)})),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid w-full grid-cols-2 text-xs max-md:text-sm",children:[i.jsx("div",{className:"",children:t.map((e=>i.jsx("div",{className:"text-left",children:i.jsx("span",{className:`color${se[e].hh} ${se[e].iptt?"font-bold":"font-normal"}`,children:Gt[e]})},e.toString())))}),i.jsx("div",{className:"",children:s.map((e=>i.jsx("div",{className:"text-right",children:i.jsx("span",{className:`color${se[e].hh} ${se[e].iptt?"font-bold":"font-normal"}`,children:Gt[e]})},e.toString())))})]}),i.jsx("div",{className:"mt-auto w-full text-center",children:Gt[n]})]})},f=(e,t,s=!0)=>i.jsxs("div",{className:"flex flex-wrap rounded-xl border-2 bg-[#f8f4ee] p-2",children:[i.jsxs("h3",{className:"mb-5 w-full text-center font-bold",suppressHydrationWarning:!0,children:[i.jsx("b",{children:e})," ",s?i.jsxs(i.Fragment,{children:["- ",i.jsxs("span",{children:[be[t.ai]," gốc"]})," "]}):""," ","- ",J[t.ci]]}),m(t.sb),p(t.ss)]});return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[`Thông tin lá số ${t.dtb.sn.y} ${n.y} tháng ${n.m} ngày ${n.d} giờ ${n.h} dương lịch ${t.dtb.sn.y}`,i.jsx("br",{})," Giới tính ",i.jsx("b",{children:o.adage}),", ",i.jsx("b",{children:o.ad})," bản mệnh là"," ",i.jsx("strong",{className:h,children:o.hmenh})," cục ",i.jsx("strong",{children:o.cuc}),", ",o.sk,", thân cư"," ",o.tcu]}),i.jsxs("div",{className:"mx-auto mb-10",children:["Đồ hình Tử Vi cư ",i.jsx("b",{children:J[t.aIdx.s0]})," - Cung mệnh tại ",i.jsx("b",{className:h,children:J[t.am]})]}),i.jsx("h4",{className:"  hidden mb-5 text-[18px] font-bold",children:"Mệnh vận"}),i.jsxs("div",{className:" hidden mb-10  grid-cols-4 gap-3 max-xl:grid-cols-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1",children:[t.yeo>=t.cid?i.jsx(i.Fragment,{children:f("Mệnh",t.ars[t.am],!1)}):i.jsx(i.Fragment,{}),t.yeo>=t.cid?i.jsx(i.Fragment,{children:f("Mệnh đại vận",t.ars[u],!1)}):i.jsx(i.Fragment,{}),i.jsx(i.Fragment,{children:f("Mệnh lưu niên",t.ars[s.y[1]],!1)}),i.jsx(i.Fragment,{children:f("Tiểu vận",t.ars[t.aIdx.lynpc],!1)})]}),i.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}})]})};var Ji={exports:{}},Wc="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rc=Wc,zc=Rc;function eo(){}function to(){}to.resetWarningCache=eo;var Fc=function(){function e(e,t,s,n,i,o){if(o!==zc){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:to,resetWarningCache:eo};return s.PropTypes=s,s};Ji.exports=Fc();var Vc=Ji.exports;const ve=It(Vc);var qc=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=s.length)return!1;for(i=n;0!=i--;)if(!e(t[i],s[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(s,o[i]))return!1;for(i=n;0!=i--;){var a=o[i];if(!e(t[a],s[a]))return!1}return!0}return t!=t&&s!=s};const Uc=It(qc);var no,Wn={exports:{}},Yc=no=function(){var e={},t={};return e.on=function(e,s){var n={name:e,handler:s};return t[e]=t[e]||[],t[e].unshift(n),n},e.off=function(e){var s=t[e.name].indexOf(e);-1!==s&&t[e.name].splice(s,1)},e.trigger=function(e,s){var n,i=t[e];if(i)for(n=i.length;n--;)i[n].handler(s)},e},Rn={exports:{}},Gc=function(e,t,s){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof t&&(s=t,t={}),t=t||{},s=s||function(){},i.type=t.type||"text/javascript",i.charset=t.charset||"utf8",i.async=!("async"in t)||!!t.async,i.src=e,t.attrs&&Zc(i,t.attrs),t.text&&(i.text=""+t.text),("onload"in i?Gs:Xc)(i,s),i.onload||Gs(i,s),n.appendChild(i)};function Zc(e,t){for(var s in t)e.setAttribute(s,t[s])}function Gs(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Xc(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var s,n=(s=Gc)&&s.__esModule?s:{default:s};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var s="http:"===window.location.protocol?"http:":"https:";(0,n.default)(s+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){i&&i(),t(window.YT)}}}))},e.exports=t.default}(Rn,Rn.exports);var Qc=Rn.exports,zn={exports:{}},Fn={exports:{}},Vn={exports:{}},Mt=1e3,Et=60*Mt,Dt=60*Et,Ht=24*Dt,Jc=365.25*Ht,ed=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return td(e);if("number"===s&&!1===isNaN(e))return t.long?sd(e):nd(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function td(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*Jc;case"days":case"day":case"d":return s*Ht;case"hours":case"hour":case"hrs":case"hr":case"h":return s*Dt;case"minutes":case"minute":case"mins":case"min":case"m":return s*Et;case"seconds":case"second":case"secs":case"sec":case"s":return s*Mt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function nd(e){return e>=Ht?Math.round(e/Ht)+"d":e>=Dt?Math.round(e/Dt)+"h":e>=Et?Math.round(e/Et)+"m":e>=Mt?Math.round(e/Mt)+"s":e+"ms"}function sd(e){return Qt(e,Ht,"day")||Qt(e,Dt,"hour")||Qt(e,Et,"minute")||Qt(e,Mt,"second")||e+" ms"}function Qt(e,t,s){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+s:Math.ceil(e/t)+" "+s+"s"}!function(e,t){var s;function n(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(s||i);e.diff=o,e.prev=s,e.curr=i,s=i;for(var a=new Array(arguments.length),r=0;r<a.length;r++)a[r]=arguments[r];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(s,n){if("%%"===s)return s;l++;var i=t.formatters[n];if("function"==typeof i){var o=a[l];s=i.call(e,o),a.splice(l,1),l--}return s})),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var s,n=0;for(s in e)n=(n<<5)-n+e.charCodeAt(s),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var s=("string"==typeof e?e:"").split(/[\s,]+/),n=s.length,i=0;i<n;i++)s[i]&&("-"===(e=s[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var s,n;for(s=0,n=t.skips.length;s<n;s++)if(t.skips[s].test(e))return!1;for(s=0,n=t.names.length;s<n;s++)if(t.names[s].test(e))return!0;return!1},t.humanize=ed,t.names=[],t.skips=[],t.formatters={}}(Vn,Vn.exports);var id=Vn.exports;!function(e,t){var s={};function n(){var e;try{e=t.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=s.DEBUG),e}(t=e.exports=id).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var s=this.useColors;if(e[0]=(s?"%c":"")+this.namespace+(s?" %c":" ")+e[0]+(s?"%c ":" ")+"+"+t.humanize(this.diff),s){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch{}},t.load=n,t.useColors=function(){return!!(typeof window<"u"&&window.process&&"renderer"===window.process.type)||(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}(Fn,Fn.exports);var od=Fn.exports,qn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(qn,qn.exports);var rd=qn.exports,Un={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(Un,Un.exports);var ad=Un.exports,Yn={exports:{}},Gn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(Gn,Gn.exports);var ld=Gn.exports;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var s,n=(s=ld)&&s.__esModule?s:{default:s};t.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(Yn,Yn.exports);var cd=Yn.exports;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var s=a(od),n=a(rd),i=a(ad),o=a(cd);function a(e){return e&&e.__esModule?e:{default:e}}var r=(0,s.default)("youtube-player"),l={proxyEvents:function(e){var t={},s=function(s){var n="on"+s.slice(0,1).toUpperCase()+s.slice(1);t[n]=function(t){r('event "%s"',n,t),e.trigger(s,t)}},n=!0,o=!1,a=void 0;try{for(var l,c=i.default[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){s(l.value)}}catch(e){o=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw a}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={},i=function(n){t&&o.default[n]?s[n]=function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return e.then((function(e){var t=o.default[n],i=e.getPlayerState(),a=e[n].apply(e,s);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise((function(s){e.addEventListener("onStateChange",(function n(){var i=e.getPlayerState(),o=void 0;"number"==typeof t.timeout&&(o=setTimeout((function(){e.removeEventListener("onStateChange",n),s()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",n),clearTimeout(o),s())}))})).then((function(){return a})):a}))}:s[n]=function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return e.then((function(e){return e[n].apply(e,s)}))}},a=!0,r=!1,l=void 0;try{for(var c,d=n.default[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){i(c.value)}}catch(e){r=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw l}}return s}};t.default=l,e.exports=t.default}(zn,zn.exports);var dd=zn.exports;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(Yc),i=a(Qc),o=a(dd);function a(e){return e&&e.__esModule?e:{default:e}}var r=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(0,n.default)();if(r||(r=(0,i.default)(l)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=o.default.proxyEvents(l);var c=new Promise((function(n){"object"===(typeof e>"u"?"undefined":s(e))&&e.playVideo instanceof Function?n(e):r.then((function(s){var i=new s.Player(e,t);return l.on("ready",(function(){n(i)})),null}))})),d=o.default.promisifyPlayer(c,a);return d.on=l.on,d.off=l.off,d},e.exports=t.default}(Wn,Wn.exports);var hd=Wn.exports;const ud=It(hd);var fd=Object.defineProperty,md=Object.defineProperties,pd=Object.getOwnPropertyDescriptors,Zs=Object.getOwnPropertySymbols,gd=Object.prototype.hasOwnProperty,wd=Object.prototype.propertyIsEnumerable,Xs=(e,t,s)=>t in e?fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Zn=(e,t)=>{for(var s in t||(t={}))gd.call(t,s)&&Xs(e,s,t[s]);if(Zs)for(var s of Zs(t))wd.call(t,s)&&Xs(e,s,t[s]);return e},Xn=(e,t)=>md(e,pd(t)),bd=(e,t,s)=>new Promise(((n,i)=>{var o=e=>{try{r(s.next(e))}catch(e){i(e)}},a=e=>{try{r(s.throw(e))}catch(e){i(e)}},r=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);r((s=s.apply(e,t)).next())}));function xd(e,t){var s,n;if(e.videoId!==t.videoId)return!0;const i=(null==(s=e.opts)?void 0:s.playerVars)||{},o=(null==(n=t.opts)?void 0:n.playerVars)||{};return i.start!==o.start||i.end!==o.end}function Qs(e={}){return Xn(Zn({},e),{height:0,width:0,playerVars:Xn(Zn({},e.playerVars),{autoplay:0,start:0,end:0})})}function yd(e,t){return e.videoId!==t.videoId||!Uc(Qs(e.opts),Qs(t.opts))}function vd(e,t){var s,n,i,o;return e.id!==t.id||e.className!==t.className||(null==(s=e.opts)?void 0:s.width)!==(null==(n=t.opts)?void 0:n.width)||(null==(i=e.opts)?void 0:i.height)!==(null==(o=t.opts)?void 0:o.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var kd={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Sd={videoId:ve.string,id:ve.string,className:ve.string,iframeClassName:ve.string,style:ve.object,title:ve.string,loading:ve.oneOf(["lazy","eager"]),opts:ve.objectOf(ve.any),onReady:ve.func,onError:ve.func,onPlay:ve.func,onPause:ve.func,onEnd:ve.func,onStateChange:ve.func,onPlaybackRateChange:ve.func,onPlaybackQualityChange:ve.func},sn=class extends nt.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,s;return null==(s=(t=this.props).onReady)?void 0:s.call(t,e)},this.onPlayerError=e=>{var t,s;return null==(s=(t=this.props).onError)?void 0:s.call(t,e)},this.onPlayerStateChange=e=>{var t,s,n,i,o,a,r,l;switch(null==(s=(t=this.props).onStateChange)||s.call(t,e),e.data){case sn.PlayerState.ENDED:null==(i=(n=this.props).onEnd)||i.call(n,e);break;case sn.PlayerState.PLAYING:null==(a=(o=this.props).onPlay)||a.call(o,e);break;case sn.PlayerState.PAUSED:null==(l=(r=this.props).onPause)||l.call(r,e)}},this.onPlayerPlaybackRateChange=e=>{var t,s;return null==(s=(t=this.props).onPlaybackRateChange)?void 0:s.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,s;return null==(s=(t=this.props).onPlaybackQualityChange)?void 0:s.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const e=Xn(Zn({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=ud(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;null==(e=this.internalPlayer)||e.getIframe().then((e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,s,n;if(typeof this.props.videoId>"u"||null===this.props.videoId)return void(null==(e=this.internalPlayer)||e.stopVideo());let i=!1;const o={videoId:this.props.videoId};null!=(t=this.props.opts)&&t.playerVars&&(i=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),i?null==(s=this.internalPlayer)||s.loadVideoById(o):null==(n=this.internalPlayer)||n.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return bd(this,null,(function*(){vd(e,this.props)&&this.updatePlayer(),yd(e,this.props)&&(yield this.resetPlayer()),xd(e,this.props)&&this.updateVideo()}))}componentWillUnmount(){this.destroyPlayer()}render(){return nt.createElement("div",{className:this.props.className,style:this.props.style},nt.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Sn=sn;Sn.propTypes=Sd,Sn.defaultProps=kd,Sn.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Td=Sn;const jd=_.memo((()=>i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:"mb-10",children:[i.jsx("h3",{className:"mb-10 text-[16px] font-bold",children:"Video hướng dẫn"}),i.jsx("div",{className:"flex justify-center",children:i.jsx(Td,{videoId:"NihjY_1UjjA",opts:{height:"400",width:"700",playerVars:{controls:1}},className:"max-w-full !w-full [&_iframe]:w-full"})})]}),i.jsxs("section",{className:"text-sm max-lg:w-full",children:[i.jsx("strong",{children:"Giải thích:"}),i.jsxs("ul",{className:"mb-10 list-disc pl-10 text-sm",children:[i.jsx("li",{children:"Trên cùng ở giữa là tên cung nguyên bàn ví dụ Mệnh, Bào, Phối..."}),i.jsx("li",{children:"Hình tam giác nhỏ cạnh tên cùng màu là cùng tam hợp ví dụ (Thân, Tý, Thìn) tam hợp thủy tam giác đen"}),i.jsx("li",{children:"Góc trái trên cùng 1 cung có chữ B.Dần, Đ.Mão, M.Thìn thì đó là can cung và địa chi cung tương ứng Bính Dần, Đinh Mão, Mậu Thìn"}),i.jsx("li",{children:"Chữ (T) ở cạnh tên là cung Thân Nam Phái"}),i.jsxs("li",{children:[i.jsx("strong",{children:"Hệ thống tứ hóa, phi hóa:"}),i.jsxs("ul",{className:"list-disc pl-5",children:[i.jsx("li",{children:"Dấu ☸ ở cạnh tên cung là Lai Nhân Cung Khâm Thiên Tứ Hóa"}),i.jsx("li",{children:"Dấu + - ở chính tinh là nam nữ nhân tinh với Khâm Thiên Tứ Hóa"}),i.jsx("li",{children:"A, B, C, D tròn là tiên thiên tứ hóa tương ứng Lộc,Quyền, Khoa, Kị"}),i.jsx("li",{children:"2, 3, 4, 5 cạnh các chính tinh là phi hóa tương ứng từ Đại Vận, Lưu Niên, Lưu Nguyệt, Lưu Nhật"}),i.jsx("li",{children:"Mũi tên thẳng hướng tâm hoặc cong là các phi hóa, nét đứt là chuyển kị"}),i.jsx("li",{children:"Tự hóa hướng tâm là các mũi tên đâm xuyên tâm lá số"}),i.jsx("li",{children:"Tự hóa ly tâm là các mũi tên đâm ra ngoài"}),i.jsx("li",{children:"Phần số xanh lá và đỏ ở giữa cung phía dưới kết quả Phương Viên Lộc Kị toàn đồ "})]})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Hệ thống sao lưu:"}),i.jsxs("ul",{className:"list-disc pl-5",children:[i.jsx("li",{children:"Tiểu Vận Nam Phái góc trái phía dưới từng năm ví dụ THÌN"}),i.jsx("li",{children:"Các sao lưu đại vận có chữ Đ. ví dụ Đ.Kình Dương"}),i.jsx("li",{children:"Các sao lưu hằng năm có chữ L. ví dụ L.Kình Dương"}),i.jsxs("li",{children:["Vận tháng:",i.jsxs("ol",{className:"list-disc pl-5",children:[i.jsx("li",{children:'Nguyệt vận nam phái gần năm tiểu vận ví dụ "V5" nguyệt vận tháng 5'}),i.jsx("li",{children:'Nguyệt lưu nguyệt Phi Tinh góc phải dưới là "Đ.Sửu P12" (tháng 12 can chi tháng theo lịch là Đinh Sửu)'}),i.jsx("li",{children:'Vận tháng tử vân phái là chữ "ẤT5" ( tháng 5 can tháng theo lịch Ất)'})]})]}),i.jsx("li",{children:"⊙ cung lưu Tuần, ⊠ cung lưu Triệt, sao có chữ L. là sao lưu niên"})]})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cung vị trùng điệp chọn trong menu:"}),"Tự xoay cung vị theo năm, tháng xem",i.jsxs("ul",{className:"list-disc pl-5",children:[i.jsx("li",{children:"Trên cùng ở bên trái tên cung đại vận ví dụ Đ.Mệnh, Đ.Bào, Đ.Phối..."}),i.jsx("li",{children:"Trên cùng ở bên phải tên cung lưu niên ví dụ L.Mệnh, L.Bào, L.Phối..."}),i.jsx("li",{children:"Các biểu tượng ⇄, ⇅ dưới các cung phi là tuần hoàn Lộc, Quyền hoặc Kị. ⇄ thì sẽ tuần hoàn với các cung có ⇄ tương ứng, tương tự với ⇅ sẽ ương ứng với ⇅"})]})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Hệ thống Lục Thập Hoa Giáp và tuổi các năm:"}),i.jsx("ul",{className:"list-disc pl-5",children:i.jsx("li",{children:"Phần dưới cùng có nhiều năm 2009 2021 2003 là các năm màu năm là màu ngũ hành nạp âm. Ngay trên là Can năm đó và tuổi ví du ( Đ.13 K.25) thì là Đinh 13 tuổi, Kỷ 25 Tuổi"})})]})]}),i.jsx("h5",{className:"mb-1 text-[15px] font-bold",title:"Bảng an tứ hóa các phái tử vi",children:"Bảng an tứ hóa các phái tử vi"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsx("table",{id:"tuhoatbl",className:"w-[1600px]",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("th",{children:"Thiên can"}),i.jsxs("th",{children:["Bảng 1 ",i.jsx("br",{})," Được dùng nhiều"]}),i.jsxs("th",{children:["Bảng 2 ",i.jsx("br",{}),"Mặc định của phần mềm"]}),i.jsxs("th",{children:["Bảng 3 ",i.jsx("br",{})," Trung Châu Phái Vương Đình Chi"]}),i.jsxs("th",{children:["Bảng 4 ",i.jsx("br",{})," Một số phái"]}),i.jsxs("th",{children:["Bảng 5 ",i.jsx("br",{})," Trường phái nhỏ khác"]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"GIÁP"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Liêm"}),i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Liêm"}),i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Liêm"}),i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Liêm"}),i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Liêm"}),i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"ẤT"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"BÍNH"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"}),i.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"}),i.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"}),i.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"}),i.jsx("span",{className:"inline-block w-16",children:"Liêm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"}),i.jsx("span",{className:"inline-block w-16",children:"Liêm"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"ĐINH"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"MẬU"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Bật"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Bật"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Bật"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Bật"}),i.jsx("span",{className:"inline-block w-16",children:"Cơ"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"KỶ"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"}),i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"CANH"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Âm"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Âm"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Phủ"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Tướng"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Tham"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Đồng"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"TÂN"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Dương"}),i.jsx("span",{className:"inline-block w-16",children:"Khúc"}),i.jsx("span",{className:"inline-block w-16",children:"Xương"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"NHÂM"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Phụ"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Phụ"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16 font-bold text-red-700",children:"Phủ"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Phụ"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Lương"}),i.jsx("span",{className:"inline-block w-16",children:"Tử"}),i.jsx("span",{className:"inline-block w-16",children:"Phụ"}),i.jsx("span",{className:"inline-block w-16",children:"Vũ"})]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"QUÝ"}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"})]}),i.jsxs("td",{children:[i.jsx("span",{className:"inline-block w-16",children:"Phá"}),i.jsx("span",{className:"inline-block w-16",children:"Cự"}),i.jsx("span",{className:"inline-block w-16",children:"Âm"}),i.jsx("span",{className:"inline-block w-16",children:"Tham"})]})]})]})})})]})]})));class Cd{jumpDown(e){return(e+11)%12}jumpUp(e){return(e+1)%12}idxAfterMove(e,t,s=!0){let n=s?this.jumpDown(e):this.jumpUp(e);for(let e=1;e<=t;e++)n=s?this.jumpUp(n):this.jumpDown(n);return n}canJumpDown(e){return(e-1+10)%10}canJumpUp(e){return(e+1)%10}}const Fe=12,Nd=40,Mn=28,En=15,Ld=new Map([[2,8],[3,11],[4,5],[5,8],[6,2]]),Pd=new Map([[0,8],[1,9],[2,11],[3,0],[4,2],[5,3],[6,5],[7,6],[8,5],[9,6]]);class Ad{hsc;constructor(e){this.hsc=e}fillGrowCircle(){let e=Ld.get(this.hsc.cid)??0,t=40;for(let s=0;s<12;s+=1)this.hsc.addStar(e,t,Q.SmallStar),e=this.hsc.jumbByYinBoyYanGirl(e),t+=1}fillDoctorCircle(e,t){let s=Pd.get(e)??0,n=28;for(let e=0;e<12;e+=1)this.hsc.addStar(s,n,t),28===n&&this.hsc.addStar(s,27,t),s=this.hsc.jumbByYinBoyYanGirl(s),n+=1}fillKingCircle(e,t){let s=e,n=15;for(let e=0;e<12;e+=1)this.hsc.addStar(s,n,t),16===n&&this.hsc.addStar(s,14,t),s=this.hsc.jumbUp(s),n+=1}fillCircleSmallTime(){this.setAilPositions(),this.setMonthCanChi(),this.setLuuNguyetPositions(),this.setLuuNienPositions(),this.setLuuNguyetNPPositions()}setAilPositions(){const{dtv:e,ars:t,aIdx:s}=this.hsc;let n=e.bs.y[1],i=0;for(let e=0;e<12;e+=1)t[n].ail=i,s[`ail${i}`]=n,i=this.hsc.jumbDown(i),n=this.hsc.jumbUp(n)}setMonthCanChi(){const{dtv:e,ars:t}=this.hsc;let s=2,n=this.getNguHoDon(e.bs.y[0]);for(let e=0;e<12;e+=1)t[s].lmpt=[e+1,0,n,s,In.indexOf(`${re[n]} ${J[s]}`)],n=this.hsc.canJumpUp(n),s=this.hsc.jumbUp(s)}setLuuNguyetPositions(){const{dtv:e,dtb:t,ars:s,aIdx:n}=this.hsc;let i=e.bs.y[1];i=this.hsc.idxAfterMove(i,t.ln.m,!1),i=this.hsc.idxAfterMove(i,t.ln.h+1,!0);for(let e=0;e<12;e+=1)s[i].lmpt[1]=[e+1,e],n[`lmpt${e}`]=i,i=this.hsc.jumbUp(i)}setLuuNienPositions(){const{dtv:e,dtb:t,ars:s,aIdx:n}=this.hsc,i=e.bs.y[1];let o={8:10,0:10,4:10,2:4,6:4,10:4,5:7,9:7,1:7,11:1,3:1,7:1}[t.bs.y[1]],a=t.bs.y[1];const r=this.hsc.sx>0;for(let e=0;e<12;e+=1)i===a&&(n.lynpc=o),s[o].lynp=a,a=this.hsc.jumbUp(a),o=r?this.hsc.jumbUp(o):this.hsc.jumbDown(o)}setLuuNguyetNPPositions(){const{dtv:e,dtb:t,ars:s,aIdx:n}=this.hsc;let i=n.lynpc;i=this.hsc.idxAfterMove(i,t.ln.m,!1),i=this.hsc.idxAfterMove(i,t.ln.h+1,!0);let o=this.getNguHoDon(e.bs.y[0]),a=2;for(let t=0;t<12;t+=1)s[i].lmnp=[t+1,o,a,In.indexOf(`${re[o]} ${J[a]}`)],e.ln.m-1===t&&(n.lmnpc=i),i=this.hsc.jumbUp(i),o=this.hsc.canJumpUp(o),a=this.hsc.jumbUp(a)}getNguHoDon(e){return{4:6,5:8,6:0,7:2,8:4,9:6,0:8,1:0,2:2,3:4}[e]}fillCircleBigTime(){const{ars:e,aIdx:t}=this.hsc;let s=t.am;const n=this.hsc.cid;let i=this.hsc.cid;for(let o=0;o<12;o+=1){e[s].dv=i;const o=i,a=s;s=this.hsc.jumbByYinBoyYanGirl(s),i+=10,this.hsc.yeo>=o&&this.hsc.yeo<i&&(e[a].dvc=!0,this.hsc.dvidx=a),this.hsc.yeo<=n&&(e[t.am].dvc=!0,this.hsc.dvidx=t.am)}let o=this.hsc.dvidx,a=0;for(let s=0;s<be.length;s+=1)e[o].aid=a,t[`aid${a}`]=o,a=this.hsc.jumbDown(a),o=this.hsc.jumbUp(o)}}class $d{hsc;constructor(e){this.hsc=e}fillBigStar(){const e=[0,1,2,3,4,5];let t=0,s=0;for(let n=0;n<e.length;n+=1)if((this.hsc.dtb.ln.d+n)%this.hsc.cid==0){t=(this.hsc.dtb.ln.d+n)/this.hsc.cid,s=n;break}let n=this.hsc.idxAfterMove(2,t);n=this.hsc.idxAfterMove(n,s+1,s%2==0);const i=(e,t,s)=>{let n=e;return t.forEach((e=>{Number(e)>=0&&this.hsc.addStar(n,Number(e),Q.BigStar),n=s(n)})),n};i(n,[0,1,-1,2,3,4,-1,-1,5,-1,-1,-1],this.hsc.jumbDown.bind(this.hsc)),i({0:4,1:3,2:2,3:1,4:0,5:11,6:10,7:9,8:8,9:7,10:6,11:5}[n],[6,7,8,9,10,11,12,-1,-1,-1,13],this.hsc.jumbUp.bind(this.hsc))}fillSixAssassin(e,t){if(this.hsc.addStar(this.hsc.jumbUp(e),56,t),this.hsc.addStar(this.hsc.jumbDown(e),57,t),t!==Q.SmallStar)return;this.hsc.addStar(this.hsc.idxAfterMove(11,this.hsc.dtb.ln.h+1,!1),52,Q.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(11,this.hsc.dtb.ln.h+1,!0),53,Q.SmallStar);let s={2:1,6:1,10:1,8:2,0:2,4:2,5:3,9:3,1:3,11:9,3:9,7:9}[this.hsc.dtb.bs.y[1]],n={2:3,6:3,10:3,8:10,0:10,4:10,5:10,9:10,1:10,11:10,3:10,7:10}[this.hsc.dtb.bs.y[1]];this.hsc.istc?(s=this.hsc.idxAfterMove(s,this.hsc.dtb.ln.h+1,!0),n=this.hsc.idxAfterMove(n,this.hsc.dtb.ln.h+1,!0)):(s=this.hsc.idxAfterMove(s,this.hsc.dtb.ln.h+1,this.hsc.sx===this.hsc.adye),n=this.hsc.idxAfterMove(n,this.hsc.dtb.ln.h+1,this.hsc.sx!==this.hsc.adye)),this.hsc.addStar(s,54,Q.SmallStar),this.hsc.addStar(n,55,Q.SmallStar)}fillSixBuffer(e,t,s=0){if(this.hsc.addStar({4:1,5:0,6:11,7:11,8:1,9:0,0:7,1:6,2:3,3:3}[e],58,t),this.hsc.addStar({4:7,5:8,6:9,7:9,8:7,9:8,0:1,1:2,2:5,3:5}[e],59,t),t!==Q.SmallStar){const s={0:[5,9],1:[6,8],2:[8,6],3:[9,5],4:[8,6],5:[9,5],6:[11,3],7:[0,2],8:[2,0],9:[3,11]};return this.hsc.addStar(s[e][0],62,t),void this.hsc.addStar(s[e][1],63,t)}const n=this.hsc.idxAfterMove(10,s+1,!1),i=this.hsc.idxAfterMove(4,s+1,!0);this.hsc.addStar(n,62,t),this.hsc.addStar(i,63,t);const o=this.hsc.idxAfterMove(4,this.hsc.dtb.ln.m,!0),a=this.hsc.idxAfterMove(10,this.hsc.dtb.ln.m,!1);this.hsc.addStar(o,60,t),this.hsc.addStar(a,61,t)}fillBig4(e,t){const s=this.hsc.HOA[e];this.hsc.addStar(this.hsc.aIdx[`s${s[z.L]}`],64,t),this.hsc.addStar(this.hsc.aIdx[`s${s[z.Q]}`],65,t),this.hsc.addStar(this.hsc.aIdx[`s${s[z.Z]}`],66,t),this.hsc.addStar(this.hsc.aIdx[`s${s[z.K]}`],67,t)}fillTuanTriet(e,t,s=Q.SmallStar){const n={4:[8,9],5:[6,7],6:[4,5],7:[2,3],8:[0,1],9:[8,9],0:[6,7],1:[4,5],2:[2,3],3:[0,1]};let i=e,o=t;for(let e=0;e<10&&4!==i;e+=1)i=this.hsc.canJumpDown(i),o=this.hsc.jumbDown(o);const a={0:[10,11],10:[8,9],8:[6,7],6:[4,5],4:[2,3],2:[0,1]}[o],r=[];r[0]=[a[0],a[1]],this.hsc.aIdx.tu=a,r[1]=n[e],this.hsc.aIdx.tr=n[e];const l=s===Q.SmallStar?0:s===Q.TenYearStar?1:2;this.hsc.ttr[l]=r}fillDargon(e=this.hsc.dtb.bs.y[1],t=Q.SmallStar){this.hsc.addStar(this.hsc.idxAfterMove(4,e+1,!0),76,t),this.hsc.addStar(this.hsc.idxAfterMove(10,e+1,!1),77,t);this.hsc.addStar({5:1,9:1,1:1,11:7,3:7,7:7,2:10,6:10,10:10,8:4,0:4,4:4}[e],78,t)}fillTangMaKhocHu(e,t){const s={5:11,9:11,1:11,11:5,3:5,7:5,2:8,6:8,10:8,8:2,0:2,4:2}[e];this.hsc.addStar(s,79,t);const n=this.hsc.idxAfterMove(6,e+1,!1);this.hsc.addStar(n,80,t);const i=this.hsc.idxAfterMove(6,e+1,!0);this.hsc.addStar(i,81,t)}fillHinhRieuHaSatToai(e=this.hsc.dtb.bs.y[0],t=this.hsc.dtb.bs.y[1],s=Q.SmallStar){this.hsc.addStar({4:9,5:10,6:7,7:8,8:5,9:6,0:4,1:3,2:11,3:2}[e],90,s);this.hsc.addStar({5:2,9:2,1:2,11:8,3:8,7:8,2:11,6:11,10:11,8:5,0:5,4:5}[t],91,s);const n={0:5,6:5,3:5,9:5,2:9,8:9,5:9,11:9,4:1,10:1,1:1,7:1}[t];if(this.hsc.addStar(n,92,s),s!==Q.SmallStar)return;this.hsc.addStar(this.hsc.idxAfterMove(9,this.hsc.dtb.ln.m,!0),87,Q.SmallStar);const i=this.hsc.idxAfterMove(1,this.hsc.dtb.ln.m,!0);this.hsc.addStar(i,88,Q.SmallStar),this.hsc.addStar(i,89,Q.SmallStar)}fillDaoHongHiCoQua(e,t){const s={5:6,9:6,1:6,11:0,3:0,7:0,2:3,6:3,10:3,8:9,0:9,4:9}[e];this.hsc.addStar(s,82,t);const n=this.hsc.idxAfterMove(3,e+1,!1);this.hsc.addStar(n,83,t);const i=this.hsc.idxAfterMove(n,7,!0);if(this.hsc.addStar(i,84,t),t!==Q.SmallStar)return;const o={11:[2,10],0:[2,10],1:[2,10],2:[5,1],3:[5,1],4:[5,1],5:[8,4],6:[8,4],7:[8,4],8:[11,7],9:[11,7],10:[11,7]},a=o[e][0];this.hsc.addStar(a,85,t);const r=o[e][1];this.hsc.addStar(r,86,t)}fillThaiCaoAnDuong(){const e=this.hsc.idxAfterMove(6,this.hsc.dtb.ln.h+1,!0);this.hsc.addStar(e,72,Q.SmallStar);const t=this.hsc.idxAfterMove(2,this.hsc.dtb.ln.h+1,!0);this.hsc.addStar(t,73,Q.SmallStar);const s=this.hsc.idxAfterMove(this.hsc.aIdx.s27,9,!0),n=this.hsc.idxAfterMove(this.hsc.aIdx.s27,8,!1);this.hsc.addStar(s,74,Q.SmallStar),this.hsc.addStar(n,75,Q.SmallStar)}fillQuangQuyThaiToa(){const e=this.hsc.dtb.ln.d;this.hsc.addStar(this.hsc.jumbDown(this.hsc.idxAfterMove(this.hsc.aIdx.s62,e,!0)),68,Q.SmallStar),this.hsc.addStar(this.hsc.jumbUp(this.hsc.idxAfterMove(this.hsc.aIdx.s63,e,!1)),69,Q.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(this.hsc.aIdx.s60,e,!0),70,Q.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(this.hsc.aIdx.s61,e,!1),71,Q.SmallStar)}fillQuanPhucNienTru(e,t){const s={4:[7,9,5,5],5:[4,8,6,6],6:[5,0,8,5],7:[2,11,9,6],8:[3,3,8,8],9:[9,2,9,9],0:[11,6,11,11],1:[9,5,0,0],2:[10,6,2,2],3:[6,5,3,3]},n=s[e][0],i=s[e][1],o=s[e][2],a=s[e][3];this.hsc.addStar(n,93,t),this.hsc.addStar(i,94,t),this.hsc.addStar(o,95,t),this.hsc.addStar(a,96,t)}fillThienNguyetDiaThanTaiTho(){this.hsc.istc||this.hsc.addStar(this.hsc.aIdx.s77,101,Q.SmallStar);const e=this.hsc.idxAfterMove(7,this.hsc.dtb.ln.m,!0);this.hsc.addStar(e,100,Q.SmallStar);const t=this.hsc.idxAfterMove(8,this.hsc.dtb.ln.m,!0);this.hsc.addStar(t,99,Q.SmallStar);const s=this.hsc.idxAfterMove(9,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(s,97,Q.SmallStar);const n=this.hsc.idxAfterMove(5,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(n,98,Q.SmallStar);const i=this.hsc.idxAfterMove(this.hsc.aIdx.am,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(i,102,Q.SmallStar);const o=this.hsc.idxAfterMove(this.hsc.aIdx.at,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(o,103,Q.SmallStar)}fillDauThuongSuLaVong(){let e=this.hsc.idxAfterMove(this.hsc.aIdx.s15,this.hsc.dtb.ln.m,!1);e=this.hsc.idxAfterMove(e,this.hsc.dtb.ln.h+1,!0),this.hsc.addStar(e,104,Q.SmallStar),this.hsc.addStar(this.hsc.aIdx.ai5,106,Q.SmallStar),this.hsc.addStar(this.hsc.aIdx.ai7,105,Q.SmallStar),this.hsc.addStar(4,107,Q.SmallStar),this.hsc.addStar(10,108,Q.SmallStar);const t={1:[2,6,9,10],2:[0,8,7,0],3:[10,10,5,2],4:[8,0,3,4],5:[6,2,1,6],6:[4,4,11,8],7:[2,6,9,10],8:[0,8,7,0],9:[10,10,5,2],10:[8,0,3,4],11:[6,2,1,6],12:[4,4,11,8]};this.hsc.addStar(t[this.hsc.dtb.ln.m][0],122,Q.SmallStar),this.hsc.addStar(t[this.hsc.dtb.ln.m][1],123,Q.SmallStar),this.hsc.addStar(t[this.hsc.dtb.ln.m][2],124,Q.SmallStar),this.hsc.addStar(t[this.hsc.dtb.ln.m][3],125,Q.SmallStar)}fillTuViTrungChauPhai(){const e=this.hsc.idxAfterMove(10,this.hsc.dtb.bs.y[1]+1,!1);this.hsc.addStar(e,118,Q.SmallStar);const t={1:8,2:8,3:10,4:10,5:0,6:0,7:2,8:2,9:4,10:4,11:6,12:6}[this.hsc.dtb.ln.m];this.hsc.addStar(t,119,Q.SmallStar);const s={1:5,5:5,9:5,2:8,6:8,10:8,3:2,7:2,11:2,4:11,8:11,12:11}[this.hsc.dtb.ln.m];this.hsc.addStar(s,120,Q.SmallStar);const n={1:10,2:5,3:4,4:2,5:7,6:3,7:11,8:7,9:2,10:6,11:10,12:2}[this.hsc.dtb.ln.m];this.hsc.addStar(n,121,Q.SmallStar);let i={8:0,0:0,4:0,2:6,6:6,10:6,11:3,3:3,7:3,5:9,9:9,1:9}[this.hsc.dtb.bs.y[1]];const o=[109,110,111,112,-1,-1,113,114,115,-1,116,117];for(let e=0;e<o.length;e+=1)o[e]>0&&this.hsc.addStar(i,o[e],Q.SmallStar),i=this.hsc.jumbUp(i)}}class Bd{hsc;constructor(e){this.hsc=e}buildZoneName(){let e=this.hsc.idxAfterMove(2,this.hsc.dtb.ln.m);const t=this.hsc.idxAfterMove(e,this.hsc.dtb.ln.h+1);this.hsc.aIdx.at=t,e=this.hsc.idxAfterMove(e,this.hsc.dtb.ln.h+1,!1),this.hsc.aIdx.am=e;let s=0;for(let t=0;t<12;t+=1){const t={ai:s,ci:e,cn:-1,na:-1,sb:[],ss:[],sv:[],sy:[],sm:[],sd:[],lmnp:[],lynp:0,lmpt:[],aid:0,dv:0,cni:[[],[],[],[]],cnw:[[],[],[],[]],cno:[],th1:[[0,0,0],[],[],[0,0]],ys:[],que:[],stlk:[],zolk:[]};this.hsc.ars[e]=t,this.hsc.aIdx[`ai${s}`]=e,s=this.hsc.jumbDown(s),e=this.hsc.jumbUp(e)}let n=0,i=2;for(;n<12;){const e=this.hsc.dtb.m12[n][0];this.hsc.ars[i].cn=e,this.hsc.ars[i].na=In.indexOf(`${re[e]} ${J[i]}`),n+=1,i=this.hsc.jumbUp(i)}this.hsc.am=this.hsc.aIdx.am,this.hsc.at=this.hsc.aIdx.at,this.hsc.cid=ce[this.hsc.ars[this.hsc.aIdx.am].na],1===this.hsc.cfg[I.tcpb]&&(this.hsc.cid=ce[this.hsc.ars[this.hsc.aIdx.at].na]),2===this.hsc.cfg[I.tcpb]&&(this.hsc.cid=ce[this.hsc.ars[this.hsc.aIdx.ai10].na]),this.hsc.adme=Nn[this.hsc.ars[this.hsc.aIdx.am].ci];const o=1===this.hsc.adme?1:-1;this.hsc.adye=Nn[this.hsc.dtb.bs.y[1]],this.hsc.adyetk=Nn[this.hsc.dtb.tk.y[1]];const a=1===this.hsc.adye?1:-1;this.hsc.ad=o*a>0?1:0}fillBaseMenhThan(){this.hsc.mctc={0:[8,55],1:[9,10],2:[27,11],3:[63,4],4:[5,62],5:[3,1],6:[13,54],7:[3,10],8:[5,11],9:[63,4],10:[27,62],11:[9,1]}[this.hsc.dtb.bs.y[1]]}fillPhiHoa(){for(let e=0;e<=11;e+=1){const t=this.hsc.HOA[this.hsc.ars[e].cn];this.hsc.ars[e].cno=[this.hsc.aIdx[`s${t[z.L]}`],this.hsc.aIdx[`s${t[z.Q]}`],this.hsc.aIdx[`s${t[z.Z]}`],this.hsc.aIdx[`s${t[z.K]}`]];for(let t=0;t<=11;t+=1){const s=this.hsc.HOA[this.hsc.ars[t].cn];for(let n=0;n<4;n+=1)this.hsc.aIdx[`s${s[n]}`]===e&&(this.hsc.ars[e].cni[n].push(t),this.hsc.ars[e].cnw[n].push(s[n]))}}this.setLocKiStatic();const e=[[],[],[],[],[],[],[],[],[],[],[],[]],t=[[],[],[],[],[],[],[],[],[],[],[],[]],s=[[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]]];for(let n=0;n<12;n+=1){this.hsc.countLoop=0,this.countMoveKi(n),this.hsc.countLoop=0,this.countMoveLoc(n),this.hsc.countLoop=0;const i=this.checkTuanHoan(3,n);this.checkPeriodicRepetition(i)&&(e[n]=this.getUniquePeriodicElements(i)),this.hsc.countLoop=0;const o=this.checkTuanHoan(0,n);this.checkPeriodicRepetition(o)&&(t[n]=this.getUniquePeriodicElements(o));for(let e=0;e<4;e++){this.hsc.countLoop=0;const t=this.checkTuanHoanPT(e,n);this.checkPeriodicRepetition(t)&&(s[e][n]=this.getUniquePeriodicElements(t))}}this.hsc.loopLP[z.L]=this.getUniqueRepresentatives(t),this.hsc.loopLP[z.K]=this.getUniqueRepresentatives(e);for(let e=0;e<4;e++)this.hsc.loopPT[e]=this.getUniqueRepresentatives(s[e]);this.hsc.loopLP[z.L].length>0&&this.hsc.loopLP[z.L].forEach(((e,t)=>{e.length>0&&!this.isTuanHoanLocLuongPhai(e)&&(this.hsc.loopLP[z.L][t]=[])})),this.addBatQuai()}isTuanHoanLocLuongPhai(e){let t=!0;return e.forEach(((s,n)=>{const i=s;let o=n+1;o>e.length-1&&(o=0);const a=e[o];if(this.hsc.ars[i].cno[z.K]!==a)return t=!1,!1;const r=this.hsc.HOA[this.hsc.ars[i].cn][3];return 0===this.hsc.ars[a].stlk[r][me.isMoveLoc]?(t=!1,!1):void 0})),t}arraysEqual(e,t){return JSON.stringify(e)===JSON.stringify(t)}rotateArray(e,t){return[...e.slice(t,e.length),...e.slice(0,t)]}getUniqueRepresentatives(e){const t=[],s=Array(e.length).fill(!1);for(let n=0;n<e.length;n++){if(s[n]||0===e[n].length)continue;const i=e[n];s[n]=!0;for(let t=n+1;t<e.length;t++)if(0!==e[t].length)for(let n=0;n<e[t].length;n++)if(this.arraysEqual(this.rotateArray(e[t],n),i)){s[t]=!0;break}t.push(i)}return t}listStarHoaInZone(e){const t=[],s=this.hsc.ars[e],n=s.ss.filter((e=>[60,61,62,63].includes(e)));return s.sb.concat(n).forEach((e=>{this.hsc.str2u.includes(e)&&t.push({ids:e,vl:this.hsc.str2hc[e]})})),t}isNienLoc(e){return this.hsc.aIdx.s64===e}isNienKi(e){return this.hsc.aIdx.s67===e}isMenhLocNienLoc(e){const t=this.hsc.aIdx.s64,s=this.hsc.ars[this.hsc.am].cno[z.L];return t===e||s===e}isMenhKiNienKi(e){const t=this.hsc.aIdx.s67,s=this.hsc.ars[this.hsc.am].cno[z.K];return t===e||s===e}isMenhKi(e){return this.hsc.ars[this.hsc.am].cno[z.K]===e}setLocKiStatic(){for(let e=0;e<12;e+=1){let t=0,s=0,n=0;t+=this.isNienLoc(e)?1:0,n+=this.isNienKi(e)?1:0;let i=this.isMenhLocNienLoc(e)?1:0,o=this.isMenhLocNienLoc(e)?1:0,a=this.isMenhKiNienKi(e)?1:0;const r=this.hsc.ars[e].cno[z.K]===e,l=this.hsc.ars[e].cno[z.L]===e,c=this.listStarHoaInZone(e);c.length<=0?(this.hsc.ars[e].zolk[z.L]=[0,-1,0,0,0,0],this.hsc.ars[e].zolk[z.K]=[0,-1,0]):(c.forEach((i=>{const o=this.hsc.ars[e].cnw,a=o[z.L].filter((e=>e===i.ids)).length,l=o[z.K].filter((e=>e===i.ids)).length;if(a>0||l>0){let o=0;this.hsc.ars[e].stlk[i.ids]=[0,0,0,0,0,0,0],this.hsc.ars[e].stlk[i.ids][me.numLoc]=a,this.hsc.ars[e].stlk[i.ids][me.numKi]=l,this.hsc.ars[e].stlk[i.ids][me.currentLoc]=a,this.hsc.ars[e].stlk[i.ids][me.isMoveLoc]=r?0:a>=2?1:0,this.hsc.ars[e].stlk[i.ids][me.isMoveKi]=r?0:l>=2?1:0,this.hsc.ars[e].stlk[i.ids][me.isTruyLoc]=0,this.hsc.ars[e].stlk[i.ids][me.isTruyKi]=0,o=r?a:a>=2?0:a,s+=o,t+=a,n+=l}})),i=l?1:i,o=l?1:o,i=this.checkMoveLoc(i,t,e),o=this.checkMoveAll(o,e,i),a=this.checkMoveKi(a,n),i=r?0:i,o=r?0:o,a=r?0:a,this.updateZoneLocKi(e,i,t,s,o,a,n))}this.truyLocKi(),this.countKiStatic()}checkMoveLoc(e,t,s){if(0===e){const n=this.hsc.ars[s].stlk.some((e=>1===e[me.isMoveLoc]));e=t>=2&&n?1:e}return e}checkMoveAll(e,t,s){return 0===e&&1===this.hsc.ars[t].stlk.length&&1===s&&(e=1),e}checkMoveKi(e,t){return 0===e&&t>=2?1:e}updateZoneLocKi(e,t,s,n,i,o,a){this.hsc.ars[e].zolk[z.L]=[0,0,0,0,0,0,0],this.hsc.ars[e].zolk[z.L][Z.isMoveLoc]=t,this.hsc.ars[e].zolk[z.L][Z.totalLoc]=s,this.hsc.ars[e].zolk[z.L][Z.currentLoc]=s,this.hsc.ars[e].zolk[z.L][Z.isMoveAllLoc]=i,this.hsc.ars[e].zolk[z.L][Z.locKeep]=1===i?0:n,this.hsc.ars[e].zolk[z.L][Z.isMoveNienLoc]=this.isNienLoc(e)?1:0,this.hsc.ars[e].zolk[z.K]=[0,0,0,0,0,0,0],this.hsc.ars[e].zolk[z.K][Z.isMoveKi]=o,this.hsc.ars[e].zolk[z.K][Z.totalKi]=a,this.hsc.ars[e].zolk[z.K][Z.currentKi]=0}checkZoneTruyLoc(e){const t=this.hsc.ars[e].cno[z.K]===e;if(!t){const t=this.hsc.ars[e].zolk[z.L][Z.isMoveAllLoc];let s=0;this.hsc.ars[e].stlk.forEach(((n,i)=>{1===t&&n[me.currentLoc]>0&&0===n[me.isMoveLoc]?(this.hsc.ars[e].stlk[i][me.isMoveLoc]=1,this.hsc.ars[e].zolk[z.L][Z.isMoveLoc]=1):n[me.currentLoc]>0&&0===n[me.isMoveLoc]&&n[me.numKi]>0&&n[me.numLoc]>0&&this.hsc.ars[e].cni[3].forEach(((t,s)=>{this.hsc.ars[e].cnw[3][s]===i&&this.hsc.ars[t].zolk[z.L][Z.isMoveLoc]>0&&(this.hsc.ars[e].zolk[z.L][Z.isMoveLoc]=1,this.hsc.ars[e].stlk[i][me.isMoveLoc]=1,this.hsc.ars[e].stlk[i][me.isTruyLoc]=1)})),s+=n[me.currentLoc]})),this.hsc.ars[e].zolk[z.L][Z.currentLoc]=s}!t&&1===this.hsc.ars[e].stlk.length&&1===this.hsc.ars[e].zolk[z.L][Z.isMoveLoc]&&(this.hsc.ars[e].zolk[z.L][Z.isMoveAllLoc]=1)}checkZoneTruyKi(e){const t=this.hsc.ars[e].cno[z.K]===e;let s=0;this.hsc.ars[e].cni[z.K].forEach((e=>{1===this.hsc.ars[e].zolk[z.K][Z.isMoveKi]&&!t&&(s+=1)})),1===this.hsc.ars[e].zolk[z.K][Z.isMoveKi]&&s===this.hsc.ars[e].cni[z.K].length&&!this.isMenhKiNienKi(e)&&(this.hsc.ars[e].zolk[z.K][Z.isMoveKi]=0),0===this.hsc.ars[e].zolk[z.K][Z.isMoveKi]&&this.hsc.ars[e].cni[z.K].length>1&&s<this.hsc.ars[e].cni[z.K].length&&!t&&(this.hsc.ars[e].zolk[z.K][Z.isMoveKi]=1)}truyLocKi(){for(let e=0;e<12;e+=1)this.checkZoneTruyLoc(e),this.checkZoneTruyKi(e)}countKiStatic(){for(let e=0;e<12;e++){let t=0;this.isNienKi(e)&&t++,this.hsc.ars[e].cni[z.K].forEach((s=>{(0===this.hsc.ars[s].zolk[z.K][Z.isMoveKi]||this.isMenhKi(e)&&1===this.hsc.ars[s].zolk[z.K][Z.isMoveKi])&&t++})),this.hsc.ars[e].zolk[z.K][Z.currentKi]=t}}countMoveKi(e){if(this.hsc.countLoop>=11)return;const t=this.hsc.ars[e].zolk[z.K];if(this.hsc.ars[e].cno[z.K]!==e&&-1!==t[Z.totalKi]&&(this.hsc.countLoop+=1,this.isZoneMove2(e))){const s=this.hsc.ars[e].cno[z.K],n=this.hsc.ars[s].zolk[z.K],i=t[Z.currentKi],o=n[Z.currentKi];n[Z.currentKi]=o+i,t[Z.currentKi]=0,this.isZoneMove2(s)&&this.countMoveKi(s)}}countMoveLoc(e){if(this.hsc.countLoop>=11)return;const t=this.hsc.ars[e].zolk[z.L];if(-1===t[Z.totalLoc]||this.hsc.ars[e].cno[z.K]===e)return;this.hsc.countLoop+=1;const s=this.hsc.ars[e].stlk;let n=0;s.forEach(((s,i)=>{const o=s[me.currentLoc],a=s[me.isMoveLoc];(1===t[Z.isMoveAllLoc]&&o>0||o>0&&1===a)&&(n+=o,t[Z.currentLoc]-=o,this.hsc.ars[e].stlk[i][me.currentLoc]=0)})),this.isNienLoc(e)&&1===t[Z.isMoveNienLoc]&&(n+=1,t[Z.isMoveNienLoc]=0);const i=this.hsc.ars[e].cno[z.K],o=this.hsc.ars[e].cn,a=this.hsc.HOA[o][z.K],r=this.hsc.ars[i].zolk[z.L],l=this.hsc.ars[i].stlk[a];r[Z.currentLoc]+=n,l[me.currentLoc]+=n,this.checkZoneTruyLoc(i),this.isZoneMove2(i,0)&&this.countMoveLoc(i)}checkTuanHoan(e,t,s=[]){let n=s;if(this.hsc.countLoop>=24)return n;if(this.hsc.countLoop+=1,this.isZoneMove2(t,e)){n.push(t);const s=this.hsc.ars[t].cno[z.K];this.isZoneMove2(s,e)?n=this.checkTuanHoan(e,s,n):n.push(s)}return n}checkTuanHoanPT(e,t,s=[]){let n=s;if(this.hsc.countLoop>=12||this.hsc.ars[t].cno[e]===t)return n;this.hsc.countLoop+=1,n.push(t);const i=this.hsc.ars[t].cno[e];return i===t?(n.push(t),n):(n=this.checkTuanHoanPT(e,i,n),n)}isZoneMove2(e,t=3){return 0===t?1===this.hsc.ars[e].zolk[z.L][Z.isMoveLoc]:1===this.hsc.ars[e].zolk[z.K][Z.isMoveKi]}checkPeriodicRepetition(e){const t=e.length;for(let s=1;s<=t/2;s++){let n=!0;for(let i=0;i<t;i++)if(e[i]!==e[i%s]){n=!1;break}if(n)return!0}return!1}getUniquePeriodicElements(e){for(let t=1;t<=e.length/2;t++){const s=e.slice(0,t),n=Array(Math.ceil(e.length/t)).fill(s).flat().slice(0,e.length);if(JSON.stringify(n)===JSON.stringify(e))return[...new Set(s)]}return[]}isExitQueByCung(e,t){const s=this.hsc.ars[e].que;let n=!1;return s.forEach((e=>{if(t===e[0])return n=!0,n})),n}addBatQuai(){const e=[this.hsc.aIdx.s64,this.hsc.aIdx.s65,this.hsc.aIdx.s66,this.hsc.aIdx.s67];for(let t=0;t<4;t+=1){const s=t,n=e[t],i=this.hsc.ars[n];i.cno.forEach(((e,o)=>{if(e===n){const e=o;i.cni.forEach(((i,a)=>{for(let r=0;r<i.length;r+=1){const l=i[r];if(l===n&&a===o)continue;const c=jt([s,e,a]);this.isExitQueByCung(l,c)||this.hsc.ars[l].que.push([c,[t,o,a],[n,n,l]])}}))}}));const o=Oe[n].x;i.cno.forEach(((e,a)=>{if(e===o){const e=a;this.hsc.ars[o].cni.forEach(((i,r)=>{for(let l=0;l<i.length;l+=1){const c=i[l];if(c===n&&r===a)continue;const d=jt([s,e,r]);this.isExitQueByCung(c,d)||this.hsc.ars[c].que.push([d,[t,a,r],[n,o,c]])}})),i.cni.forEach(((i,o)=>{for(let r=0;r<i.length;r+=1){const l=i[r];if(l===n)continue;const c=jt([s,e,o]);this.isExitQueByCung(l,c)||this.hsc.ars[l].que.push([c,[t,a,o],[n,n,l]])}}))}})),this.hsc.ars[o].cno.forEach(((e,a)=>{if(e===n){const e=a;this.hsc.ars[o].cni.forEach(((i,r)=>{for(let l=0;l<i.length;l+=1){const c=i[l],d=jt([s,e,r]);this.isExitQueByCung(c,d)||this.hsc.ars[c].que.push([d,[t,a,r],[n,o,c]])}})),i.cni.forEach(((i,r)=>{for(let l=0;l<i.length;l+=1){const c=i[l];if(c===o&&r===a||c===n)continue;const d=jt([s,e,r]);this.isExitQueByCung(c,d)||this.hsc.ars[c].que.push([d,[t,a,r],[n,n,c]])}}))}}))}}}var Q=(e=>(e.BigStar="sb",e.SmallStar="ss",e.YearStar="sy",e.MonthStar="sm",e.DayStar="sd",e.TenYearStar="sv",e))(Q||{});class Md{search;cid=2;at=1;am=1;yeo=1;dtb;dtv;dtc;aIdx={};adye=1;adyetk=1;adme=1;ad=1;sx=1;ttr={0:[],1:[],2:[]};ars=[];sks=5;istc=!1;tpCan=0;cfg=[...vt];dvidx=0;idxCheckZone=0;mctc=[];cach={};rad=0;tutru={cot:[{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1}],dv:[],dvt:[]};starPlacer;circlePlacer;zoneBuilder;calculationHelper;arrIdxChuyenLoc=[];str2hc={};str2u=[];arrCkZone=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]];loopLP=[[],[],[],[]];loopPT=[[],[],[],[]];countLoop=0;HOA=po;numberStarCol1=[0,0,0,0,0,0,0,0,0,0,0,0];numberStarCol2=[0,0,0,0,0,0,0,0,0,0,0,0];css=0;constructor(e){e&&e.cfg&&Object.assign(this.cfg,e.cfg);const t=ge(),s=ct(t.year(),t.month()+1,t.date(),t.hour(),t.minute());this.dtc=St(s);const n=ct(e.born.year(),e.born.month()+1,e.born.date(),e.born.hour(),e.born.minute());this.dtb=St(n),this.dtv=this.dtc??St(ct(t.year(),t.month()+1,t.date(),t.hour(),t.minute())),void 0!==e.view&&(this.dtv=St(ct(e.view.year(),e.view.month()+1,e.view.date(),e.view.hour(),e.view.minute()))),this.yeo=this.dtv.sn.y-this.dtb.sn.y+1,this.sx=e.sex,this.istc=[6,7,8].includes(this.cfg[I.typeLs]),this.HOA=ni(this.cfg[I.lsCanType]),this.istc||(this.cfg[I.tcpb]=0),this.str2hc=go(this.HOA),this.str2u=wo(this.HOA),this.starPlacer=new $d(this),this.circlePlacer=new Ad(this),this.zoneBuilder=new Bd(this),this.calculationHelper=new Cd,this.initializeHoroscope()}removePrivateProperties(){delete this.starPlacer,delete this.circlePlacer,delete this.zoneBuilder,delete this.calculationHelper,this.arrIdxChuyenLoc=[],this.str2hc={},this.str2u=[],this.arrCkZone=[],this.countLoop=0,this.HOA={},this.numberStarCol1=[],this.numberStarCol2=[],this.idxCheckZone=0,this.tpCan=0,this.adyetk=1,delete this.dtc}initializeHoroscope(){this.zoneBuilder.buildZoneName(),this.starPlacer.fillBigStar();const e=this.dtb.bs.y[0];this.starPlacer.fillSixAssassin([8,9,11,0,2,3,5,6,5,6][e],"ss"),this.starPlacer.fillSixBuffer(this.dtb.bs.y[0],"ss",this.dtb.ln.h),this.starPlacer.fillBig4(this.dtb.bs.y[0],"ss"),this.circlePlacer.fillKingCircle(this.dtb.bs.y[1],"ss"),this.circlePlacer.fillDoctorCircle(this.dtb.bs.y[0],"ss"),this.circlePlacer.fillGrowCircle(),this.starPlacer.fillTuanTriet(this.dtb.bs.y[0],this.dtb.bs.y[1]),this.starPlacer.fillQuangQuyThaiToa(),this.starPlacer.fillThaiCaoAnDuong(),this.starPlacer.fillDargon(),this.starPlacer.fillTangMaKhocHu(this.dtb.bs.y[1],"ss"),this.starPlacer.fillHinhRieuHaSatToai(),this.starPlacer.fillDaoHongHiCoQua(this.dtb.bs.y[1],"ss"),this.starPlacer.fillQuanPhucNienTru(this.dtb.bs.y[0],"ss"),this.starPlacer.fillThienNguyetDiaThanTaiTho(),this.starPlacer.fillDauThuongSuLaVong(),this.skyAreaSK(),this.istc&&this.starPlacer.fillTuViTrungChauPhai(),this.circlePlacer.fillCircleBigTime(),this.circlePlacer.fillCircleSmallTime(),this.fillStarRepeatByLoop(),this.addAgeToAreas(),this.zoneBuilder.fillBaseMenhThan(),this.zoneBuilder.fillPhiHoa(),this.tuTruBuildBigTime(),this.tuTruBuildCot(0,this.dtb.tk.y,this.dtb.tk.d),this.tuTruBuildCot(1,this.dtb.tk.m,this.dtb.tk.d),this.tuTruBuildCot(2,this.dtb.tk.d,this.dtb.tk.d,!0),this.tuTruBuildCot(3,this.dtb.tk.h,this.dtb.tk.d),this.css=Math.max(Math.max(...this.numberStarCol1),Math.max(...this.numberStarCol2))}addStar(e,t,s){if("sb"!==s&&"ss"!==s&&void 0!==se[t][`is${s}`]&&!1===se[t][`is${s}`])return;this.ars[e][s].push(t);const n=this.ars[e][s];switch(n.sort(((e,t)=>1===se[e].zone&&1!==se[t].zone||3===se[e].zone&&1!==se[t].zone&&3!==se[t].zone?-1:1)),this.ars[e][s]=n,s){case"sb":case"ss":this.aIdx[`s${t}`]=e;break;default:this.aIdx[`${s}${t}`]=e}const i="sb"!==s&&"ss"!==s;if(("ss"===s||"sv"===s&&1===this.cfg[I.dvStar]&&![64,65,66,67].includes(t)||"sy"===s&&this.cfg[I.currentStar]>0&&![64,65,66,67].includes(t))&&t>13){const n=se[t];if(void 0===n.cir||"vts"!==n.cir){const o=this.cfg[I.showHideStar];if(o>0&&!i&&(1===o&&!Ye.includes(t)||2===o&&!Ye.includes(t)&&!ht.includes(t)||3===o&&!Ye.includes(t)&&!ht.includes(t)&&!on.includes(t)||4===o&&!Ye.includes(t)&&!ht.includes(t)&&!on.includes(t)&&!si.includes(t)))return;const a=1===this.cfg[I.dvStar],r=this.cfg[I.currentStar]>0;if("sv"===s&&!a||"sy"===s&&!r)return;1===n.typ&&(this.numberStarCol1[e]+=1),2===n.typ&&(this.numberStarCol2[e]+=1)}}}jumbDown(e){return this.calculationHelper.jumpDown(e)}jumbUp(e){return this.calculationHelper.jumpUp(e)}jumbByYinBoyYanGirl(e){return this.sx===this.adye?this.jumbUp(e):this.jumbDown(e)}jumbByYinBoyYanGirlTietKhi(e){return this.sx===this.adyetk?this.jumbUp(e):this.jumbDown(e)}idxAfterMove(e,t,s=!0){return this.calculationHelper.idxAfterMove(e,t,s)}canJumpDown(e){return this.calculationHelper.canJumpDown(e)}canJumpUp(e){return this.calculationHelper.canJumpUp(e)}canJumbByYinBoyYanGirl(e){return this.sx===this.adye?this.canJumpUp(e):this.canJumpDown(e)}canJumbByYinBoyYanGirlTietKhi(e){return this.sx===this.adyetk?this.canJumpUp(e):this.canJumpDown(e)}skyAreaSK(){this.sks={2:{2:5,3:4,4:3,6:6,5:7},3:{3:5,6:4,2:3,5:6,4:7},4:{4:5,2:4,5:3,3:6,6:7},5:{5:5,4:4,6:3,2:6,3:7},6:{6:5,5:4,3:3,4:6,2:7}}[ce[this.dtb.bs.y[2]]][ce[this.ars[this.aIdx.am].na]]}fillStarRepeatByLoop(){const e=this.aIdx[`aid${this.idxCheckZone}`],t=this.ars[e].cn;this.addStar([8,9,11,0,2,3,5,6,5,6][t],27,"sv"),this.starPlacer.fillSixAssassin(this.aIdx.sv27,"sv"),this.starPlacer.fillSixBuffer(t,"sv"),this.starPlacer.fillBig4(t,"sv"),this.circlePlacer.fillKingCircle(this.dtv.bs.y[1],"sy"),this.circlePlacer.fillDoctorCircle(this.dtv.bs.y[0],"sy"),this.starPlacer.fillSixAssassin(this.aIdx.sy27,"sy"),this.starPlacer.fillSixBuffer(this.dtv.bs.y[0],"sy"),this.starPlacer.fillBig4(this.dtv.bs.y[0],"sy"),this.starPlacer.fillTangMaKhocHu(this.dtv.bs.y[1],"sy"),this.starPlacer.fillHinhRieuHaSatToai(this.dtv.bs.y[0],this.dtv.bs.y[1],"sy"),this.starPlacer.fillDaoHongHiCoQua(this.dtv.bs.y[1],"sy"),this.starPlacer.fillDargon(this.dtv.bs.y[1],"sy"),this.starPlacer.fillTuanTriet(this.dtv.bs.y[0],this.dtv.bs.y[1],"sy")}addAgeToAreas(){let e=this.dtb.bs.y[1],t=0;for(let s=1;s<=84;s+=1){const s=t+this.dtb.ln.y;if(s>2099)break;const n=St(ct(s,6,6,6,6));this.ars[e].ys.push([t+1,s,n.bs.y[2],n.bs.y[0]]),e=this.jumbUp(e),t+=1}}tuTruBuildBigTime(){const e=ge(this.dtb.sn.y+"-"+this.dtb.sn.m+"-"+this.dtb.sn.d+" "+this.dtb.sn.h+":"+this.dtb.sn.i),t=this.dtb.tki,s=this.sx===this.adyetk;let n,i;s?(n=ge(t[4]),i=n.diff(e,"day",!0)):(n=ge(t[3]),i=e.diff(n,"day",!0));const o=Number(i.toFixed(10)),a=Math.floor(o),r=24*(o-a),l=Math.ceil(r),c=o/3,d=Math.floor(c),h=365*(c-d)/30,u=Math.floor(h),m=30*(h-u),p=Math.floor(m);let f=e.add(d,"year").add(u,"month").add(p,"day"),g=this.dtb.tk.m[0],w=this.dtb.tk.m[1];for(let e=0;e<10;e++)g=this.canJumbByYinBoyYanGirlTietKhi(g),w=this.jumbByYinBoyYanGirlTietKhi(w),this.tutru.dv.push([g,w,f.unix()]),f=f.add(10,"year");this.tutru.dvt=[s,a,l,d,u,p]}tuTruBuildCot(e,t,s,n=!1){const i=s[0];this.tutru.cot[e].cht=n?-1:fn(i,t[0]),this.tutru.cot[e].cn=t[0],this.tutru.cot[e].ci=t[1];const o=bo[t[1]];this.tutru.cot[e].ctg=o;const a=[];o.forEach(((e,t)=>{a[t]=fn(i,e)})),this.tutru.cot[e].pht=a,this.tutru.cot[e].ts=kc(s[0],t[1]),this.tutru.cot[e].na=t[2]}}class Ed{ls;aIdx;mIdx;diaban;constructor(e){this.ls=e,this.diaban=e.ars,this.aIdx=e.aIdx,this.mIdx=e.am}tuChinh(e){return[e,Oe[e].x,Oe[e].t[0],Oe[e].t[1]]}tamPhuong(e){return[e,Oe[e].t[0],Oe[e].t[1]]}xungChieu(e){return[Oe[e].x]}giapCung(e){return[Oe[e].g[0],Oe[e].g[1]]}isGiap(e,t){return this.giapCung(t).includes(this.aIdx[`s${e}`])}isXung(e,t){return this.xungChieu(t).includes(this.aIdx[`s${e}`])}isStar4(e,t){return this.tuChinh(t).includes(this.aIdx[`s${e}`])}isStar3(e,t){return this.tamPhuong(t).includes(this.aIdx[`s${e}`])}isStar(e,t){return this.aIdx[`s${e}`]===t}isKo(e,t=0){return 3===t?this.isStar3(52,e):4===t?this.isStar4(52,e):this.isStar(52,e)}isKiep(e,t=0){return 3===t?this.isStar3(53,e):4===t?this.isStar4(53,e):this.isStar(53,e)}isKoKiep(e,t=0){return this.isKo(e,t)||this.isKiep(e,t)}isHoa(e,t=0){return 3===t?this.isStar3(54,e):4===t?this.isStar4(54,e):this.isStar(54,e)}isLinh(e,t=0){return 3===t?this.isStar3(55,e):4===t?this.isStar4(55,e):this.isStar(55,e)}isHoaLinh(e,t=0){return this.isHoa(e,t)||this.isLinh(e,t)}isKinh(e,t=0){return 3===t?this.isStar3(56,e):4===t?this.isStar4(56,e):this.isStar(56,e)}isDa(e,t=0){return 3===t?this.isStar3(57,e):4===t?this.isStar4(57,e):this.isStar(57,e)}isKinhDa(e,t=0){return this.isKinh(e,t)||this.isDa(e,t)}isLucSatTinh(e,t=0){return this.isKoKiep(e,t)||this.isKinhDa(e,t)||this.isHoaLinh(e,t)}isKhoi(e,t=0){return 3===t?this.isStar3(58,e):4===t?this.isStar4(58,e):this.isStar(58,e)}isViet(e,t=0){return 3===t?this.isStar3(59,e):4===t?this.isStar4(59,e):this.isStar(59,e)}isKhoiViet(e,t=0){return this.isKhoi(e,t)||this.isViet(e,t)}isTa(e,t=0){return 3===t?this.isStar3(60,e):4===t?this.isStar4(60,e):this.isStar(60,e)}isHuu(e,t=0){return 3===t?this.isStar3(61,e):4===t?this.isStar4(61,e):this.isStar(61,e)}isTaHuu(e,t=0){return this.isTa(e,t)||this.isHuu(e,t)}isXuong(e,t=0){return 3===t?this.isStar3(62,e):4===t?this.isStar4(62,e):this.isStar(62,e)}isKhuc(e,t=0){return 3===t?this.isStar3(63,e):4===t?this.isStar4(63,e):this.isStar(63,e)}isXuongKhuc(e,t=0){return this.isXuong(e,t)||this.isKhuc(e,t)}isGiapKhoi(e){return this.isGiap(58,e)}isGiapViet(e){return this.isGiap(59,e)}isGiapTa(e){return this.isGiap(60,e)}isGiapHuu(e){return this.isGiap(61,e)}isGiapXuong(e){return this.isGiap(62,e)}isGiapKhuc(e){return this.isGiap(63,e)}isTangTueDieu(e){return this.isStar(17,e)||this.isStar(21,e)||this.isStar(25,e)}isThaiTueCircle(e){return this.isStar(15,e)||this.isStar(23,e)||this.isStar(19,e)}isLocTonCircle(e){return this.isStar(27,e)||this.isStar(32,e)||this.isStar(74,e)}isTruongSinhCircle(e){return this.isStar(40,e)||this.isStar(44,e)||this.isStar(48,e)}isTuanChieu(e){return this.isTuan(this.xungChieu(e)[0])}isTrietChieu(e){return this.isTriet(this.xungChieu(e)[0])}isTuan(e){return this.ls.ttr[0].includes(e)}isTriet(e){return this.ls.ttr[1].includes(e)}}let Me;function Dd(e){const t=e.am,s=e.ars[t];return Me.isStar3(0,t)&&[0,2,4,6,8,10].includes(t)?2:Me.isStar3(12,t)&&Me.isStar3(13,t)&&Me.isStar3(8,t)?3:0===s.sb.length?4:Me.isStar4(2,t)||Me.isStar4(7,t)?5:[5,9,1,11,3,7].includes(t)&&Me.isStar3(6,t)&&Me.isStar3(10,t)?6:Me.isStar3(1,t)&&Me.isStar3(4,t)&&Me.isStar3(9,t)?7:1}function Hd(e){const t=Dd(e),s={};return s.name={1:"Mặc định",2:"Tử Phủ Vũ Tướng",3:"Sát Phá Tham",4:"Vô Chính Diệu",5:"Nhật Nguyệt",6:"Phủ Tướng",7:"Cơ Đồng Cự"}[t],s.good=[],s.bad=[],s}function Id(e,t=new Date,s=1,n=[...vt]){const i=n,o=new Md({sex:s,born:ge(e),view:ge(t),cfg:i});return delete o.starPlacer,delete o.circlePlacer,delete o.zoneBuilder,delete o.calculationHelper,delete o.arrIdxChuyenLoc,delete o.str2hc,delete o.str2u,delete o.arrCkZone,delete o.countLoop,delete o.HOA,delete o.numberStarCol1,delete o.numberStarCol2,delete o.idxCheckZone,delete o.tpCan,delete o.adyetk,delete o.dtc,o}function Od(e,t=new Date,s=1,n=[...vt]){const i=Id(e,t,s,n);try{Me=new Ed(i),i.cach.base=Hd(i)}catch{i.cach.base={}}return i}const Js=e=>e.map((e=>se[e].name)).join(", "),_d=e=>e.filter((e=>e<40||e>51)).map((e=>se[e].name)).join(", "),Kd=e=>e.filter((e=>e>=40&&e<=51)).map((e=>se[e].name)).join(", "),Wd=(e,t)=>t[0][0].includes(e)&&t[0][1].includes(e)?", Tuần, Triệt":t[0][0].includes(e)?", Tuần":t[0][1].includes(e)?", Triệt":"";function Rd(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Dn=(e,t=0)=>{const s=[];return e.ars.forEach((n=>{let i=n.sb.length>0?Js(n.sb)+", ":`VCD xung (${Js(e.ars[Oe[n.ci].x].sb).replace(","," -")}), `;i+=_d(n.ss)+", ",i+=Kd(n.ss),i+=Wd(n.ci,e.ttr);const o=0===t?be[n.ai]:1===t?be[n.aid]:be[n.ail];let a=["Phi Lộc đến ","Phi Quyền đến ","Phi Khoa đến ","Phi Kị đến "];for(let t=0;t<=3;t+=1){const s=`${Rd(be[e.ars[n.cno[t]].ai].toLowerCase())}`;a[t]+=s}a=a.join(", "),a=`"${a}"`,s.push({name:`${o.toString()} tại ${J[n.ci]}`,cc:`${re[n.cn]} ${J[n.ci]}`,dv:`${n.dv} đến ${n.dv+9} tuổi tại cung ${o.toString()}`,star:i})})),s};function Hn(e){return[["Tên cung vị trí cung","Can Chi cung","Đại vận","Tên sao"].join(","),...e.map((e=>{const t=e.star.includes(",")?`"${e.star}"`:e.star;return`${e.name}, ${e.cc}, ${e.dv}, ${t}`}))].join("\n")}const zd=({title:e,content:t,btnId:s,onCopy:n})=>i.jsx("pre",{className:"!overflow-visible",children:i.jsxs("div",{className:"contain-inline-size rounded-md border-[0.5px] border-[#ffffff26] bg-[#2f2f2f] dark:bg-gray-950",children:[i.jsxs("div",{className:"flex items-center text-gray-400 px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-[#2f2f2f] select-none",children:[i.jsx("span",{children:e}),i.jsx("div",{className:"flex items-center",children:i.jsxs("button",{className:"flex items-center gap-1",onClick:()=>n(t,s),children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",className:"icon-sm",children:i.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1zM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1z",clipRule:"evenodd"})}),i.jsx("span",{id:s,className:"pl-2 cursor-pointer font-sans",children:"Click vào đây Copy"})]})})]}),i.jsx("div",{className:"overflow-y-auto p-4 bg-[#111111] text-left text-[#686868] text-sm font-mono",dir:"ltr",children:i.jsx("code",{className:" language-markdown !whitespace-pre leading-normal text-left",children:t})})]})}),Fd=({ls:e})=>{_.useState("nguyenBan");const[t,s]=_.useState(""),[n,o]=_.useState(""),[a,r]=_.useState(""),l=Dn(e),c=Dn(e,1),d=Dn(e,2),h=ys(e);let u="";u+=`Giới tính ${h.adage}, ${h.ad} mệnh ${h.hmenh} sinh mùa ${h.mua}, ${h.okmua}, cục ${h.cuc}, ${h.sk}, và thân cư ${h.tcu}`,u+="\n Luận tổng quát lá số trên",_.useEffect((()=>{s(Hn(l)+"\n\n"+u),o(Hn(c)),r(Hn(d))}),[l,c,d]);return i.jsx(i.Fragment,{children:i.jsx(zd,{title:"",content:t,btnId:"btnCopy",onCopy:(e,t)=>{const s=document.getElementById(t);if(!s)return;const n=s.innerText;navigator.clipboard.writeText(e).then((()=>{s.innerText="Đã copy",setTimeout((()=>{s.innerText=n}),2e3)}))}})})},Jt=200,Vd=["Tử Vi","Thiên Phủ","Thái Dương","Vũ Khúc","Thiên Đồng","Liêm Trinh"],qd=({fontName:e,onPreloadComplete:t})=>{const s=_.useRef(null),n=_.useRef(null);return _.useEffect((()=>(Array.from({length:3}).forEach(((t,s)=>{try{const t=document.createElement("div");t.id=`preload-canvas-${s}`,t.style.position="fixed",t.style.left="-1000px",t.style.top="-1000px",document.body.appendChild(t);const n=new dt.Stage({container:t,width:Jt,height:Jt}),i=new dt.Layer,o=new dt.Rect({x:0,y:0,width:Jt,height:Jt,fill:"#ffffff"});i.add(o),Vd.forEach(((t,s)=>{const n=Object.keys(se),o=se[n[Math.floor(Math.random()*n.length)]],a=new dt.Text({x:10,y:20+30*s,text:`${t} ${o?.name||""}`,fontSize:16,fontFamily:e,fill:"#000000"});i.add(a)})),n.add(i),i.cache(),setTimeout((()=>{n.destroy(),document.body.removeChild(t)}),1e3)}catch(e){console.error(`Error creating preload canvas ${s}:`,e)}})),setTimeout(t,1e3),()=>{n.current&&n.current.destroy()})),[e,t]),i.jsx("div",{ref:s,style:{display:"none"}})},Ud={src:"/qq1lzZF3/DB6w-o6T.png",width:916,height:424,format:"png"},Yd=(e,t,s,n)=>{const i=e.i||0;return`Lá số Tử Vi ${t} tuổi ${s.y} ${Xi[n.cfg[I.typeLs]]} sinh ${e.d}/${e.m}/${e.y} ${e.h}h${i} , tử vi số mệnh, bát tự ${s.y.toUpperCase()} | ${s.m.toUpperCase()} | ${s.d.toUpperCase()} | ${s.h.toUpperCase()}`},Gd=(e,t,s,n,i,o,a,r,l)=>`Tu vi ${e.d}/${e.m}/${e.y} tử vi trọn đời ${Xi[n.cfg[I.typeLs]-1]} ${t} tuổi ${s.y} ${e.y} mệnh tại ${J[i.ci]} có ${l}. Đại vn ${J[o.ci]}, lưu niên ${J[a.ci]}, tiểu vận ${J[r.ci]}`,Zd=(e,t)=>_.useMemo((()=>{if(!e||!qe(e))return null;const s=Ke.getSolarData(e),n=Ke.getLunarData(e),i=Ke.getBirthData(e);if(!s||!n||!i)return null;try{if(!(e.ars&&e.am&&e.aIdx&&e.dtv))return null;const n=s,i=kn(e),o=xs(e),a=e.ars[e.am];if(!a||!a.sb)return null;const r=0===a.sb.length?"Vô Chính Diệu":1===a.sb.length?se[a.sb[0]]?.name||"":`${se[a.sb[0]]?.name||""}, ${se[a.sb[1]]?.name||""}`;if(!e.aIdx.aid0||!e.dtv.bs?.y||!e.aIdx.lynpc)return null;const l=Yd(n,i,o,{cfg:{[I.typeLs]:t.cfg[I.typeLs]}});return{title:l,description:Gd(n,i,o,{cfg:{[I.typeLs]:t.cfg[I.typeLs]}},e.ars[e.am],e.ars[e.aIdx.aid0],e.ars[e.dtv.bs.y[1]],e.ars[e.aIdx.lynpc],r)}}catch(e){return console.error("Error generating metadata:",e),null}}),[e,t?.cfg]),pn={renderBirthInfo:e=>{try{const t=Ke.getBirthData(e);return t?{canChi:{nam:`${re[t.y[0]]} ${J[t.y[1]]}`,thang:`${re[t.m[0]]} ${J[t.m[1]]}`,ngay:`${re[t.d[0]]} ${J[t.d[1]]}`,gio:`${J[t.h[1]]}`}}:null}catch{return null}},renderLunarInfo:e=>{try{const t=Ke.getLunarData(e);return t?{ngay:t.d,thang:t.m,nam:t.y}:null}catch{return null}},renderSolarInfo:e=>{try{const t=Ke.getSolarData(e);return t?{ngay:t.d,thang:t.m,nam:t.y,gio:t.h,phut:t.i||0}:null}catch{return null}}},gn={tag:(e,t)=>{const s=t.property?`${e}[property="${t.property}"]`:`${e}[name="${t.name}"]`;let n=document.querySelector(s);n?n.setAttribute("content",t.content):(n=document.createElement(e),Object.entries(t).forEach((([e,t])=>{n?.setAttribute(e,t)})),document.head.appendChild(n))},meta:(e,t)=>{const s={...e.startsWith("og:")?{property:e}:{name:e},content:t};gn.tag("meta",s)},link:(e,t)=>{gn.tag("link",{rel:e,href:t})}},Xd=742,Qd=54,Jd=1,eh=()=>i.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 mx-auto",style:{maxWidth:"798px"},children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsxs("p",{className:"text-sm text-yellow-700",children:[i.jsx("strong",{children:"Lưu ý:"})," đang là lá số Trung Châu Phái cẩn thận nhầm Thiên Bàn, Địa Bàn, Nhân Bàn"]})})]})}),th=(e,t,s)=>{if(!e||!qe(e))return null;try{const n=pn.renderSolarInfo(e),o=pn.renderLunarInfo(e),a=xs(e);return n&&o&&a?i.jsxs("h1",{className:"mx-auto my-3 text-center text-[15px] font-bold",children:["Tử vi ",1===t.sex?"Nam":"Nữ"," ",n.nam,"/",n.thang,"/",n.ngay," ",n.gio,"h",n.phut," - Âm lịch ngày ",o.ngay," tháng ",o.thang," năm"," ",a.y," ",i.jsx("a",{onClick:()=>s.current?.toggleMenu(),className:"font-bold cursor-pointer text-orange-500 hover:text-yellow-500",children:"[SỬA LẠI]"})]}):(console.error("Missing required data for title:",{solarInfo:n,lunarInfo:o,lunaBornText:a}),null)}catch(e){return console.error("Error rendering title:",e),null}};var Qn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var s=Ts;Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return s.Konva}});const n=Ts;e.exports=n.Konva}(Qn,Qn.exports);var nh=Qn.exports;const Vt=It(nh),Ee=new ko({x:0,y:0,width:100,height:100,hitStrokeWidth:0,shadowForStrokeEnabled:!1});Ee.cache();const so=new So({points:[0,0,-100,-100],stroke:"#fff",strokeWidth:1.5,opacity:1});so.cache();const qt=new To({x:-100,y:-100,radius:10,fill:"#000",stroke:"#000",strokeWidth:.2,opacity:.4,perfectDrawEnabled:!0,hitStrokeWidth:0,shadowForStrokeEnabled:!1,width:100,height:100});qt.cache();let He=new jo({x:500,y:500,text:"",fontStyle:"normal",fontSize:14,fontFamily:"Arial",fill:"#000",strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1,width:10,height:10});He.cache(),He=He.clone({width:"auto",height:"auto"});const At=new Co({x:0,y:0,points:[0,0,250,250],pointerLength:12,pointerWidth:6,fill:"black",stroke:"black",strokeWidth:2.5,opacity:1,perfectDrawEnabled:!0,lineJoin:"round",hitStrokeWidth:0,shadowForStrokeEnabled:!1,width:5,height:5});function oe(e,t,s,n,i=!0){let o={x:500,y:500,text:"",fontStyle:"normal",fontSize:t,fontFamily:s,fill:"#000",strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1};o={...o,...e};const a=He.clone(o);return i&&typeof n<"u"&&(n.add(a),null!==a&&a.moveToTop()),a}function Jn(e,t,s,n,i,o,a,r,l,c){const d=t[s];let h=!1;const u={fontSize:r+2,shadowEnabled:!0,shadowOpacity:0,shadowForStrokeEnabled:!0,align:"left",perfectDrawEnabled:!0,fontStyle:"bold"};u.x=i,u.y=o+7;let m,p=0;const f=["A","B","C","D"];for(let t=0;t<=3;t+=1)if(d[t]===n){h=!0;const s=c[t],n=l[t],i={x:u.x,y:u.y,radius:8.5,fill:s,stroke:n,strokeWidth:1.5,opacity:.7,hitStrokeWidth:0,shadowForStrokeEnabled:!1};u.text=`${f[t]}`,u.fill=l[t],m=oe(u,r+2,a,e,!1),m.x(m.x()-4.7),m.y(m.y()-6),u.x+=p,u.y+=0;const o=qt.clone(i);e.add(o),e.add(m),0===p&&(p=m.getTextWidth()+13)}return h}function es(e,t,s,n,i,o,a,r,l,c,d,h,u,m){let p=!1;const f=t[s.cn].indexOf(l);if(f>=0){p=!0;const t=s.ci,c={opacity:.8,points:[a,r,a,r],fill:h[Number(f)],stroke:h[Number(f)],strokeWidth:1.5,pointerLength:15,pointerWidth:8},d=c.points,g=-1!==s.sb.indexOf(l),w=11===t||0===t||1===t||2===t,x=5===t||6===t||7===t||8===t,b=3===t||4===t,y=9===t||10===t,v=u[s.ci],j=s.cno.filter((e=>e===s.ci)).length,k=63===l&&1===j,S=4===m.cfg[I.typeLs]||5===m.cfg[I.typeLs];if(w||x){let e=0;const s=Number(m.ars[t].zolk[0][Z.currentLoc]),a=Number(m.ars[t].zolk[3][Z.currentKi]);e=a>9||s>9?13:a>0||s>0?5:0,e=1===m.cfg[I.locKiToanDo]?e:0,d[0]=n.x+(g?i/2+(w?e:0):i/2-(k?23:2===j?10:6))-15*v,d[1]=d[1]+(g?6:3),d[2]=d[0],d[3]=x?5:w?n.y+o+23:d[3]}b&&(d[0]=n.x+(g||S?45:10),d[1]=d[1]+(g?6:5),d[2]=5,d[3]=d[1]),y&&(d[0]=n.x+i/2+(g?35:S?45:-15),d[1]=d[1]+(g?6:5),d[2]=n.x+i+23,d[3]=d[1]),e.add(At.clone(c))}return p}function ts(e,t,s,n,i,o,a,r,l,c){if(a.cfg[I.showHoaIcon]<1)return!1;let d=!1;const h=t[a.ars[a.dvidx].cn].indexOf(o);return h>=0&&(d=!0,e.add(Ee.clone({x:n,y:i,width:9,height:9,fill:c[Number(h)],stroke:c[Number(h)],strokeWidth:0,draggable:!1,opacity:.8,perfectDrawEnabled:!0,cornerRadius:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),e.add(oe({text:"2",x:n+1.8,y:i+.5,fontSize:r-4,fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,e))),d}function ns(e,t,s,n,i,o,a,r,l,c){if(a.cfg[I.showHoaIcon]<2)return!1;const d=i+4.3;let h=!1;const u=t[a.dtv.bs.y[0]].indexOf(o);return u>=0&&(h=!0,e.add(qt.clone({x:n+2.8,y:d,radius:5,fill:c[u],strokeWidth:0,opacity:.8,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),e.add(oe({text:"3",x:Number(n+1),y:Number(d-3.8),fontSize:Number(r-4),fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,e))),h}function ss(e,t,s,n,i,o,a,r,l,c){if(a.cfg[I.showHoaIcon]<3)return!1;const d=i+4.1;let h=!1;const u=t[a.dtv.bs.m[0]].indexOf(o);return u>=0&&(h=!0,e.add(qt.clone({x:n+2.8,y:d,radius:5,fill:c[u],strokeWidth:0,opacity:.8,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),e.add(oe({text:"4",x:Number(n+.7),y:Number(d-3.8),fontSize:Number(r-4),fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,e))),h}function io(e,t,s,n,i,o,a,r,l,c){if(a.cfg[I.showHoaIcon]<4)return!1;const d=i+4.1;let h=!1;const u=t[a.dtv.bs.d[0]].indexOf(o);return u>=0&&(h=!0,e.add(qt.clone({x:n+2.8,y:d,radius:5,fill:c[u],strokeWidth:0,opacity:.8,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),e.add(oe({text:"5",x:Number(n+.7),y:Number(d-3.8),fontSize:Number(r-4),fill:"#fff",shadowBlur:0,shadowOpacity:1,opacity:.9},r,l,e))),h}function sh(e){const{color:t,colorHoa:s,colorHoaFill:n,fontPhuTinh:i,idx:o,cung:a,fontDV:r,fontFamilySet:l,typeLs:c,pos:d,hafWSquare:h,padContentTop:u,padContentBottom:m,padContent:p,wSquare:f,hSquare:g,cfgLs:w}=e,{ls:x}=e,b=new Vt.Group({});function y(e,t,s=.2,n=0){const i=Ee.clone({x:e.x()-n/2-2,y:e.y()-n/2-1.8,fill:t,width:e.width()+n+4,height:e.height()+n,perfectDrawEnabled:!0,strokeWidth:0,opacity:s,cornerRadius:4,hitStrokeWidth:0,shadowForStrokeEnabled:!1});return b.add(i),null!==i&&i.moveToTop(),null!==e&&e.moveToTop(),i}function v(e,t){return nn[ti[Ue[e]][Ue[t]][function(e,t){return $t[e]===$t[t]?1:0}(e,t)]]}return function(){let e=be[a.ai];e=`${be[a.ai]}`,3===c&&oe({text:a.dv.toString(),fill:"#000",x:-1e4,y:-1e4,fontStyle:"bold"},r,l,b,!1).destroy();let s=x.at===o?`${e}(T)`:e;(4===c||5===c)&&(s=e);const n={text:s,fill:"#000",x:Number(d.x)+h,y:Number(d.y)+u,fontStyle:"bold",align:"left"},i=oe(n,r-1,l,b);if(i.x(i.x()-i.getTextWidth()/2),b.add(He.clone({x:i.x()-14,y:i.y()-.3,text:"▲",fontStyle:"normal",fontSize:r-1,fontFamily:"Arial",fill:t[vs[o]],perfectDrawEnabled:!0,opacity:2===vs[o]?.8:.6,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),0===a.ai||4===a.ai||a.ai,0===a.ai){const e=Ee.clone({x:d.x+1,y:d.y+1,width:f-1,height:g-1,fill:"#f0e9de",hitStrokeWidth:0,shadowForStrokeEnabled:!1,opacity:.6});b.add(e)}x.am===o&&y(i,n.fill,.3),n.text=a.dv,n.fill=t[ce[a.na]];const m=oe(n,r-1,l,b);m.x(i.x()+i.width()+5);const p=y(m,t[ce[a.na]],.1);let w=!1;if(a.cn===x.dtb.bs.y[0]&&0!==o&&1!==o&&(n.fontStyle="bold",n.text=`${n.text}`,w=!0),w){n.fill="#555",n.text="☸",n.x=i.x()+i.getTextWidth()+2,n.y=i.y(),n.fontSize=r-2,n.shadowBlur=0,n.shadowEnabled=!1;const e=oe(n,r,l,b);m.x(e.x()+e.getTextWidth()+2),p.x(m.x()-2)}}(),1===Number(w[I.rotateZone])&&function(){if(3===c)return;const e={text:`${be[a.aid]}2`,fill:"#555",x:d.x+p,y:d.y+u,fontStyle:"bold",opacity:.8,fontSize:r-2},t=oe(e,r-3,l,b);a.dvc&&y(t,e.fill,.2)}(),function(){if(4!==c)return;let e=21;1===w[I.batTuCung]&&1==w[I.showSun]&&(e=33),0===Number(w[I.showSun])&&0===w[I.batTuCung]&&(e=12),0===w[I.isNapAmCung]&&(e=2);let t=!1;if(a.ci===x.ars[x.am].cno[0]){t=!0;const i=18,o=18,a=Ee.clone({x:d.x+p,y:d.y+m-e-4,width:15,height:15,fill:n[0],stroke:s[0],strokeWidth:1,opacity:.7,hitStrokeWidth:0,shadowForStrokeEnabled:!1,cornerRadius:2});b.add(a);const c=oe({text:"A",fill:s[0],x:a.x(),y:a.y(),fontSize:r-2},r-2,l,b);c.x(a.x()+i/2-c.getTextWidth()/2-1),c.y(a.y()+o/2-c.getTextWidth()/2-1.3)}if(a.ci===x.ars[x.am].cno[3]){const i=Ee.clone({x:d.x+p,y:d.y+m-e-4,width:15,height:15,fill:n[3],stroke:s[3],strokeWidth:1,opacity:.7,hitStrokeWidth:0,shadowForStrokeEnabled:!1,cornerRadius:2});b.add(i);const o=oe({text:"D",fill:s[3],x:i.x(),y:i.y(),fontSize:r-2},r-2,l,b);o.x(i.x()+9-o.getTextWidth()/2-1),o.y(i.y()+9-o.getTextWidth()/2-1.3),t&&(i.x(i.x()+18),o.x(o.x()+18))}}(),function(){if(3===c)return;const e=oe({text:`${be[a.ail??0]}3`,fill:"#888",x:d.x+f-p,y:d.y+u,fontStyle:"bold",opacity:1},r-2,l,b);if(e.absolutePosition({x:e.x()-e.getTextWidth(),y:d.y+u}),0===w[I.rotateZone]&&e.destroy(),4!==c){const s=oe({text:`${re[a.lmpt[2]].charAt(0)} T${a.lmpt[0]}`,fill:t[ce[a.lmpt[4]]],x:d.x+f-p,y:e.y()+16.5,fontSize:1===w[I.rotateZone]?r-3:r-1,opacity:1},r,l,b);s.x(s.x()-s.getTextWidth()),0===w[I.rotateZone]?s.y(s.y()-16.5):(0===a.ail&&y(e,"#444"),x.dtv.ln.m===a.lmpt[0]&&y(s,"#555"))}}(),function(){const e=`${re[a.cn].charAt(0)}.${J[a.ci]}`,s=1===w[I.rotateZone]?r-3:r-1;let n=u;1===Number(w[I.rotateZone])&&(n=u+16);const i=oe({text:e,fill:t[ce[a.na]],x:-1e3,y:-1e3,fontSize:s},r,l,b,!1),o={text:e,fill:t[ce[a.na]],x:d.x+p,y:d.y+n,fontSize:s};3===c&&(o.y=d.y+p),oe(o,s,l,b),i.destroy()}(),function(){let e={},s=21;if(1===w[I.batTuCung]&&1==w[I.showSun]&&(s=33),0===Number(w[I.showSun])&&0===w[I.batTuCung]&&(s=12),0===w[I.isNapAmCung]&&(s=2),4!==c&&5!==c){e={text:`V${a.lmnp[0]}`,fill:"#444",x:d.x+p-2,y:d.y+m-s,fontSize:r-2};const n=oe(e,r,l,b);e={},e.x=d.x+p,e.y=d.y+m-s,e.text=`${J[a.lynp].toUpperCase()}`,e.fill=t[tn[a.lynp]],e.align="left",e.fontSize=r-3,e.fontStyle="bold";const i=oe(e,r,l,b);x.dtv.bs.y[1]===a.lynp&&y(i,e.fill),n.x(i.x()+i.getTextWidth()+2),x.dtv.ln.m===a.lmnp[0]&&y(n,"#555")}const n=(a.lmpt[1][0]-1+2)%12,i=x.ars[n],o=oe({text:`${re[i.lmpt[2]].charAt(0)}.${J[i.lmpt[3]]} P${a.lmpt[1][0]}`,fill:t[ce[i.lmpt[4]]],x:d.x+f-p,y:d.y+m-s,fontSize:r-2,opacity:1},r,l,b);o.x(o.x()-o.getTextWidth()),x.dtv.ln.m===a.lmpt[1][0]&&y(o,"#555")}(),1===Number(w[I.isNapAmCung])&&function(){let e=d.y+m;(4===c||5===c)&&(e=d.y+m+7);const s={text:"",fill:t[4],x:d.x+p,y:e,fontSize:i-6,opacity:.7};a.ys.forEach((n=>{const i=s;i.text=n[1],i.fill=t[ce[n[2]]];const a=oe(i,r,l,b);n[1]===x.dtv.sn.y&&1===Number(w[I.showSun])&&y(a,i.fill,.2);const c=a.x()+a.getTextWidth()+4.5;i.text=`${re[n[3]].charAt(0)}`,i.x=a.x(),i.y=a.y()-9;const h=oe(i,r,l,b);i.text=`.${n[0]}`,i.x=h.x()+h.getTextWidth();const u=oe(i,r,l,b);if(n[1]===x.dtv.sn.y&&1===Number(w[I.showSun])&&(y(h,h.fill(),.2),y(u,u.fill(),.2)),0===Number(w[I.showSun])&&(a.destroy(),h.y(i.y+10),u.y(h.y()),n[1]===x.dtv.sn.y&&(y(h,h.fill(),.2),y(u,u.fill(),.2))),1===w[I.batTuCung]){const e=v(x.dtb.bs.d[0],n[3]);i.text="Thương"===e?"Thg":e,i.fill="#444",i.x=a.x(),1===w[I.showSun]?i.y=a.y()-20:i.y=a.y()-10,oe(i,r,l,b)}let m=x.cid;if(x.yeo>=x.cid)for(let e=0;e<120&&!(m+10>=x.yeo+1);e+=10)m+=10;x.yeo>=x.cid&&n[0]>=m&&n[0]<m+10&&b.add(He.clone({x:h.x()+3,y:3===o||4===o||9===o||10===o?d.y+g-5:d.y+g-5.5,text:"▲",fontStyle:"normal",fontSize:r-5,fontFamily:"Arial",fill:"#555",perfectDrawEnabled:!0,opacity:1,hitStrokeWidth:0,shadowForStrokeEnabled:!1})),i.align="left",i.x=c,i.y=e}))}(),e.layer.add(b),e.layer}function ih(e){const{ls:t,color:s,colorHoa:n,colorHoaFill:i,fontPhuTinh:o,cung:a,fontDV:r,fontFamilySet:l,typeLs:c,pos:d,hafWSquare:h,fontChinhTinh:u,hSquare:m,wSquare:p,canHoa:f,thdraw:g}=e,w=new Vt.Group({});function x(e,t=!0){let s={x:500,y:500,text:"",fontStyle:"normal",fontSize:r,fontFamily:l,fill:"#000",strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"#fff",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1};s={...s,...e};const n=He.clone(s);return t&&w.add(n),n}return function(){const e=d.x;let b=d.y+38,y=17;const v={fontSize:u,fontStyle:"normal"};(4===c||5===c)&&(y=25,v.fontSize=u+4,b=d.y+70);const j=typeof a.tu<"u"||typeof a.tu<"u";for(let k=0;k<a.sb.length;k+=1){const S=a.sb[k],N=se[S];if(N.name.length>0){v.text=N.name.toUpperCase(),v.fill=s[N.hh],v.fontStyle="bold";const C=x(v,!1);if(v.x=e+h-C.getTextWidth()/2,v.y=b,4===c){const e={...v,fontSize:u-6,fontStyle:"normal"};if(e.x=v.x,e.y=v.y-9,a.stlk.length>0&&typeof a.stlk[S]<"u"){const t=a.stlk[S];e.text=`${t[0]}A`,e.fill=n[0];const s=x(e);e.text=`${t[1]}D`,e.fill=n[3];const i=x(e),o=s.getTextWidth()+i.getTextWidth()+4;s.x(d.x+h-o/2),i.x(s.x()+s.getTextWidth()+4),0===t[0]&&s.destroy(),0===t[1]&&(i.destroy(),t[0]>0&&s.x(s.x()+s.getTextWidth()+4))}}const T=N.lvl;let L=!1,$="";void 0!==T&&Object.entries(T).forEach((([e,t],s)=>{Number(e)===a.ci+1&&("M"===t||"V"===t)&&(L=!0,$=t),Number(e)===a.ci+1&&"H"===t&&($=t),Number(e)===a.ci+1&&($=t)})),4!==c&&5!==c&&L&&!j&&(v.shadowColor=s[N.hh],v.shadowBlur=0,v.shadowOpacity=0,v.shadowOffset={x:0,y:0});let P=x(v);if(!(4===c||5===c)&&$.length>0&&x({text:`(${$})`,fill:s[N.hh],fontSize:o-6,x:v.x+P.getTextWidth()+1,y:v.y-1,fontStyle:v.fontStyle}),3!==c&&void 0!==N.nn){const e=v.x-11,c=v.y;Jn(w,f,t.dtb.bs.y[0],a.sb[k],e,c,l,r,n,i);const h=P.x()+P.getTextWidth();es(w,f,a,d,p,m,P.x(),P.y(),a.sb[k],r,l,n,g,t)&&(g[a.ci]+=1);const u=h+14,b=P.y()+1.5,y=ts(w,f,a,u,b,a.sb[k],t,r,l,n),j=y?u+12:u,S=ns(w,f,a,j,b,a.sb[k],t,r,l,n),C=S?j+10:y?u+12:u,T=ss(w,f,a,C,b,a.sb[k],t,r,l,n)?C+10:S?j+10:y?u+12:u;io(w,f,a,T,b,a.sb[k],t,r,l,n),x({text:""+(N.nn[1]>0?"+":"-"),fill:s[N.hh],fontSize:o-3,x:P.x()+P.getTextWidth()+4,y:P.y()+5,fontStyle:v.fontStyle})}P=He.clone({}),b+=y}}}(),e.layer.add(w),e.layer}function oh(e){const{colorHoaFill60:t,fontPhuTinh:s,idx:n,cung:i,fontDV:o,fontFamilySet:a,typeLs:r,pos:l,hafWSquare:c,hafHSquare:d,colorHoa:h,padContent:u,xBox12:m,yBox34:p,yBox14:f,yBox12:g,xBox34:w,xBox14:x,getGradient:b,typePhiHoa:y,ls:v,countHt:j}=e,k=new Vt.Group({});function S(){const e=[];return e[0]=[{pos:[m+c,p,x+c,f]},{pos:[x+c,p,m+c,f]},{pos:[x,p,w,f]},{pos:[x,g+d,w,f+d]},{pos:[x,f+d,w,g+d]},{pos:[x,f,w,p]},{pos:[x+c,f,m+c,p]},{pos:[m+c,f,x+c,p]},{pos:[w,f,x,p]},{pos:[w,f+d,x,g+d]},{pos:[w,g+d,x,f+d]},{pos:[w,p,x,f]}],e[1]=[{pos:[e[0][0].pos[0]-17,e[0][0].pos[1],e[0][0].pos[2]+17,e[0][0].pos[3]]},{pos:[e[0][1].pos[0]-17,e[0][1].pos[1],e[0][1].pos[2]+17,e[0][1].pos[3]]},{pos:[e[0][2].pos[0]-17,e[0][2].pos[1],e[0][2].pos[2]+17,e[0][2].pos[3]]},{pos:[e[0][3].pos[0],e[0][3].pos[1]-17,e[0][3].pos[2],e[0][3].pos[3]+17]},{pos:[e[0][4].pos[0],e[0][4].pos[1]-17,e[0][4].pos[2],e[0][4].pos[3]+17]},{pos:[e[0][5].pos[0],e[0][5].pos[1]-17,e[0][5].pos[2],e[0][5].pos[3]+17]},{pos:[e[0][6].pos[0]+17,e[0][6].pos[1],e[0][6].pos[2]-17,e[0][6].pos[3]]},{pos:[e[0][7].pos[0]+17,e[0][7].pos[1],e[0][7].pos[2]-17,e[0][7].pos[3]]},{pos:[e[0][8].pos[0]+17,e[0][8].pos[1],e[0][8].pos[2]-17,e[0][8].pos[3]]},{pos:[e[0][9].pos[0],e[0][9].pos[1]+17,e[0][9].pos[2],e[0][9].pos[3]-17]},{pos:[e[0][10].pos[0],e[0][10].pos[1]+17,e[0][10].pos[2],e[0][10].pos[3]-17]},{pos:[e[0][11].pos[0],e[0][11].pos[1]+17,e[0][11].pos[2],e[0][11].pos[3]-17]}],e[2]=[{pos:[e[0][0].pos[0]+17,e[0][0].pos[1],e[0][0].pos[2]-17,e[0][0].pos[3]]},{pos:[e[0][1].pos[0]+17,e[0][1].pos[1],e[0][1].pos[2]-17,e[0][1].pos[3]]},{pos:[e[0][2].pos[0],e[0][2].pos[1]+17,e[0][2].pos[2],e[0][2].pos[3]-17]},{pos:[e[0][3].pos[0],e[0][3].pos[1]+17,e[0][3].pos[2],e[0][3].pos[3]-17]},{pos:[e[0][4].pos[0],e[0][4].pos[1]+17,e[0][4].pos[2],e[0][4].pos[3]-17]},{pos:[e[0][5].pos[0]-17,e[0][5].pos[1],e[0][5].pos[2]+17,e[0][5].pos[3]]},{pos:[e[0][6].pos[0]-17,e[0][6].pos[1],e[0][6].pos[2]+17,e[0][6].pos[3]]},{pos:[e[0][7].pos[0]-17,e[0][7].pos[1],e[0][7].pos[2]+17,e[0][7].pos[3]]},{pos:[e[0][8].pos[0],e[0][8].pos[1]-17,e[0][8].pos[2],e[0][8].pos[3]+17]},{pos:[e[0][9].pos[0],e[0][9].pos[1]-17,e[0][9].pos[2],e[0][9].pos[3]+17]},{pos:[e[0][10].pos[0],e[0][10].pos[1]-17,e[0][10].pos[2],e[0][10].pos[3]+17]},{pos:[e[0][11].pos[0]+17,e[0][11].pos[1],e[0][11].pos[2]-17,e[0][11].pos[3]]}],e[3]=[{pos:[e[0][0].pos[0]-34,e[0][0].pos[1],e[0][0].pos[2]+34,e[0][0].pos[3]]},{pos:[e[0][1].pos[0]-34,e[0][1].pos[1],e[0][1].pos[2]+34,e[0][1].pos[3]]},{pos:[e[0][2].pos[0]-34,e[0][2].pos[1],e[0][2].pos[2]+34,e[0][2].pos[3]]},{pos:[e[0][3].pos[0],e[0][3].pos[1]-34,e[0][3].pos[2],e[0][3].pos[3]+34]},{pos:[e[0][4].pos[0],e[0][4].pos[1]-34,e[0][4].pos[2],e[0][4].pos[3]+34]},{pos:[e[0][5].pos[0],e[0][5].pos[1]-34,e[0][5].pos[2],e[0][5].pos[3]+34]},{pos:[e[0][6].pos[0]+34,e[0][6].pos[1],e[0][6].pos[2]-34,e[0][6].pos[3]]},{pos:[e[0][7].pos[0]+34,e[0][7].pos[1],e[0][7].pos[2]-34,e[0][7].pos[3]]},{pos:[e[0][8].pos[0]+34,e[0][8].pos[1],e[0][8].pos[2]-34,e[0][8].pos[3]]},{pos:[e[0][9].pos[0],e[0][9].pos[1]+34,e[0][9].pos[2],e[0][9].pos[3]-34]},{pos:[e[0][10].pos[0],e[0][10].pos[1]+34,e[0][10].pos[2],e[0][10].pos[3]-34]},{pos:[e[0][11].pos[0],e[0][11].pos[1]+34,e[0][11].pos[2],e[0][11].pos[3]-34]}],e}function N(e){const t=[!0,!1];return[t[0],t[1],t[0],t[0],t[0],t[1],t[1],t[0],t[0],t[1],t[1],t[1]][v.ars[e].ai]}function C(e){return e.charAt(0).toUpperCase()+e.slice(1)}function T(e){return function(e){let t=Number(e);return t>11&&(t-=12),t}(e+6)}function L(e,t,s=!1){const i=[[],[],[],[],[],[]];if(n===e||e===T(n))return[-2e3,-2e3,-2e3,-2e3,-2e3,-2e3];const o=S(),a=o[0][n],r=o[3][e];i[0]=a.pos[0],i[1]=a.pos[1],i[4]=r.pos[0],i[5]=r.pos[1],(6===e||7===e)&&(i[4]+=15);const l=(i[4]-i[0])/2,c=(i[5]-i[1])/2,d=i[0]+l,h=i[1]+c,u=[];return u[0]=[[-2e3,-2e3],[d,h-30],[d-10,h-50],[d+10,h-30],[d+30,h-30],[d+30,h-50],[d-10,h-80],[d-50,h],[d-40,h-30],[d-30,h-15],[d-10,h-15],[d,h-30]],u[1]=[[d,h-25],[-2e3,-2e3],[d,h-30],[d+15,h-15],[d+30,h-10],[d+30,h-30],[d+30,h],[d-10,h-80],[d-50,h-50],[d-30,h-30],[d-10,h-40],[d-10,h-40]],u[2]=[[d,h-45],[d,h-25],[-2e3,-2e3],[d+20,h],[d+30,h-10],[d+80,h],[d+40,h-40],[d+10,h+75],[d-10,h-80],[d-10,h-50],[d-30,h-30],[d,h-80]],u[3]=[[d+15,h-40],[d+20,h-20],[d+30,h],[-2e3,-2e3],[d+30,h-10],[d+40,h-10],[d+40,h-10],[d+10,h+60],[d+30,h+50],[d-10,h-80],[d,h-30],[d+30,h-35]],u[4]=[[d+30,h-30],[d+25,h-10],[d+40,h+20],[d+30,h],[-2e3,-2e3],[d+30,h],[d+15,h+15],[d+10,h+35],[d+20,h+50],[d,h+40],[d-10,h-80],[d-10,h-80]],u[5]=[[d+40,h-10],[d+25,h-5],[d+80,h],[d+50,h-5],[d+20,h-10],[-2e3,-2e3],[d,h+25],[d+10,h+30],[d,h+80],[d+10,h+50],[d-30,h+40],[d-10,h-80]],u[6]=[[d-30,h-30],[d+30,h],[d+30,h+20],[d+30,h+25],[d+20,h+20],[d-10,h+25],[-2e3,-2e3],[d,h+25],[d-10,h+40],[d-10,h+30],[d-40,h+40],[d-50,h+40]],u[7]=[[d-30,h-30],[d-30,h-30],[d+40,h+20],[d+40,h+40],[d+10,h+30],[d+10,h+40],[d+10,h+25],[-2e3,-2e3],[d,h+25],[d-20,h+20],[d-30,h-10],[d-35,h]],u[8]=[[d-30,h-30],[d-50,h-10],[d-40,h-20],[d+20,h+60],[d-10,h+40],[d+10,h+80],[d,h+30],[d,h+20],[-2e3,-2e3],[d-25,h],[d-40,h],[d-50,h-10]],u[9]=[[d-30,h-30],[d-30,h-30],[d-20,h-90],[d-40,h-20],[d,h+60],[d-10,h+40],[d-10,h+40],[d-15,h+15],[d-25,h-10],[-2e3,-2e3],[d-30,h-10],[d-50,h-10]],u[10]=[[d-20,h-20],[d-10,h-35],[d-5,h-40],[d,h-50],[d-10,h-80],[d-30,h+40],[d-10,h+40],[d-25,h+10],[d-60,h],[d-30,h-10],[-2e3,-2e3],[d-25,h]],u[11]=[[d,h-25],[d-30,h-30],[d,h-80],[d+10,h-50],[d+30,h-30],[d-10,h-80],[d-50,h-20],[d-25,h+5],[d-80,h],[d-40,h-10],[d-20,h],[-2e3,-2e3]],i[2]=u[n][e][0],i[3]=u[n][e][1],s&&(i[2]=i[2]+Math.floor(30*Math.random())+10,i[3]=i[3]+Math.floor(30*Math.random())+10),i}function $(e){const t=h[3],s=i.cno[3],n={fill:t,stroke:t,pointerLength:11,pointerWidth:4,tension:.5,opacity:.5,strokeWidth:1,dash:[8,4]};n.points=L(s),N(s)&&(n.strokeWidth=1.7,n.opacity=.7),(4===r||5===r)&&(n.opacity=.7,n.strokeWidth=1.5,N(s)&&(n.opacity=.9,n.strokeWidth=2)),n.stroke=b(n.points,t,t),k.add(At.clone(n))}return 3!==r&&(function(){const e={text:"T.HÓA",fill:h[3],x:l.x,y:l.y+u+o+2.7,fontSize:s-4,opacity:.7,fontStyle:"normal"},t=[],r=[];let d=0;for(let r=0;r<=3;r+=1)e.text=`${C(be[v.ars[i.cno[r]].ai].toLowerCase())}`,e.fill=h[r],e.fontStyle=N(i.cno[r])?"bold":"normal",e.opacity=.8,t[r]=oe(e,o,a,k),e.x=e.x+t[r].getTextWidth()+2.3,d=d+t[r].getTextWidth()+2.3,i.cno[r]===n&&(t[r].text("✱"),t[r].fontSize(s-3));let m=l.x+c-d/2+4;for(let i=0;i<=3;i+=1)t[i].absolutePosition({x:m,y:e.y}),m=t[i].x()+t[i].getTextWidth()+2.3,1===v.cfg[I.tuanHoanZone]&&v.loopPT[i].forEach(((e,c)=>{if(e.includes(n)){const e={text:["⇄","⇅","⟳","⟲","⇊"][c],fill:h[i],x:t[i].x()+t[i].getTextWidth()/2-3.5,y:l.y+u+o+(0===c?10:12),fontSize:s-5,opacity:1,fontStyle:"normal"};void 0===r[i]&&(r[i]=[]),r[i][c]=oe(e,o,a,k)}}))}(),1===v.cfg[I.locKiToanDo]&&function(){const e=i.zolk[0][Z.currentLoc],t=i.zolk[3][Z.currentKi];let u=null,m=null,p=null;const f="∞",g={text:"",fill:"",x:l.x+c,y:l.y+2*d-48,fontSize:4===r?s+2:s-2,opacity:4===r?1:.8,fontStyle:"bold"},w=4===r||5===r?"A":"",x=4===r||5===r?"D":"";if(e>0)if(Ct(v.loopLP[0],n))if(0===i.zolk[0][Z.locKeep])g.text=e.toString()+w+f,g.fill=h[0],u=oe(g,o,a,k),u.x(u.x()-u.getTextWidth()/2);else{const t=e-i.zolk[0][Z.locKeep];g.text=t>0?i.zolk[0][Z.locKeep].toString()+w:e.toString()+w,g.fill=h[0],u=oe(g,o,a,k),u.x(u.x()-u.getTextWidth()/2),t>0&&(g.text=t+f,m=oe(g,o,a,k),m.x(m.x()-m.getTextWidth()/2))}else g.text=e.toString()+w,g.fill=h[0],u=oe(g,o,a,k),u.x(u.x()-u.getTextWidth()/2);else Ct(v.loopLP[0],n)&&0===e&&(g.text=f,g.fill=h[0],g.fontSize=s,u=oe(g,o,a,k),u.x(u.x()-u.getTextWidth()/2));t>0||Ct(v.loopLP[3],n)?(u&&u.y(u.y()-15),m&&m.y(m.y()-30)):m&&m.y(m.y()-15),t>0?(g.text=t.toString()+x+(Ct(v.loopLP[3],n)?f:""),g.fill=h[3],p=oe(g,o,a,k),p.x(p.x()-p.getTextWidth()/2)):Ct(v.loopLP[3],n)&&0===t&&(g.text=f,g.fill=h[3],g.fontSize=s,p=oe(g,o,a,k),p.x(p.x()-p.getTextWidth()/2)),u&&k.add(u),m&&k.add(m),p&&k.add(p),u&&u.moveToTop(),m&&m.moveToTop(),p&&p.moveToTop()}(),(0===r||1===r||4===r||6===r||8===r)&&function(e){const s=h[e],n=i.cno[e];let o=!1;(0===e||3===e)&&(o=1===i.zolk[e][0===e?Z.isMoveLoc:3===e?Z.isMoveKi:3]);const a={fill:s,stroke:s,pointerLength:11,pointerWidth:5,tension:.6,opacity:.6,strokeWidth:.4};switch(e){case 0:case 1:case 2:o&&$()}if(n<0||n===i.ci)return;a.points=L(n);const l=i.cno[3];3!==e&&n===l&&(a.points=L(n,0,!0));const c=N(n),d=o&&3===e;c&&(a.strokeWidth=1.5,a.opacity=.7),d&&(a.dash=[7,3],a.opacity=.8,a.strokeWidth=2),d&&c&&(a.opacity=.9),(4===r||5===r)&&(a.strokeWidth=1.7,a.opacity=a.opacity+.2),a.stroke=b(a.points,s,t[e]),k.add(At.clone(a))}(y),function(){const e=S();for(let t=0;t<=3;t+=1){const s=T(n),o=i.cno[t]===s,a=1===i.zolk[0][Z.isMoveLoc],l=1===i.zolk[3][Z.isMoveKi];if(o&&4!==r||4===r&&y===t&&o||1===r&&y===t&&o||8===r&&y===t&&o||o&&a&&3===t&&1!==y&&2!==y){const i=j[s]??0,o=j[n]??0;let c=o;i>o&&(j[n]=i,c=i);const d=e[c][n];if(y===t||1!==r&&8!==r||a&&3===t){const e=h[t],s={opacity:.8,points:d.pos,fill:e,stroke:e,strokeWidth:2.5,pointerLength:20,pointerWidth:8};(l&&3===y||a&&0===y&&3===t)&&(0===r||1===r||4===r||8===r)&&3===t&&(s.dash=[12,3]),4===r&&(s.strokeWidth=3),k.add(At.clone(s))}j[n]=c+1,j[s]=j[n]}}}()),e.layer.add(k),e.layer}function rh(e){const{ls:t,color:s,colorHoa:n,colorHoaFill:i,fontChinhTinh:o,fontPhuTinh:a,cung:r,fontDV:l,fontFamilySet:c,typeLs:d,pos:h,padContentBottom:u,padContent:m,wSquare:p,hafWSquare:f,hSquare:g,cfgLs:w,canHoa:x,thdraw:b}=e,y=new Vt.Group({});function v(e,t=!0){let s={x:500,y:500,text:"",fontStyle:"normal",fontSize:l,fontFamily:c,fill:"#000",shadowForStrokeEnabled:!1,strokeWidth:0,perfectDrawEnabled:!0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0};s={...s,...e};const n=He.clone(s);return t&&y.add(n),n}function j(e,u,j,k,S=!1,N=a){if(4===d||5===d)return 1===j.zone&&0===k?function(e,a,u){if(![60,61,62,63].includes(u.id-1))return a;const m={fontSize:o+4,fontStyle:"normal"};m.x=e+f,m.y=a,m.text=u.name.toUpperCase(),m.fill=s[u.hh],m.fontStyle="bold";const w=v(m),j=w.y();w.x(w.x()-w.getTextWidth()/2);const k=u.id-1;if(4===d){const e={...m,fontSize:o-6,fontStyle:"normal"};if(e.x=m.x,e.y=m.y-9,r.stlk.length>0&&typeof r.stlk[k]<"u"){const t=r.stlk[k];e.text=`${t[0]}A`,e.fill=n[0];const s=v(e);e.text=`${t[1]}D`,e.fill=n[3];const i=v(e),o=s.getTextWidth()+i.getTextWidth()+4;s.x(h.x+f-o/2),i.x(s.x()+s.getTextWidth()+4),0===t[0]&&s.destroy(),0===t[1]&&(i.destroy(),t[0]>0&&s.x(s.x()+s.getTextWidth()+4))}}if([60,61,62,63].indexOf(k)>-1){const e=w.x()-11,s=w.y();Jn(y,x,t.dtb.bs.y[0],k,e,s,c,l,n,i);const o=w.x()+w.getTextWidth()+5,a=w.y()-.5;es(y,x,r,h,p,g,o,a,k,l,c,n,b,t)&&(b[r.ci]+=1);const d=w.x()+w.getTextWidth()+3,u=w.y()+4,m=ts(y,x,r,d,u,k,t,l,c,n)?d+12:d,f=ns(y,x,r,m,u,k,t,l,c,n)?m+10:m+3;ss(y,x,r,f,u,k,t,l,c,n)}return j+25}(e,u,j):u;const C=k>0,T=j.id-1,L=w[I.showHideStar];if(L>0&&!C&&(1===L&&!Ye.includes(T)||2===L&&!Ye.includes(T)&&!ht.includes(T)||3===L&&!Ye.includes(T)&&!ht.includes(T)&&!on.includes(T)||4===L&&!Ye.includes(T)&&!ht.includes(T)&&!on.includes(T)&&!si.includes(T)))return u;const $=N-1;if([64,65,66,67].includes(T)&&C)return u;const P=void 0!==j.cir,B=j.iptt,A={text:j.name,x:e,y:u,fontSize:N-1,fill:s[j.hh],width:P&&"vts"===j.cir?p:"auto",opacity:1,align:"center",shadowEnabled:!1,shadowOpacity:0,shadowForStrokeEnabled:!1,textDecoration:""};k>0&&(A.fontSize=A.fontSize-2,A.y=A.y+1.6),C?(A.fontStyle="italic",A.opacity=.9):(1===Number(w[I.shortStar])&&(A.text=j.sht),B?(A.fontStyle="bold",A.shadowColor=s[j.hh],A.shadowBlur=0,A.shadowOffset={x:0,y:0},A.shadowOpacity=.8):(A.shadowOpacity=0,A.fontStyle="normal",A.textDecoration="",P&&("vbs"===j.cir||j.cir)));const M=v(A,!1);S&&(A.x=e-M.getTextWidth());const E=typeof r.tu<"u"||typeof r.tr<"u",H=j.lvl;let D="",z=0,O=!1;void 0!==H&&Object.entries(H).forEach((([e,t],s)=>{Number(e)===r.ci+1&&(D=t,z=5.5,O=!0)})),void 0!==j.lvl&&"Đ"===D&&!E&&!C&&(A.shadowColor=s[j.hh],A.shadowBlur=0,A.shadowOffset={x:0,y:0},A.shadowOpacity=.8,v(A)),j.lvl;const K=v(A);if(k>0){const e={...A};switch(k){case 1:e.text="Đ.";break;case 2:e.text="L.";break;case 3:e.text="T."}e.fontSize=e.fontSize-2,2===j.typ?K.x(K.x()-m+3.5):K.x(K.x()+8),e.x=K.x()-8,e.y=K.y()+1.5,v(e)}const _=j.id-1;if(!C&&[60,61,62,63].indexOf(_)>-1&&3!==d){z=0===z?z+3:z;const e=K.x()+K.getTextWidth()+z+9,s=K.y()-1,o=Jn(y,x,t.dtb.bs.y[0],_,e,s,c,l,n,i),a=K.x()+K.getTextWidth()+z+(o?22:5),d=K.y()+1;es(y,x,r,h,p,g,a,d,_,l,c,n,b,t)&&(b[r.ci]+=1);const u=K.x()+K.getTextWidth()+z+(o?20:2),m=K.y()+2,f=ts(y,x,r,u,m,_,t,l,c,n),w=f?u+12:u,v=ns(y,x,r,w,m,_,t,l,c,n),j=v?w+11:f?u+12:u,k=ss(y,x,r,j,m,_,t,l,c,n)?j+11:v?w+11:f?u+12:u;io(y,x,r,k,m,_,t,l,c,n)}return O&&!C&&(A.x+=K.getTextWidth(),A.y-=1,A.text=D,A.fontSize=a-6,A.fontStyle="normal",A.opacity=1,A.shadowOpacity=0,v(A)),M.destroy(),u+$}function k(e,s,n,i,o,a=0){const r=w[I.currentStar];for(let l=0;l<e.length;l+=1){if(a>0){let s=!1,n=t.istc?[...ks,58,59,62,63]:ks;if(n=1===r?n:2===r?[...n,25,37,82,83,85,86]:[],n.length>0&&!n.includes(e[l])&&(s=!0),!t.istc&&[62,63].includes(e[l])&&(s=!0),s)continue}if(0===Number(w[I.isADSat])&&(123===e[l]||124===e[l]||125===e[l]))continue;const c=se[e[l]];void 0!==c.cir&&"vts"===c.cir||(1===c.typ&&(n=j(s,n,c,a)),2===c.typ&&(o=j(i,o,c,a,!0)))}return[n,o]}return function(){let e=h.x+m,t=h.y+73;const s=t,n=h.x+p-m-2;let i=s;if(4===d||5===d){const s=r.sb.length,n=25,o=h.y+70,a=[o,o+n,o+2*n];e=h.x,t=a[s],i=t}const o=h.x;let a=h.y+u-21;if(1===w[I.batTuCung]&&1===w[I.showSun]&&(a=h.y+u-35),0===w[I.batTuCung]&&0===w[I.showSun]&&(a=h.y+u-10),4!==d&&5!==d)for(let e=0;e<r.ss.length;e+=1){const t=se[r.ss[e]];void 0!==t.cir&&"vts"===t.cir&&(a=j(o,a,t,0,!1,13))}const l=k(r.ss,e,t,n,i,0);let c=l;1===w[I.dvStar]&&(c=k(r.sv,e,l[0],n,l[1],1)),w[I.currentStar]>0&&k(r.sy,e,c[0],n,c[1],2)}(),e.layer.add(y),e.layer}function ah(e){let t=e.layer;const s=new Vt.Group({}),n=[{x:Number(e.xBox12),y:Number(e.yBox34)},{x:Number(e.xBox14),y:Number(e.yBox34)},{x:Number(e.xBox),y:Number(e.yBox34)},{x:Number(e.xBox),y:Number(e.yBox12)},{x:Number(e.xBox),y:Number(e.yBox14)},{x:Number(e.xBox),y:Number(e.yBox)},{x:Number(e.xBox14),y:Number(e.yBox)},{x:Number(e.xBox12),y:Number(e.yBox)},{x:Number(e.xBox34),y:Number(e.yBox)},{x:Number(e.xBox34),y:Number(e.yBox14)},{x:Number(e.xBox34),y:Number(e.yBox12)},{x:Number(e.xBox34),y:Number(e.yBox34)}];let i,o;const a=[0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0,0,0,0,0,0,0];for(let s=0;s<12;s+=1)i=n[s],o={idx:Number(s),cung:e.ls.ars[s],pos:i,thdraw:r},t=sh({...o,...e}),t=ih({...o,...e}),t=rh({...o,...e}),t=oh({countHt:a,...o,...e});function l(t,n,i,o,a="#fff",r="#666",l=!1){let c=l?50:43;n>0&&(c=l?33:17);const d={x:Number(i[0])-c/2+(n>0?35:0),y:Number(i[1])-4.5,text:t,fill:a,width:c,align:"center",fontSize:9,perfectDrawEnabled:!0,opacity:1,shadowColor:"#000",shadowBlur:0,shadowOpacity:0,shadowOffset:{x:0,y:0}},h=oe(d,e.fontDV,e.fontFamilySet,s),u=Ee.clone({x:h.x()-5,y:h.y()-0,fill:r,width:h.width()+10,height:h.height()+0,perfectDrawEnabled:!0,strokeWidth:0,opacity:1,cornerRadius:6,stroke:"#222",hitStrokeWidth:0,shadowForStrokeEnabled:!1});s.add(u),null!==u&&u.moveToTop(),null!==h&&h.moveToTop(),(6==o||0==o)&&(0===n&&!l&&(h.absolutePosition({x:d.x+17,y:d.y+18}),u.absolutePosition({x:h.x(),y:h.y()+5})),0===n&&l&&(h.absolutePosition({x:d.x+21,y:d.y+18}),u.absolutePosition({x:h.x(),y:h.y()+5})),2===n&&!l&&(h.absolutePosition({x:d.x-31,y:d.y-50}),u.absolutePosition({x:h.x(),y:h.y()+5})),2===n&&l&&(h.absolutePosition({x:d.x-23,y:d.y-50}),u.absolutePosition({x:h.x(),y:h.y()+5})),h.rotation(-90),u.rotation(-90))}return 5===e.typeLs||6===e.typeLs||function(){const i=e.ls.ttr[0],o=e.ls.ttr[2];if(0!==i.length||0!==o.length){const a=[[n[0].x,n[0].y+e.hafHSquare],[n[2].x+e.hafWSquare,n[2].y],[n[4].x+e.hafWSquare,n[4].y],[n[7].x,n[7].y+e.hafHSquare],[n[9].x+e.hafWSquare,n[9].y],[n[11].x+e.hafWSquare,n[11].y]];if(0!==i.length){const e=i[0],t=i[1];e[0]===t[0]?l("Tuần-Triệt",0,a[e[0]/2],t[0],"#fff","#111",!0):(l("Tuần",0,a[e[0]/2],e[0],"#fff","#777",!1),l("Triệt",0,a[t[0]/2],t[0],"#fff","#333",!1))}if(0!==o.length&&1===e.ls.cfg[I.lnTuTr]){const e=o[0],t=o[1];e[0]===t[0]?l("⊙-⊠",2,a[e[0]/2],t[0],"#fff","rgba(17, 17, 17, 1)",!0):(l("⊙",2,a[e[0]/2],e[0],"#fff","rgba(119, 119, 119, 1)",!1),l("⊠",2,a[t[0]/2],t[0],"#fff","rgba(51, 51, 51, 1)",!1))}t.add(s)}}(),t}function lh(e){const{ls:t,xBox:s,borderOutWith:n,hafBorderOut:i,yBox:o,xBox14:a,yBox14:r,xBox12:l,yBox12:c,xBox34:d,yBox34:h,xBox4:u,yBox4:m,hafBorderIn:p,borderInnerWith:f}=e;return function(){const e=["#000000","#000000","#000000"][t.cfg[I.tcpb]];return[{points:[a+p,o-p,a+p,m+i],color:e,strokeWidth:f},{points:[l+p,o-p,l+p,r+p],color:e,strokeWidth:f},{points:[l+p,h+p,l+p,m+i],color:e,strokeWidth:f},{points:[d+p,o-p,d+p,m+i],color:e,strokeWidth:f},{points:[s,r+p,u+i,r+p],color:e,strokeWidth:f},{points:[s,c+p,a+p,c+p],color:e,strokeWidth:f},{points:[d+p,c+p,u+i,c+p],color:e,strokeWidth:f},{points:[s,h+p,u+i,h+p],color:e,strokeWidth:f}].concat([{points:[s-i,o-i,l+p,o-i],color:e,strokeWidth:n},{points:[l,o-i,d+p,o-i],color:e,strokeWidth:n},{points:[d+p,o-i,u+i,o-i],color:e,strokeWidth:n},{points:[u+i,o-i,u+i,c+p],color:e,strokeWidth:n},{points:[u+i,c+p,u+i,h+p],color:e,strokeWidth:n},{points:[u+i,h+p,u+i,m+i],color:e,strokeWidth:n},{points:[u+i,m+i,l+p,m+i],color:e,strokeWidth:n},{points:[l,m+i,a+p,m+i],color:e,strokeWidth:n},{points:[a+p,m+i,s-i,m+i],color:e,strokeWidth:n},{points:[s-i,m+i,s-i,c+p],color:e,strokeWidth:n},{points:[s-i,c+p,s-i,r+p],color:e,strokeWidth:n},{points:[s-i,r+p,s-i,o-i],color:e,strokeWidth:n}])}().forEach((t=>{e.layer.add(so.clone({points:t.points,stroke:t.color,strokeWidth:1.5,opacity:1}))})),e.layer}function ch(e){const{wSquare:t,xBox12:s,xBox14:n,yBox14:i,yBox34:o,borderInnerWith:a,ls:r,fontCenter:l,fontFamilySet:c,color:d,fontDV:h,cfgLs:u}=e,m=new No.Group({}),p=1===Number(u[I.batTuCenter]);function f(e){let t={x:500,y:500,text:"",fontStyle:"normal",fontSize:h,fontFamily:c,fill:"#000",strokeWidth:0,textDecoration:"",shadowColor:"black",shadowBlur:0,shadowOffset:{x:0,y:0},shadowOpacity:0,hitStrokeWidth:0,shadowForStrokeEnabled:!1,perfectDrawEnabled:!0};t={...t,...e};const s=He.clone(t);return m.add(s),s}function g(e){return f({...e,fontStyle:"normal",width:2*t+a,align:"center"})}function w(e,s,n,i){return function(e,s,n,i){const o=t/2-2.5,a=t/10,c=o+e,h={x:e,y:s,fill:"rgba(0, 0, 0, 0.07)",width:o,height:p?2.1*o:1.35*o,perfectDrawEnabled:!0,strokeWidth:1,opacity:1,cornerRadius:6,hitStrokeWidth:1,shadowForStrokeEnabled:!1},u=Ee.clone(h);m.add(u),f({text:$t[n.cn]>0?"+":"-",x:u.x(),y:u.y()+2,fill:"#777",fontSize:l+1,width:o,align:"center",fontStyle:"normal",fontFamily:"Arial"});const g=f({text:`${i}`,x:u.x(),y:u.y()+a,fontSize:l,width:o,align:"center",fontStyle:"bold"});let w=g.x(),x=g.y();if(p){const e=f({text:`${-1===n.cht?"Nhật chủ":nn[n.cht]}`,x:g.x(),y:g.y()+a+3,fontSize:l,width:o,align:"center"});w=e.x(),x=e.y()}const b=f({text:`${re[n.cn].toUpperCase()}`,x:w,y:x+a+6,fill:d[Ue[n.cn]],fontSize:l+1,fontStyle:"bold",width:o,align:"center"}),y=f({text:`${J[n.ci].toUpperCase()}`,x:b.x(),y:b.y()+a,fill:d[tn[n.ci]],fontSize:l+1,fontStyle:"bold",width:o,align:"center"});if(w=y.x(),x=y.y(),p){const e=o/n.ctg.length,t=l-2;let s=0,i=y.y();n.ctg.forEach((n=>{const o=f({text:`${re[n]}`,x:0===s?y.x():s,y:y.y()+a,fill:d[Ue[n]],fontSize:t,width:e,align:"center"}),c=nn[fn(r.dtb.bs.d[0],n)],h=e-2,u=f({text:c,x:o.x(),y:o.y()+a+2,fontSize:l-2,width:"Thương"===c?h+8:h,align:"center",fill:"#000"});s=o.x()+e,i=u.y()}));const c=a+3,h=f({text:`${yo[n.ts]}`,x:y.x(),y:i+c,fontSize:l-2,width:o,align:"center"});w=h.x(),x=h.y()}const v=a+5,j=l-2;return f({text:`${vo[n.na]}`,x:w,y:x+v,fill:d[ce[n.na]],fontSize:j,width:o,align:"center"}),c}(e,s,n,1===u[I.showSun]?i:"")}return function(){if(void 0===r)return[];m.destroyChildren(),f({text:`Ver ${e.version}`,x:n+10,y:o-48,fill:"#000",align:"center",width:2*t-20,fontSize:l-4,opacity:.3,fontVariant:"normal"}),function(){const e="VGluaE1lbmhEby5jb20=",s=(()=>{try{return window.atob(e)}catch{return""}})();f({text:s,x:n,y:o-36,fill:"#b06200",align:"center",width:2*t,fontSize:l-1,opacity:.8,fontVariant:"normal"})}(),function(){const e="TG_FpIHPz";let s=`Loại lá số ${u[I.typeLs]+1}`;if([6,7,8].includes(u[I.typeLs])){const t=["1","2","3"];s+=` - ${e.substring(0,3)}${t[u[I.tcpb]]}`}f({text:s+" - Can Hóa "+(r.cfg[I.lsCanType]+1)+` - lập lúc ${ge().format("YYYY/MM/DD HH:mm")}`,x:n,y:o-20,fill:"#000",align:"center",width:2*t,fontSize:l-2,opacity:.8,fontVariant:"normal"})}();const c=l-1;let h=be[r.ars[r.at].ai];h=h.charAt(0)+h.slice(1).toLowerCase();const x=r.dtv.bs,b=l-1.5,y=[[{text:`${r.adye>0?"Dương":"Âm"} ${r.sx>0?"Nam":"Nữ"}`,fontStyle:"normal"},{text:`${r.yeo} tuổi`,fontStyle:"bold",align:"center"},{text:"âm lịch",fontStyle:"normal"},{text:"giờ",fontStyle:"normal"},{text:`${J[r.dtb.bs.h[1]]}`,fontStyle:"bold"},{text:"ngày",fontStyle:"normal"},{text:`${r.dtb.ln.d}`,fontStyle:"bold"},{text:"tháng",fontStyle:"normal"},{text:`${r.dtb.ln.m}`,fontStyle:"bold"},{text:"năm",fontStyle:"normal"},{text:re[r.dtb.bs.y[0]],fontStyle:"bold",fill:d[Ue[r.dtb.bs.y[0]]]},{text:J[r.dtb.bs.y[1]],fontStyle:"bold",fill:d[tn[r.dtb.bs.y[1]]]}],[{text:"Mệnh",fontStyle:"normal"},{text:pt[ce[r.dtb.bs.y[2]]],fontStyle:"bold",fill:d[ce[r.dtb.bs.y[2]]]},{text:"cục"},{text:pt[r.cid],fontStyle:"bold",fill:d[r.cid]},{text:`- ${r.ad>0?mt[1]:mt[0]} - ${is[r.sks]}`}],[{text:"Thân cư",fontStyle:"normal"},{text:`${h}`,fontStyle:"bold"},{text:"- Mệnh chủ"},{text:se[r.mctc[0]].name,fontStyle:"bold",fill:d[se[r.mctc[0]].hh]},{text:"- Thân chủ"},{text:se[r.mctc[1]].name,fontStyle:"bold",fill:d[se[r.mctc[1]].hh]}],[{text:"Năm xem "+r.dtv.sn.y+" ÂL: ",x:n+10,fontSize:b},{text:`${re[x.y[0]]} ${J[x.y[1]]} - `,fill:d[ce[x.y[2]]],fontSize:b},{text:`${re[x.m[0]]} ${J[x.m[1]]}(${r.dtv.ln.m}) - `,fill:d[ce[x.m[2]]],fontSize:b},{text:`${re[x.d[0]]} ${J[x.d[1]]}(${r.dtv.ln.d}) - `,fill:d[ce[x.d[2]]],fontSize:b},{text:`${re[x.h[0]]} ${J[x.h[1]]}`,fill:d[ce[x.h[2]]],fontSize:b}]],v=function(e,t,s){return Array.from({length:s},((s,n)=>e+n*t))}(i+15,16,4);(function(e,t,n){e.forEach(((e,i)=>{!function(e,t,n){let i=0;e.forEach((e=>{i+=function({text:e,fontSize:t,fontStyle:s}){return He.clone({text:e,fontSize:t,fontStyle:s}).width()}({...e,fontSize:n})+3}));let o=s-i/2;e.forEach(((e,s)=>{const{txt:i,width:a}=function({text:e,y:t,fontSize:s,fontStyle:n,fill:i}){const o=f({text:e,y:t,fontSize:s,fontStyle:n,fill:i});return{txt:o,width:o.getTextWidth()}}({...e,y:t,fontSize:n});i.x(o),o+=a+3}))}(e,t[i],n)}))})(y,v,c),function(){const{dtb:e,tutru:s}=r,o=e.tki,c=g({text:`Tứ Trụ - Sinh vào tiết ${en[o[0]]}`,x:n,y:i+95,fontSize:l});o[1]&&g({text:`Tháng ${xo[o[0]]}tk từ ${en[Ss[o[0]][0]]} (${1===u[I.showSun]?ge(o[3]).format("YYYY/MM/DD HH:mm"):ge(o[3]).format("----/MM/DD HH:mm")}) đến ${en[Ss[o[0]][1]]} (${1===u[I.showSun]?ge(o[4]).format("YYYY/MM/DD HH:mm"):ge(o[4]).format("----/MM/DD HH:mm")})`,x:n,y:c.y()+16,fontSize:l-3});const h=w(n+3,c.y()+33,s.cot[0],`${e.sn.y}`),x=e.ln.mt===e.ln.m?"("+e.ln.mt+")":"("+e.ln.m+")("+e.ln.mt+"tk)",b=w(h+3,c.y()+33,s.cot[1],`${e.sn.m} ${x}`),y=w(b+3,c.y()+33,s.cot[2],`${e.sn.d} (${e.ln.d})`);if(w(y+3,c.y()+33,s.cot[3],`${e.sn.h}h${e.sn.i}`),p){const e=r.tutru.dvt,s=f({text:`${e[0]?"Thuận":"Nghịch"} đến tk cách ${e[1]} ngày ${e[2]} giờ quy đổi thành ${e[3]} năm ${e[4]} tháng ${e[5]} ngày`,x:n,y:c.y()+235,fontStyle:"normal",width:2*t+a,align:"center",fontSize:l-2.5}),i=15,o=r.tutru.dv,h=34;let p=0;o.forEach(((e,t)=>{const o=ge.unix(e[2]),a=r.yeo>=o.year()-r.dtb.sn.y+1&&r.yeo<=o.year()-r.dtb.sn.y+10,c={x:0===p?n+3:p,y:s.y()+i,fill:a?"rgba(255, 224, 191, 0.7)":"rgba(0, 0, 0, 0.07)",width:h,height:75,perfectDrawEnabled:!0,strokeWidth:1,opacity:1,cornerRadius:6,hitStrokeWidth:1,shadowForStrokeEnabled:!1};m.add(Ee.clone(c));const g=f({text:`${nn[fn(r.dtb.bs.d[0],e[0])]}`,x:0===p?n+3:p,y:s.y()+i+5,fill:"#333",fontSize:l-4,width:h,align:"center"}),w=f({text:`${re[e[0]]}`,x:0===p?n+3:p,y:g.y()+i,fill:d[Ue[e[0]]],fontSize:l-2,width:h,align:"center"}),x=f({text:`${J[e[1]]}`,x:w.x(),y:w.y()+i,fill:d[tn[e[1]]],fontSize:l-2,width:h,align:"center"});let b=`${o.year()-r.dtb.sn.y+1}-${o.year()-r.dtb.sn.y+10}t${1===u[I.showSun]?" "+o.format("YYYY"):""}`;0===t&&(b=`${o.year()-r.dtb.sn.y+1}t${1===u[I.showSun]?" "+o.format("DD/MM   YYYY"):""}`),f({text:`${b}`,x:w.x(),y:x.y()+i+2,fill:"#333",fontSize:l-5,width:h,align:"center"}),p=w.x()+h+3.5}))}}()}(),e.layer.add(m),e.layer}At.cache();const Nt=Vi(Bt),dh=e=>{const t=e.ls,s=t.cfg,n=75*(t.css<=11?0:t.css-11),o=960+n,a=s[I.typeLs],r=s[I.typePhiHoa],l=185.5,c=o/4,d=o+2+1+1,h=["","","#031640","#067b11","#8b8380","#e39e25","#cf233b"],u=["","","#123e65","#04973c","#919191","#e39e25","#e73827"];let m=5;(4===a||5===a)&&(m=8);const p=["rgb(3 140 0)","rgb(110 8 136)","rgb(14 124 202)","rgb(217 4 4)"],f=["rgb(3 140 0 / 75%)","rgb(110 8 136 / 75%)","rgb(14 124 202 / 75%)","rgb(217 4 4 / 75%)"],g=["rgba(114,250,112,0.9)","rgba(227,100,255,0.9)","rgba(77,182,255,0.9)","rgba(246,66,66,0.9)"],w=["rgba(114,250,112,0.5)","rgba(227,100,255,0.5)","rgba(77,182,255,0.5)","rgba(246,66,66,0.5)"],x="Roboto Slab",b=54,y=l/2,v=c/2;let j=1,k=j+l,S=k+1+l,N=S+1+l,C=N+1+l,T=1,L=T+c,$=L+1+c,P=$+1+c,B=P+1+c;j+=27,k+=27,S+=27,N+=27,C+=27,T+=27,L+=27,$+=27,P+=27,B+=27;const A=c-2.3*m,M=m;function E(e,t,s="#dcd3aaa8"){if(typeof window<"u"){const n=window.document.createElement("canvas").getContext("2d"),i=void 0!==e[4]?e[4]:e[2],o=void 0!==e[5]?e[5]:e[3],a=n.createLinearGradient(e[0],e[1],i,o);return a.addColorStop(0,s),a.addColorStop(1,t),a}return t}const H=_.useRef(null);let D;_.useState(!1),_.useState(!1),_.useState(null),_.useState(!1);const[z,O]=_.useState(null),K=(e=1)=>H.current?H.current.toDataURL({pixelRatio:e,quality:1,mimeType:"image/png"}):null;function W(e){let s="VCD";return t.ars[e].sb.length>0&&(s="",t.ars[e].sb.forEach((e=>{s.length>0&&(s+="-"),s+=se[e].sht}))),Bn(s)}_.useEffect((()=>{if(typeof window<"u")try{if(D&&D.destroy(),H.current&&H.current.destroy(),!document.getElementById("cv"))return void console.error("Container not found");const n=new dt.Stage({container:"cv",width:800,height:d+b,fill:"#fefefe",font:x});H.current=n,D=new dt.Layer;const i=ni(s[I.lsCanType]);D.add(Ee.clone({x:0,y:0,width:800,height:d+b,hitStrokeWidth:0,shadowForStrokeEnabled:!1,fillRadialGradientStartPoint:{x:S,y:$},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:S,y:$},fillRadialGradientEndRadius:1e3,fillRadialGradientColorStops:[0,"#FFF",1,"#ddd"]})),D.add(Ee.clone({x:k+1,y:L+1,width:372,height:2*c+1,fillRadialGradientStartPoint:{x:k,y:L},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:k,y:L},fillRadialGradientEndRadius:555,fillRadialGradientColorStops:[0,"#fff",1,"#ddd"],hitStrokeWidth:0,shadowForStrokeEnabled:!1})),D=lh({ls:t,layer:D,lsWidth:742,lsHeight:o,xBox:j,borderOutWith:1,hafBorderOut:.5,yBox:T,xBox12:S,yBox12:$,xBox14:k,yBox14:L,xBox34:N,yBox34:P,xBox4:C,yBox4:B,hafBorderIn:.5,borderInnerWith:1,bColor:u}),D=ah({layer:D,bColor:u,colorHoaStart:f,colorHoa:p,colorHoaFill:g,colorHoaFill60:w,color:h,xBox12:S,yBox34:P,xBox14:k,xBox:j,yBox12:$,yBox14:L,yBox:T,xBox4:C,yBox4:B,xBox34:N,ls:t,hafWSquare:y,hafHSquare:v,fontFamilySet:x,borderOutWith:1,hafBorderOut:.5,fontDV:13,padContentBottom:A,padContentTop:M,padContent:m,wSquare:l,hSquare:c,fontPhuTinh:14,fontChinhTinh:15,getGradient:E,typePhiHoa:r,typeLs:a,cfgLs:s,canHoa:i}),D=ch({layer:D,wSquare:l,xBox12:S,xBox14:k,yBox14:L,yBox34:P,borderInnerWith:1,ls:t,fontCenter:12,hafWSquare:y,fontFamilySet:x,color:h,fontDV:13,cfgLs:s,getGradient:E,version:e.version}),D.add(Ee.clone({x:0,y:d+b,width:800,height:d+b,fill:"rgb(233 233 233)"})),n.add(D);const z=K(2);z&&O(z)}catch(e){console.error("Error initializing stage:",e)}return()=>{D&&D.destroy(),H.current&&(H.current.destroy(),H.current=null),O(null)}}),[e.ls]),_.useEffect((()=>{0!==e.fnDownloadCall&&q(),0!==e.fnCopyLs&&Y(),0!==e.fnExportNote&&Z()}),[e.fnDownloadCall,e.fnCopyLs,e.fnExportNote]);const V=()=>{const e=t.dtb.sn,s=t.dtb.ln,n=t.dtb.bs,o=be[t.ars[t.at].ai];return i.jsxs("div",{className:"text-[14px] [&_div]:mb-1",children:[i.jsxs("div",{children:["Thời gian sinh dương lịch:"," ",i.jsxs("b",{children:[e.d,"/",e.m,"/",e.y," lúc ",e.h,"h",e.i||0]})]}),i.jsxs("div",{children:[i.jsx("b",{children:`${t.adye>0?"Dương":"Âm"} ${t.sx>0?"Nam":"Nữ"}`})," tuổi âm lịch ",i.jsxs("b",{children:[t.yeo," tuổi"]})]}),i.jsxs("div",{children:["Âm lịch giờ ",i.jsx("b",{children:J[n.h[1]]})," ngày ",i.jsx("b",{children:s.d})," tháng ",i.jsx("b",{children:s.m})," năm"," ",i.jsxs("b",{className:`color${ce[n.y[2]]}`,children:[re[n.y[0]]," ",J[n.y[1]]]})]}),i.jsxs("div",{children:["Mệnh ",i.jsxs("b",{className:`color${ce[n.y[2]]}`,children:[" ",pt[ce[n.y[2]]]]})," cục"," ",i.jsx("b",{className:`color${t.cid}`,children:pt[t.cid]})," - ",`${t.ad>0?mt[1]:mt[0]} - ${is[t.sks]}`," "]}),i.jsxs("div",{children:["Thân cư ",i.jsx("b",{children:o.charAt(0)+o.slice(1).toLowerCase()})," - Mệnh chủ"," ",i.jsx("b",{className:`color${se[t.mctc[0]].hh}`,children:se[t.mctc[0]].name})," - Thân chủ"," ",i.jsx("b",{className:`color${se[t.mctc[1]].hh}`,children:se[t.mctc[1]].name})," "]}),i.jsxs("div",{className:"!text-[12px] !mt-3",children:["Năm xem ",i.jsx("b",{children:t.dtv.sn.y})," ÂL:"," ",i.jsxs("span",{className:`color${ce[t.dtv.bs.y[2]]}`,children:[re[t.dtv.bs.y[0]]," ",J[t.dtv.bs.y[1]]]})," ","-"," ",i.jsxs("span",{className:`color${ce[t.dtv.bs.m[2]]}`,children:[re[t.dtv.bs.m[0]]," ",J[t.dtv.bs.m[1]],"(",t.dtv.ln.m,")"]})," ","-"," ",i.jsxs("span",{className:`color${ce[t.dtv.bs.d[2]]}`,children:[re[t.dtv.bs.d[0]]," ",J[t.dtv.bs.d[1]],"(",t.dtv.ln.d,")"]})," ","-"," ",i.jsxs("span",{className:`color${ce[t.dtv.bs.h[2]]}`,children:[re[t.dtv.bs.h[0]]," ",J[t.dtv.bs.h[1]]]})]})]})},Y=async()=>{try{const e=z||K(2);if(!e)throw new Error("Không thể lấy được ảnh lá số");const t=await(await fetch(e)).blob();await navigator.clipboard.write([new ClipboardItem({[t.type]:t})]),Nt.fire({title:"Thông báo",html:i.jsxs("div",{children:[i.jsx("div",{children:"Tinh Mệnh Đồ đã copy xong:"}),i.jsxs("div",{className:"text-orange-600",children:["Check lại thông tin ",i.jsx("b",{children:"1 lần nữa"})," cho dù bạn đã chắc chắn."]}),i.jsx("br",{}),i.jsx("div",{children:V()}),i.jsx("br",{})]}),icon:"success"})}catch(e){console.error("Error copying image:",e),Nt.fire({title:"Lỗi",text:e instanceof Error?e.message:"Có lỗi xảy ra khi copy lá số",icon:"error"})}},q=()=>{try{const e=z||K(2);if(!e)throw new Error("Không thể lấy được ảnh lá số");const s=t.dtb.sn,n=t.am,i=W(n),o=t.at,a=W(o);!function(e,t){if(typeof window<"u"){const s=window.document.createElement("a");s.download=t,s.href=e,window.document.body.appendChild(s),s.click(),window.document.body.removeChild(s)}}(e,`${1===t.sx?"nam":"nu"}-Menh-${i}-${Bn(J[n])}-Than-${a}-${Bn(J[o])}--${s.d}.${s.m}.${s.y}-${s.h}h${s.i||0}-TinhMenhDo.com-${Math.floor(1e4*Math.random())}.png`)}catch(e){console.error("Error exporting image:",e),Nt.fire({title:"Lỗi",text:e instanceof Error?e.message:"Có lỗi xảy ra khi lưu lá số",icon:"error"})}},Z=async()=>{try{if(!H.current)return null;const e=H.current.toDataURL({pixelRatio:1,quality:1,mimeType:"image/png"});if(!e)throw new Error("Không thể lấy được ảnh lá số");const t=await(await fetch(e)).blob();if(await navigator.clipboard.write([new ClipboardItem({[t.type]:t})]),(await Nt.fire({title:"Thông báo",html:i.jsxs("div",{children:[i.jsx("div",{children:"Tinh Mệnh Đồ đã copy xong:"}),i.jsx("div",{className:"text-orange-600",children:"Bạn có muốn chuyển sang tab Note lá số không?"}),i.jsx("br",{}),i.jsx("div",{children:V()}),i.jsx("br",{})]}),icon:"success",showCancelButton:!0,confirmButtonText:"Chuyển sang Note",cancelButtonText:"Đóng"})).isConfirmed){const e=document.createElement("a");e.href="/bang-ghi-chu-la-so?export=1",e.target="_blank",e.rel="noopener noreferrer",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(e){console.error("Error copying image:",e),Nt.fire({title:"Lỗi",text:e instanceof Error?e.message:"Có lỗi xảy ra khi copy lá số",icon:"error"})}},[F,R]=_.useState(!0);return _.useEffect((()=>{typeof window<"u"&&F&&R(!1)})),i.jsxs(i.Fragment,{children:[i.jsx("div",{id:"cv",className:"flex justify-center"}),i.jsx("div",{className:"absolute top-0 left-0 hidden size-full max-lg:block"})]})},oo=nt.memo((({fontsPreloaded:e,showCanvas:t,lsObj:s,lsState:n,setShowCanvas:o,fontName:a,version:r,fnDownloadCall:l,fnCopyCall:c,fnExportNote:d})=>{const h=_.useMemo((()=>{if(!e)return i.jsx("div",{className:"text-center px-4",children:i.jsx("span",{className:"block",children:"Đang tải font chữ..."})});if(!t){const e=pn.renderLunarInfo(s),t=pn.renderBirthInfo(s);return e&&t?i.jsxs("div",{className:"text-center px-4 bg-gray-100 size-full flex flex-col justify-center items-center",children:[i.jsx("h1",{className:"text-lg font-medium mb-2",children:"TinhMenhDo.com"}),i.jsx("div",{className:"text-sm mb-4",children:i.jsxs("span",{className:"block",children:[1===n.sex?"Nam":"Nữ"," sinh năm ",e.nam," âm lịch"," ",t.canChi.nam]})}),i.jsx("button",{className:"bg-orange-300 text-black px-4 py-2 rounded hover:bg-orange-400 transition-colors",onClick:()=>o(!0),children:"Click hoặc di chuột để hiện lá số"})]}):i.jsx("div",{className:"text-center px-4",children:i.jsx("span",{className:"block",children:"Đang xử lý dữ liệu..."})})}return i.jsx(_.Suspense,{fallback:i.jsx(Kn,{}),children:i.jsx(dh,{ls:s,fontName:a,fnDownloadCall:l,fnCopyLs:c,fnExportNote:d,version:r},`client-${n.vBorn.getTime()}`)})}),[e,t,s,n,o,a,r,l,c,d]);return i.jsx("div",{className:"flex items-center justify-center "+(qe(s)?"":"bg-gray-100"),style:{width:"100%",height:`${Dc().height}px`},onMouseEnter:()=>o(!0),onTouchStart:()=>o(!0),children:h})}));oo.displayName="ContentDisplay";const Lt=Vi(Bt);ge.locale("vi");const hh=e=>e>=6&&e<=8,vh=e=>{const[t,s]=_.useState(!1);_.useEffect((()=>{s(!0)}),[]);const[n,o]=_.useState(0),[a,r]=_.useState(0),[l,c]=_.useState(0),d=Oc(),h=Ic();let u=Ys(d+"?"+h.toString());const m=_.useRef(null),p=_.useRef(null),[f,g]=_.useState((()=>{if(u=Ys(d+"?"+h.toString()),void 0!==e.defaultType&&!h.get("cf")){const t=[...u.cfg];return t[I.typeLs]=e.defaultType,{vBorn:u.dtBorn,vView:u.dtView,sex:u.sex,cfgLs:qs(t),first:!1,copyState:!1,copyLS:!1}}return{vBorn:u.dtBorn,vView:u.dtView,sex:u.sex,cfgLs:qs(u.cfg),first:!1,copyState:!1,copyLS:!1}})),[w,x]=_.useState((()=>{})),[b,y]=_.useState({}),[v,j]=_.useState((()=>Us(f.vBorn,f.vView,f.sex,f.cfgLs))),[k,S]=_.useState(!1),N=_.useCallback((()=>{k||S(!0);const e=document.querySelector("#cv .konvajs-content canvas"),t=document.getElementById("lsArea");if(e&&t&&e.clientHeight!==t.clientHeight){const t=1.2725*e.clientWidth;y({height:`${t}px`})}}),[k]),C=_.useCallback(pc((()=>{const e=()=>{const e=Us(f.vBorn,f.vView,f.sex,f.cfgLs),t=f.cfgLs[I.typeLs],s=`/tu-vi/${Hc(bc[t]).replace(/^tu-vi\//,"")}`,n=window.location.pathname;(h.toString()!==e.url.substring(1)||!n.includes(s))&&requestAnimationFrame((()=>{O(s+e.url),j(e)}))};"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,0)}),300),[f.vBorn,f.vView,f.sex,f.cfgLs]),T=_.useCallback((e=>{g((t=>({...t,...e})))}),[]);_.useEffect((()=>{C()}),[f.vBorn,f.vView,f.sex,f.cfgLs,C]);const L=_.useCallback(((e,t,s,n)=>{try{const i=Od(e,t,s,n);i&&qe(i)&&x(i)}catch(e){console.error("Error fetching data:",e)}}),[]);_.useEffect((()=>{L(f.vBorn,f.vView,f.sex,f.cfgLs)}),[f.vBorn,f.vView,f.sex,f.cfgLs,L]);const $=_.useCallback(((e,t)=>{const s=(e=>{const t=new Date(e);return t.getFullYear()<1e3&&t.setFullYear(1e3),t.getFullYear()>2099&&t.setFullYear(2099),t})(t);g((n=>({...n,vBorn:"dateTimeBorn"===e?s:n.vBorn,vView:"dateTimeView"===e||t.getTime()>n.vView.getTime()?s:n.vView,first:!0}))),k||S(!0)}),[k]),P=_.useCallback(((e,t)=>{requestAnimationFrame((()=>{const s=xc(f.cfgLs,e,t);T({cfgLs:s,first:!0}),N()}))}),[f.cfgLs,T,N]);_.useEffect((()=>{if(null!==p&&null!==p.current&&p.current){const e=1.2725*p.current.clientWidth;y({height:`${e}px`})}}),[]);const B=Zd(w,v);_.useEffect((()=>{if(typeof window>"u"||!qe(w)||!B)return;const{title:e,description:t}=B,s=window.location.href;document.title=e,Object.entries({"og:title":e,description:t,"og:description":t,"og:url":s}).forEach((([e,t])=>{gn.meta(e,t)})),gn.link("canonical",s)}),[B,w]);const[A,M]=_.useState(!1),E=_.useCallback((()=>{M(!0)}),[]);_.useEffect((()=>{C()}),[f.vBorn,f.vView,f.sex,f.cfgLs,C]);const[H,D]=_.useState(!1),z=_.useCallback((()=>{Lt.fire({width:"99%",title:"[Thử nghiệm] Chức năng hỗ trợ Tinh Mệnh Đồ trên GPT",html:i.jsxs("div",{children:[i.jsx("img",{src:Ud.src,alt:"Tinh Mệnh Đồ GPT",className:"mx-auto my-2"}),i.jsxs("p",{children:["Để có thể dùng ",i.jsx("b",{children:"Tinh Mệnh Đồ GPT"})," cần lấy dữ liu sao dạng text dưới đây"," ",i.jsx("b",{children:"bng nút Copy"})," sau đó vào link sau",i.jsx("a",{href:"https://chatgpt.com/g/g-BHVwAwPzS-tu-vi-va-nghien-cuu-so-menh-tinh-menh-do",target:"_blank",rel:"noopener noreferrer",className:"mx-2 text-orange-400 btn",children:"Mở Tinh Mệnh Đồ GPT"}),"và dán dữ liệu sao đó vào ô Chat với GPT và enter"]}),i.jsx("br",{}),i.jsx("div",{children:i.jsx(Fd,{ls:w})}),i.jsx("br",{}),i.jsx("br",{})]}),icon:"success",confirmButtonText:"Đóng",showConfirmButton:!0,showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,didOpen:()=>{document.body.classList.add("swal2-shown","swal2-height-auto")},willClose:()=>{document.body.classList.remove("swal2-shown","swal2-height-auto")}})}),[w]),O=e=>{if(!t)return;const s=e.replace(/\/tu-vi\/tu-vi\//,"/tu-vi/");window.location.pathname+window.location.search!==s&&window.history.pushState({},"",s)};return i.jsxs(i.Fragment,{children:[i.jsx(qd,{fontName:e.fontName,onPreloadComplete:E}),i.jsx(ro,{lsUrl:v,rightDom:"",children:i.jsxs("div",{className:"bg-white max-lg:grid-cols-1 lg:max-[1600px]:flex relative max-w-7xl mx-auto px-2 sm:px-6 dark:text-slate-300 pb-24",onClick:N,onTouchStart:N,children:[w&&qe(w)&&i.jsxs(i.Fragment,{children:[th(w,f,m),hh(f.cfgLs[I.typeLs])&&i.jsx(eh,{})]}),i.jsxs("div",{className:"relative z-10 my-4 text-sm max-lg:m-0 max-lg:mb-5 max-lg:p-0",children:[i.jsx("div",{id:"lsArea",className:`relative mx-auto max-lg:mb-5 max-lg:h-auto max-lg:w-full ${e.fontClass}`,ref:p,children:i.jsx(oo,{fontsPreloaded:A,showCanvas:k,lsObj:w,lsState:f,setShowCanvas:S,fontName:e.fontName,version:e.version,fnDownloadCall:n,fnCopyCall:a,fnExportNote:l})}),i.jsxs(_.Suspense,{fallback:i.jsx(Kn,{}),children:[qe(w)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative z-10 my-4 text-sm max-lg:m-0",children:i.jsxs("div",{className:"mb-3 flex gap-2 justify-center flex-wrap",children:[i.jsx("div",{className:"bgInset btnSave",onClick:()=>{o((e=>e+1)),setTimeout((()=>{o(0)}),200)},children:i.jsx("button",{className:"btnColorFull btnLsAction max-md:text-[10px] ",children:"Lưu ảnh lớn"})}),i.jsx("div",{className:"bgInset btnSave",onClick:async()=>{if(H)Lt.fire({title:"Thông báo",text:"Đang trong quá trình copy, vui lòng đợi...",icon:"info"});else try{D(!0),r((e=>e+1)),await new Promise((e=>setTimeout(e,1e3))),r(0),D(!1)}catch(e){console.error("Lỗi khi copy:",e),D(!1),Lt.fire({title:"Lỗi",text:"Có lỗi xảy ra khi copy lá số",icon:"error"})}},children:i.jsx("button",{className:"btnLsAction btnColorFull max-md:text-[10px]  hover:text-white transition-all hover:bg-[#c25f00] hover:bg-none",children:H?"Đang copy...":"Copy ảnh"})}),i.jsx("div",{className:"bgInset btnSave",onClick:()=>{if(!t)return;const e=window.location.href;window.navigator.clipboard.writeText(e),T({copyState:!0}),setTimeout((()=>{T({copyState:!1})}),2e3)},children:i.jsxs("button",{className:"btnColorFull btnLsAction max-md:text-[10px]  AVvXsEi94KYr1tqpyhdMUCD9vh4d3LAOE3 hover:text-white transition-all hover:bg-[#4267B2] hover:bg-none",children:["Chia sẻ ",f.copyState?"(Copy...)":""]})}),i.jsx("div",{className:"bgInset btnSave",onClick:z,children:i.jsx("button",{className:"btnColorFull btnLsAction max-md:text-[10px]  hover:text-white transition-all hover:bg-[#0a0a0a] hover:bg-none",children:"AI Tư vấn"})}),i.jsx("div",{className:"bgInset btnSave",children:i.jsx("a",{className:"btnColorFull btnLsAction max-md:text-[10px]  hover:text-white transition-all hover:bg-[#1b668b] hover:bg-none",href:"https://t.me/TinhMenhDoBot/app",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})}),i.jsx("div",{className:"bgInset btnSave",onClick:async()=>{if(H)Lt.fire({title:"Thông báo",text:"Đang trong quá trình copy, vui lòng đợi...",icon:"info"});else try{c((e=>e+1)),await new Promise((e=>setTimeout(e,1e3))),c(0)}catch(e){console.error("Lỗi khi copy:",e),Lt.fire({title:"Thông báo",text:"Có lỗi trong quá trình export lá số ấn F5 và thử lại",icon:"error"})}},children:i.jsx("span",{className:"btnColorFull btnLsAction max-md:text-[10px]  hover:text-white transition-all hover:bg-[#994620] hover:bg-none",children:"Bảng ghi chú lá số"})}),i.jsx("div",{className:"bgInset btnSave",children:i.jsx("a",{onClick:()=>m.current?.toggleMenu(),className:"btnColorFull btnLsAction  max-md:text-[10px] hover:text-white transition-all hover:bg-[#994620] hover:bg-none",children:"Sửa lá số"})})]})}),i.jsx(Kc,{ls:w},"pcsID"),i.jsx("div",{className:"mt-8",children:i.jsx($c,{ls:w})})]}),i.jsx("div",{className:"mt-8",children:i.jsx(jd,{})})]})]})]})}),i.jsx(_.Suspense,{fallback:i.jsx(Kn,{}),children:qe(w)&&i.jsx(Qi,{ref:m,cfgLs:f.cfgLs,onConfigChange:P,sex:f.sex,onSexChange:e=>{T({sex:e,first:!0})},dateTimeBorn:f.vBorn,dateTimeView:f.vView,onDateChange:$,ls:w})}),i.jsx("style",{children:"\n        .konva-container {\n          position: relative;\n          width: 100%;\n          height: 100%;\n        }\n        .konva-container canvas {\n          position: absolute;\n          top: 0;\n          left: 0;\n        }\n      "})]})};export{vh as default};
const __vite__mapDeps=(t,e=__vite__mapDeps,n=e.f||(e.f=["0rd1RC1i/BWqUbjOM.js","0rd1RC1i/DzZ8jI8_.js","0rd1RC1i/l2PZgWEW.js","0rd1RC1i/Cdz1STHP.js","0rd1RC1i/CJ1eAlAe.js","0rd1RC1i/o6GsxwR7.js","0rd1RC1i/EiJlzek4.js"]))=>t.map((t=>n[t]));import{j as d}from"./DzZ8jI8_.js";import{r as W,a as c6,R as gr,c as Ii,g as fs}from"./l2PZgWEW.js";import{c as h6}from"./o6GsxwR7.js";import{A as u6}from"./EiJlzek4.js";import{c as is,d as qt}from"./CJ1eAlAe.js";import{C as be,a as Gt,A as Ke,O as d6,L as di,p as Tf,q as f6,o as Pf,S as Ut,t as g6,u as p6,H as m6,c as Af,j as Nf,v as v6,f as y6,w as b6,I as w6,P as ji,x as rs,T as $c,y as ga,z as Gc,B as mc,D as An,E as x6,b as pa,G as _6,J as S6,K as C6,k as ma,l as vc,m as Lf,F as T6,M as P6}from"./Cdz1STHP.js";function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}var ci;!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(ci||(ci={}));const kf="popstate";function A6(t){return void 0===t&&(t={}),L6((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return Hc("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"==typeof e?e:V0(e)}),null,t)}function Se(t,e){if(!1===t||null===t||typeof t>"u")throw new Error(e)}function K0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N6(){return Math.random().toString(36).substr(2,8)}function Ef(t,e){return{usr:t.state,key:t.key,idx:e}}function Hc(t,e,n,r){return void 0===n&&(n=null),ss({pathname:"string"==typeof t?t:t.pathname,search:"",hash:""},"string"==typeof e?_r(e):e,{state:n,key:e&&e.key||r||N6()})}function V0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function _r(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L6(t,e,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ci.Pop,l=null,c=h();function h(){return(a.state||{idx:null}).idx}function d(){o=ci.Pop;let t=h(),e=null==t?null:t-c;c=t,l&&l({action:o,location:f.location,delta:e})}function u(t){let e="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof t?t:V0(t);return n=n.replace(/ $/,"%20"),Se(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==c&&(c=0,a.replaceState(ss({},a.state,{idx:c}),""));let f={get action(){return o},get location(){return t(i,a)},listen(t){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kf,d),l=t,()=>{i.removeEventListener(kf,d),l=null}},createHref:t=>e(i,t),createURL:u,encodeLocation(t){let e=u(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){o=ci.Push;let n=Hc(f.location,t,e);c=h()+1;let r=Ef(n,c),d=f.createHref(n);try{a.pushState(r,"",d)}catch(t){if(t instanceof DOMException&&"DataCloneError"===t.name)throw t;i.location.assign(d)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(t,e){o=ci.Replace;let n=Hc(f.location,t,e);c=h();let r=Ef(n,c),i=f.createHref(n);a.replaceState(r,"",i),s&&l&&l({action:o,location:f.location,delta:0})},go:t=>a.go(t)};return f}var Mf;function k6(t,e,n){return void 0===n&&(n="/"),E6(t,e,n,!1)}function E6(t,e,n,r){let i=Y0(("string"==typeof e?_r(e):e).pathname||"/",n);if(null==i)return null;let s=W0(t);M6(s);let a=null;for(let t=0;null==a&&t<s.length;++t){let e=U6(i);a=G6(s[t],e,r)}return a}function W0(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,s)=>{let a={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(Se(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=Oi([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(Se(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),W0(t.children,e,l,o)),(null!=t.path||t.index)&&e.push({path:o,score:F6(o,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let n of z0(t.path))i(t,e,n);else i(t,e)})),e}function z0(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=z0(r.join("/")),o=[];return o.push(...a.map((t=>""===t?s:[s,t].join("/")))),i&&o.push(...a),o.map((e=>t.startsWith("/")&&""===e?"/":e))}function M6(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:$6(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(Mf||(Mf={}));const R6=/^:[\w-]+$/,j6=3,I6=2,O6=1,B6=10,D6=-2,Rf=t=>"*"===t;function F6(t,e){let n=t.split("/"),r=n.length;return n.some(Rf)&&(r+=D6),e&&(r+=I6),n.filter((t=>!Rf(t))).reduce(((t,e)=>t+(R6.test(e)?j6:""===e?O6:B6)),r)}function $6(t,e){return t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]))?t[t.length-1]-e[e.length-1]:0}function G6(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let t=0;t<r.length;++t){let o=r[t],l=t===r.length-1,c="/"===s?e:e.slice(s.length)||"/",h=jf({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c),d=o.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=jf({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Oi([s,h.pathname]),pathnameBase:q6(Oi([s,h.pathnameBase])),route:d}),"/"!==h.pathnameBase&&(s=Oi([s,h.pathnameBase]))}return a}function jf(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=H6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=o[n]||"";a=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=o[n];return t[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{}),pathname:s,pathnameBase:a,pattern:t}}function H6(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!0),K0("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function U6(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return K0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function Y0(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function K6(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof t?_r(t):t;return{pathname:n?n.startsWith("/")?n:V6(n,e):e,search:X6(r),hash:Z6(i)}}function V6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}function yc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function W6(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function z6(t,e){let n=W6(t);return e?n.map(((t,e)=>e===n.length-1?t.pathname:t.pathnameBase)):n.map((t=>t.pathnameBase))}function Y6(t,e,n,r){let i;void 0===r&&(r=!1),"string"==typeof t?i=_r(t):(i=ss({},t),Se(!i.pathname||!i.pathname.includes("?"),yc("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),yc("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),yc("#","search","hash",i)));let s,a=""===t||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let t=e.length-1;if(!r&&o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?e[t]:"/"}let l=K6(i,s),c=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),q6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X6=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",Z6=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function Q6(t){return null!=t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"boolean"==typeof t.internal&&"data"in t}const q0=["post","put","patch","delete"];new Set(q0);const J6=["get",...q0];function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},as.apply(this,arguments)}new Set(J6);const vh=W.createContext(null),ty=W.createContext(null),Va=W.createContext(null),Wa=W.createContext(null),Sr=W.createContext({outlet:null,matches:[],isDataRoute:!1}),X0=W.createContext(null);function za(){return null!=W.useContext(Wa)}function Ya(){return za()||Se(!1),W.useContext(Wa).location}function Z0(t){W.useContext(Va).static||W.useLayoutEffect(t)}function Q0(){let{isDataRoute:t}=W.useContext(Sr);return t?fy():ey()}function ey(){za()||Se(!1);let t=W.useContext(vh),{basename:e,future:n,navigator:r}=W.useContext(Va),{matches:i}=W.useContext(Sr),{pathname:s}=Ya(),a=JSON.stringify(z6(i,n.v7_relativeSplatPath)),o=W.useRef(!1);return Z0((()=>{o.current=!0})),W.useCallback((function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n)return void r.go(n);let l=Y6(n,JSON.parse(a),s,"path"===i.relative);null==t&&"/"!==e&&(l.pathname="/"===l.pathname?e:Oi([e,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[e,r,a,s,t])}function ny(t,e){return iy(t,e)}function iy(t,e,n,r){za()||Se(!1);let{navigator:i}=W.useContext(Va),{matches:s}=W.useContext(Sr),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c,h=Ya();if(e){var d;let t="string"==typeof e?_r(e):e;"/"===l||null!=(d=t.pathname)&&d.startsWith(l)||Se(!1),c=t}else c=h;let u=c.pathname||"/",f=u;if("/"!==l){let t=l.replace(/^\//,"").split("/");f="/"+u.replace(/^\//,"").split("/").slice(t.length).join("/")}let p=k6(t,{pathname:f}),g=ly(p&&p.map((t=>Object.assign({},t,{params:Object.assign({},o,t.params),pathname:Oi([l,i.encodeLocation?i.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?l:Oi([l,i.encodeLocation?i.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),s,n,r);return e&&g?W.createElement(Wa.Provider,{value:{location:as({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ci.Pop}},g):g}function ry(){let t=dy(),e=Q6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null;return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},n):null,null)}const sy=W.createElement(ry,null);class ay extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?W.createElement(Sr.Provider,{value:this.props.routeContext},W.createElement(X0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oy(t){let{routeContext:e,match:n,children:r}=t,i=W.useContext(vh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(Sr.Provider,{value:e},r)}function ly(t,e,n,r){var i;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==t){var s;if(!n)return null;if(n.errors)t=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===e.length&&!n.initialized&&n.matches.length>0))return null;t=n.matches}}let a=t,o=null==(i=n)?void 0:i.errors;if(null!=o){let t=a.findIndex((t=>t.route.id&&void 0!==o?.[t.route.id]));t>=0||Se(!1),a=a.slice(0,Math.min(a.length,t+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=t),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((t,r,i)=>{let s,h=!1,d=null,u=null;n&&(s=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||sy,l&&(c<0&&0===i?(h=!0,u=null):c===i&&(h=!0,u=r.route.hydrateFallbackElement||null)));let f=e.concat(a.slice(0,i+1)),p=()=>{let e;return e=s?d:h?u:r.route.Component?W.createElement(r.route.Component,null):r.route.element?r.route.element:t,W.createElement(oy,{match:r,routeContext:{outlet:t,matches:f,isDataRoute:null!=n},children:e})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?W.createElement(ay,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()}),null)}var J0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(J0||{}),Ea=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ea||{});function cy(t){let e=W.useContext(vh);return e||Se(!1),e}function hy(t){let e=W.useContext(ty);return e||Se(!1),e}function uy(t){let e=W.useContext(Sr);return e||Se(!1),e}function t1(t){let e=uy(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function dy(){var t;let e=W.useContext(X0),n=hy(Ea.UseRouteError),r=t1(Ea.UseRouteError);return void 0!==e?e:null==(t=n.errors)?void 0:t[r]}function fy(){let{router:t}=cy(J0.UseNavigateStable),e=t1(Ea.UseNavigateStable),n=W.useRef(!1);return Z0((()=>{n.current=!0})),W.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?t.navigate(r):t.navigate(r,as({fromRouteId:e},i)))}),[t,e])}const If={};function gy(t,e){If[e]||(If[e]=!0,console.warn(e))}const Of=(t,e,n)=>gy(t,"⚠️ React Router Future Flag Warning: "+e+". You can use the `"+t+"` future flag to opt-in early. For more information, see "+n+".");function py(t,e){null!=t&&t.v7_startTransition||Of("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(null==t||!t.v7_relativeSplatPath)&&!e&&Of("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Aa(t){Se(!1)}function my(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ci.Pop,navigator:s,static:a=!1,future:o}=t;za()&&Se(!1);let l=e.replace(/^\/*/,"/"),c=W.useMemo((()=>({basename:l,navigator:s,static:a,future:as({v7_relativeSplatPath:!1},o)})),[l,o,s,a]);"string"==typeof r&&(r=_r(r));let{pathname:h="/",search:d="",hash:u="",state:f=null,key:p="default"}=r,g=W.useMemo((()=>{let t=Y0(h,l);return null==t?null:{location:{pathname:t,search:d,hash:u,state:f,key:p},navigationType:i}}),[l,h,d,u,f,p,i]);return null==g?null:W.createElement(Va.Provider,{value:c},W.createElement(Wa.Provider,{children:n,value:g}))}function vy(t){let{children:e,location:n}=t;return ny(Uc(e),n)}function Uc(t,e){void 0===e&&(e=[]);let n=[];return W.Children.forEach(t,((t,r)=>{if(!W.isValidElement(t))return;let i=[...e,r];if(t.type===W.Fragment)return void n.push.apply(n,Uc(t.props.children,i));t.type!==Aa&&Se(!1),!t.props.index||!t.props.children||Se(!1);let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Uc(t.props.children,i)),n.push(s)})),n}function Kc(t){return void 0===t&&(t=""),new URLSearchParams("string"==typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce(((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map((t=>[n,t])):[[n,r]])}),[]))}function yy(t,e){let n=Kc(t);return e&&e.forEach(((t,r)=>{n.has(r)||e.getAll(r).forEach((t=>{n.append(r,t)}))})),n}new Promise((()=>{}));const by="6";try{window.__reactRouterVersion=by}catch{}const wy="startTransition",Bf=c6[wy];function xy(t){let{basename:e,children:n,future:r,window:i}=t,s=W.useRef();null==s.current&&(s.current=A6({window:i,v5Compat:!0}));let a=s.current,[o,l]=W.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=W.useCallback((t=>{c&&Bf?Bf((()=>l(t))):l(t)}),[l,c]);return W.useLayoutEffect((()=>a.listen(h)),[a,h]),W.useEffect((()=>py(r)),[r]),W.createElement(my,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var Df,Ff;function _y(t){let e=W.useRef(Kc(t)),n=W.useRef(!1),r=Ya(),i=W.useMemo((()=>yy(r.search,n.current?null:e.current)),[r.search]),s=Q0(),a=W.useCallback(((t,e)=>{const r=Kc("function"==typeof t?t(i):t);n.current=!0,s("?"+r,e)}),[s,i]);return[i,a]}!function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"}(Df||(Df={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Ff||(Ff={}));const Sy="modulepreload",Cy=function(t){return"/"+t},$f={},Ty=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=t?.nonce||t?.getAttribute("nonce");r=Promise.allSettled(e.map((t=>{if((t=Cy(t))in $f)return;$f[t]=!0;const e=t.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const i=document.createElement("link");return i.rel=e?"stylesheet":Sy,e||(i.as="script"),i.crossOrigin="",i.href=t,n&&i.setAttribute("nonce",n),document.head.appendChild(i),e?new Promise(((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}function i(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return r.then((e=>{for(const t of e||[])"rejected"===t.status&&i(t.reason);return t().catch(i)}))};function e1(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Py(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gf(t,e){return t.get(e1(t,e))}function Ay(t,e,n){Py(t,e),e.set(t,n)}function Ny(t,e,n){return t.set(e1(t,e),n),n}const Ly=100,ht={},ky=()=>{ht.previousActiveElement instanceof HTMLElement?(ht.previousActiveElement.focus(),ht.previousActiveElement=null):document.body&&document.body.focus()},Ey=t=>new Promise((e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ht.restoreFocusTimeout=setTimeout((()=>{ky(),e()}),Ly),window.scrollTo(n,r)})),n1="swal2-",My=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],K=My.reduce(((t,e)=>(t[e]=n1+e,t)),{}),Ry=["success","warning","info","question","error"],Ma=Ry.reduce(((t,e)=>(t[e]=n1+e,t)),{}),i1="SweetAlert2:",yh=t=>t.charAt(0).toUpperCase()+t.slice(1),We=t=>{console.warn(`${i1} ${"object"==typeof t?t.join(" "):t}`)},Fi=t=>{console.error(`${i1} ${t}`)},Hf=[],jy=t=>{Hf.includes(t)||(Hf.push(t),We(t))},r1=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;jy(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},qa=t=>"function"==typeof t?t():t,bh=t=>t&&"function"==typeof t.toPromise,gs=t=>bh(t)?t.toPromise():Promise.resolve(t),wh=t=>t&&Promise.resolve(t)===t,ze=()=>document.body.querySelector(`.${K.container}`),ps=t=>{const e=ze();return e?e.querySelector(t):null},nn=t=>ps(`.${t}`),Kt=()=>nn(K.popup),ms=()=>nn(K.icon),Iy=()=>nn(K["icon-content"]),s1=()=>nn(K.title),xh=()=>nn(K["html-container"]),a1=()=>nn(K.image),_h=()=>nn(K["progress-steps"]),Xa=()=>nn(K["validation-message"]),kn=()=>ps(`.${K.actions} .${K.confirm}`),Cr=()=>ps(`.${K.actions} .${K.cancel}`),$i=()=>ps(`.${K.actions} .${K.deny}`),Oy=()=>nn(K["input-label"]),Tr=()=>ps(`.${K.loader}`),vs=()=>nn(K.actions),o1=()=>nn(K.footer),Za=()=>nn(K["timer-progress-bar"]),Sh=()=>nn(K.close),By='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',Ch=()=>{const t=Kt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort(((t,e)=>{const n=parseInt(t.getAttribute("tabindex")||"0"),r=parseInt(e.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0})),r=t.querySelectorAll(By),i=Array.from(r).filter((t=>"-1"!==t.getAttribute("tabindex")));return[...new Set(n.concat(i))].filter((t=>Ve(t)))},Th=()=>Vn(document.body,K.shown)&&!Vn(document.body,K["toast-shown"])&&!Vn(document.body,K["no-backdrop"]),Qa=()=>{const t=Kt();return!!t&&Vn(t,K.toast)},Dy=()=>{const t=Kt();return!!t&&t.hasAttribute("data-loading")},rn=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach((e=>{t.appendChild(e)}));const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach((e=>{e instanceof HTMLVideoElement||e instanceof HTMLAudioElement?t.appendChild(e.cloneNode(!0)):t.appendChild(e)}))}},Vn=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let e=0;e<n.length;e++)if(!t.classList.contains(n[e]))return!1;return!0},Fy=(t,e)=>{Array.from(t.classList).forEach((n=>{!Object.values(K).includes(n)&&!Object.values(Ma).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)}))},en=(t,e,n)=>{if(Fy(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if("string"!=typeof r&&!r.forEach)return void We(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);Bt(t,r)}},Ja=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${K.popup} > .${K[e]}`);case"checkbox":return t.querySelector(`.${K.popup} > .${K.checkbox} input`);case"radio":return t.querySelector(`.${K.popup} > .${K.radio} input:checked`)||t.querySelector(`.${K.popup} > .${K.radio} input:first-child`);case"range":return t.querySelector(`.${K.popup} > .${K.range} input`);default:return t.querySelector(`.${K.popup} > .${K.input}`)}},l1=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},c1=(t,e,n)=>{!t||!e||("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((e=>{Array.isArray(t)?t.forEach((t=>{n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},Bt=(t,e)=>{c1(t,e,!0)},En=(t,e)=>{c1(t,e,!1)},hi=(t,e)=>{const n=Array.from(t.children);for(let t=0;t<n.length;t++){const r=n[t];if(r instanceof HTMLElement&&Vn(r,e))return r}},Bi=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?t.style.setProperty(e,"number"==typeof n?`${n}px`:n):t.style.removeProperty(e)},Ne=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t&&(t.style.display=e)},je=t=>{t&&(t.style.display="none")},Ph=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t&&new MutationObserver((()=>{ys(t,t.innerHTML,e)})).observe(t,{childList:!0,subtree:!0})},Uf=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},ys=function(t,e){e?Ne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):je(t)},Ve=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),$y=()=>!Ve(kn())&&!Ve($i())&&!Ve(Cr()),Kf=t=>t.scrollHeight>t.clientHeight,h1=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Ah=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Za();n&&Ve(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"}),10))},Gy=()=>{const t=Za();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.width=`${n}%`},Hy=()=>typeof window>"u"||typeof document>"u",Uy=`\n <div aria-labelledby="${K.title}" aria-describedby="${K["html-container"]}" class="${K.popup}" tabindex="-1">\n   <button type="button" class="${K.close}"></button>\n   <ul class="${K["progress-steps"]}"></ul>\n   <div class="${K.icon}"></div>\n   <img class="${K.image}" />\n   <h2 class="${K.title}" id="${K.title}"></h2>\n   <div class="${K["html-container"]}" id="${K["html-container"]}"></div>\n   <input class="${K.input}" id="${K.input}" />\n   <input type="file" class="${K.file}" />\n   <div class="${K.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${K.select}" id="${K.select}"></select>\n   <div class="${K.radio}"></div>\n   <label class="${K.checkbox}">\n     <input type="checkbox" id="${K.checkbox}" />\n     <span class="${K.label}"></span>\n   </label>\n   <textarea class="${K.textarea}" id="${K.textarea}"></textarea>\n   <div class="${K["validation-message"]}" id="${K["validation-message"]}"></div>\n   <div class="${K.actions}">\n     <div class="${K.loader}"></div>\n     <button type="button" class="${K.confirm}"></button>\n     <button type="button" class="${K.deny}"></button>\n     <button type="button" class="${K.cancel}"></button>\n   </div>\n   <div class="${K.footer}"></div>\n   <div class="${K["timer-progress-bar-container"]}">\n     <div class="${K["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Ky=()=>{const t=ze();return!!t&&(t.remove(),En([document.documentElement,document.body],[K["no-backdrop"],K["toast-shown"],K["has-column"]]),!0)},Ei=()=>{ht.currentInstance.resetValidationMessage()},Vy=()=>{const t=Kt(),e=hi(t,K.input),n=hi(t,K.file),r=t.querySelector(`.${K.range} input`),i=t.querySelector(`.${K.range} output`),s=hi(t,K.select),a=t.querySelector(`.${K.checkbox} input`),o=hi(t,K.textarea);e.oninput=Ei,n.onchange=Ei,s.onchange=Ei,a.onchange=Ei,o.oninput=Ei,r.oninput=()=>{Ei(),i.value=r.value},r.onchange=()=>{Ei(),i.value=r.value}},Wy=t=>"string"==typeof t?document.querySelector(t):t,zy=t=>{const e=Kt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},Yy=t=>{"rtl"===window.getComputedStyle(t).direction&&Bt(ze(),K.rtl)},qy=t=>{const e=Ky();if(Hy())return void Fi("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=K.container,e&&Bt(n,K["no-transition"]),rn(n,Uy);const r=Wy(t.target);r.appendChild(n),zy(t),Yy(r),Vy()},Nh=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?Xy(t,e):t&&rn(e,t)},Xy=(t,e)=>{t.jquery?Zy(e,t):rn(e,t.toString())},Zy=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Qy=(t,e)=>{const n=vs(),r=Tr();!n||!r||(e.showConfirmButton||e.showDenyButton||e.showCancelButton?Ne(n):je(n),en(n,e,"actions"),Jy(n,r,e),rn(r,e.loaderHtml||""),en(r,e,"loader"))};function Jy(t,e,n){const r=kn(),i=$i(),s=Cr();!r||!i||!s||(bc(r,"confirm",n),bc(i,"deny",n),bc(s,"cancel",n),t8(r,i,s,n),n.reverseButtons&&(n.toast?(t.insertBefore(s,r),t.insertBefore(i,r)):(t.insertBefore(s,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function t8(t,e,n,r){r.buttonsStyling?(Bt([t,e,n],K.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,Bt(t,K["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,Bt(e,K["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,Bt(n,K["default-outline"]))):En([t,e,n],K.styled)}function bc(t,e,n){const r=yh(e);ys(t,n[`show${r}Button`],"inline-block"),rn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=K[e],en(t,n,`${e}Button`)}const e8=(t,e)=>{const n=Sh();n&&(rn(n,e.closeButtonHtml||""),en(n,e,"closeButton"),ys(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},n8=(t,e)=>{const n=ze();n&&(i8(n,e.backdrop),r8(n,e.position),s8(n,e.grow),en(n,e,"container"))};function i8(t,e){"string"==typeof e?t.style.background=e:e||Bt([document.documentElement,document.body],K["no-backdrop"])}function r8(t,e){e&&(e in K?Bt(t,K[e]):(We('The "position" parameter is not valid, defaulting to "center"'),Bt(t,K.center)))}function s8(t,e){e&&Bt(t,K[`grow-${e}`])}var Qt={innerParams:new WeakMap,domCache:new WeakMap};const a8=["input","file","range","select","radio","checkbox","textarea"],o8=(t,e)=>{const n=Kt();if(!n)return;const r=Qt.innerParams.get(t),i=!r||e.input!==r.input;a8.forEach((t=>{const r=hi(n,K[t]);r&&(h8(t,e.inputAttributes),r.className=K[t],i&&je(r))})),e.input&&(i&&l8(e),u8(e))},l8=t=>{if(!t.input)return;if(!me[t.input])return void Fi(`Unexpected type of input! Expected ${Object.keys(me).join(" | ")}, got "${t.input}"`);const e=u1(t.input);if(!e)return;const n=me[t.input](e,t);Ne(e),t.inputAutoFocus&&setTimeout((()=>{l1(n)}))},c8=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},h8=(t,e)=>{const n=Kt();if(!n)return;const r=Ja(n,t);if(r){c8(r);for(const t in e)r.setAttribute(t,e[t])}},u8=t=>{if(!t.input)return;const e=u1(t.input);e&&en(e,t,"input")},Lh=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},bs=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=K["input-label"];r.setAttribute("for",t.id),r.className=i,"object"==typeof n.customClass&&Bt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},u1=t=>{const e=Kt();if(e)return hi(e,K[t]||K.input)},Ra=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:wh(e)||We(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},me={};me.text=me.email=me.password=me.number=me.tel=me.url=me.search=me.date=me["datetime-local"]=me.time=me.week=me.month=(t,e)=>(Ra(t,e.inputValue),bs(t,t,e),Lh(t,e),t.type=e.input,t),me.file=(t,e)=>(bs(t,t,e),Lh(t,e),t),me.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Ra(n,e.inputValue),n.type=e.input,Ra(r,e.inputValue),bs(n,t,e),t},me.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");rn(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return bs(t,t,e),t},me.radio=t=>(t.textContent="",t),me.checkbox=(t,e)=>{const n=Ja(Kt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return rn(r,e.inputPlaceholder||e.inputLabel),n},me.textarea=(t,e)=>{Ra(t,e.inputValue),Lh(t,e),bs(t,t,e);return setTimeout((()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Kt()).width);new MutationObserver((()=>{if(!document.body.contains(t))return;const r=t.offsetWidth+(t=>parseInt(window.getComputedStyle(t).marginLeft)+parseInt(window.getComputedStyle(t).marginRight))(t);r>n?Kt().style.width=`${r}px`:Bi(Kt(),"width",e.width)})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};const d8=(t,e)=>{const n=xh();n&&(Ph(n),en(n,e,"htmlContainer"),e.html?(Nh(e.html,n),Ne(n,"block")):e.text?(n.textContent=e.text,Ne(n,"block")):je(n),o8(t,e))},f8=(t,e)=>{const n=o1();n&&(Ph(n),ys(n,e.footer,"block"),e.footer&&Nh(e.footer,n),en(n,e,"footer"))},g8=(t,e)=>{const n=Qt.innerParams.get(t),r=ms();if(r){if(n&&e.icon===n.icon)return Wf(r,e),void Vf(r,e);if(!e.icon&&!e.iconHtml)return void je(r);if(e.icon&&-1===Object.keys(Ma).indexOf(e.icon))return Fi(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),void je(r);Ne(r),Wf(r,e),Vf(r,e),Bt(r,e.showClass&&e.showClass.icon)}},Vf=(t,e)=>{for(const[n,r]of Object.entries(Ma))e.icon!==n&&En(t,r);Bt(t,e.icon&&Ma[e.icon]),y8(t,e),p8(),en(t,e,"icon")},p8=()=>{const t=Kt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let t=0;t<n.length;t++)n[t].style.backgroundColor=e},m8='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',v8='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',Wf=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=zf(e.iconHtml):"success"===e.icon?(r=m8,n=n.replace(/ style=".*?"/g,"")):"error"===e.icon?r=v8:e.icon&&(r=zf({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&rn(t,r)},y8=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Uf(t,n,"background-color",e.iconColor);Uf(t,".swal2-success-ring","border-color",e.iconColor)}},zf=t=>`<div class="${K["icon-content"]}">${t}</div>`,b8=(t,e)=>{const n=a1();if(n){if(!e.imageUrl)return void je(n);Ne(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Bi(n,"width",e.imageWidth),Bi(n,"height",e.imageHeight),n.className=K.image,en(n,e,"image")}},w8=(t,e)=>{const n=ze(),r=Kt();if(n&&r){if(e.toast){Bi(n,"width",e.width),r.style.width="100%";const t=Tr();t&&r.insertBefore(t,ms())}else Bi(r,"width",e.width);Bi(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),je(Xa()),x8(r,e)}},x8=(t,e)=>{const n=e.showClass||{};t.className=`${K.popup} ${Ve(t)?n.popup:""}`,e.toast?(Bt([document.documentElement,document.body],K["toast-shown"]),Bt(t,K.toast)):Bt(t,K.modal),en(t,e,"popup"),"string"==typeof e.customClass&&Bt(t,e.customClass),e.icon&&Bt(t,K[`icon-${e.icon}`])},_8=(t,e)=>{const n=_h();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;r&&0!==r.length&&void 0!==i?(Ne(n),n.textContent="",i>=r.length&&We("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach(((t,s)=>{const a=S8(t);if(n.appendChild(a),s===i&&Bt(a,K["active-progress-step"]),s!==r.length-1){const t=C8(e);n.appendChild(t)}}))):je(n)},S8=t=>{const e=document.createElement("li");return Bt(e,K["progress-step"]),rn(e,t),e},C8=t=>{const e=document.createElement("li");return Bt(e,K["progress-step-line"]),t.progressStepsDistance&&Bi(e,"width",t.progressStepsDistance),e},T8=(t,e)=>{const n=s1();n&&(Ph(n),ys(n,e.title||e.titleText,"block"),e.title&&Nh(e.title,n),e.titleText&&(n.innerText=e.titleText),en(n,e,"title"))},d1=(t,e)=>{w8(0,e),n8(0,e),_8(0,e),g8(t,e),b8(0,e),T8(0,e),e8(0,e),d8(t,e),Qy(0,e),f8(0,e);const n=Kt();"function"==typeof e.didRender&&n&&e.didRender(n),ht.eventEmitter.emit("didRender",n)},P8=()=>Ve(Kt()),f1=()=>{var t;return null===(t=kn())||void 0===t?void 0:t.click()},A8=()=>{var t;return null===(t=$i())||void 0===t?void 0:t.click()},N8=()=>{var t;return null===(t=Cr())||void 0===t?void 0:t.click()},Pr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),g1=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},L8=(t,e,n)=>{g1(t),e.toast||(t.keydownHandler=t=>E8(e,t,n),t.keydownTarget=e.keydownListenerCapture?window:Kt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Vc=(t,e)=>{var n;const r=Ch();if(r.length)return(t+=e)===r.length?t=0:-1===t&&(t=r.length-1),void r[t].focus();null===(n=Kt())||void 0===n||n.focus()},p1=["ArrowRight","ArrowDown"],k8=["ArrowLeft","ArrowUp"],E8=(t,e,n)=>{t&&(e.isComposing||229===e.keyCode||(t.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?M8(e,t):"Tab"===e.key?R8(e):[...p1,...k8].includes(e.key)?j8(e.key):"Escape"===e.key&&I8(e,t,n)))},M8=(t,e)=>{if(!qa(e.allowEnterKey))return;const n=Ja(Kt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;f1(),t.preventDefault()}},R8=t=>{const e=t.target,n=Ch();let r=-1;for(let t=0;t<n.length;t++)if(e===n[t]){r=t;break}t.shiftKey?Vc(r,-1):Vc(r,1),t.stopPropagation(),t.preventDefault()},j8=t=>{const e=vs(),n=kn(),r=$i(),i=Cr();if(!(e&&n&&r&&i))return;const s=[n,r,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const a=p1.includes(t)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let t=0;t<e.children.length;t++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&Ve(o))break}o instanceof HTMLButtonElement&&o.focus()}},I8=(t,e,n)=>{qa(e.allowEscapeKey)&&(t.preventDefault(),n(Pr.esc))};var vr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const O8=()=>{const t=ze();Array.from(document.body.children).forEach((e=>{e.contains(t)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))}))},m1=()=>{Array.from(document.body.children).forEach((t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},v1=typeof window<"u"&&!!window.GestureEvent,B8=()=>{if(v1&&!Vn(document.body,K.iosfix)){const t=document.body.scrollTop;document.body.style.top=-1*t+"px",Bt(document.body,K.iosfix),D8()}},D8=()=>{const t=ze();if(!t)return;let e;t.ontouchstart=t=>{e=F8(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},F8=t=>{const e=t.target,n=ze(),r=xh();return!(!n||!r||$8(t)||G8(t))&&(e===n||!Kf(n)&&e instanceof HTMLElement&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!(Kf(r)&&r.contains(e)))},$8=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,G8=t=>t.touches&&t.touches.length>1,H8=()=>{if(Vn(document.body,K.iosfix)){const t=parseInt(document.body.style.top,10);En(document.body,K.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},U8=()=>{const t=document.createElement("div");t.className=K["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let pr=null;const K8=t=>{null===pr&&(document.body.scrollHeight>window.innerHeight||"scroll"===t)&&(pr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${pr+U8()}px`)},V8=()=>{null!==pr&&(document.body.style.paddingRight=`${pr}px`,pr=null)};function y1(t,e,n,r){Qa()?Yf(t,r):(Ey(n).then((()=>Yf(t,r))),g1(ht)),v1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Th()&&(V8(),H8(),m1()),W8()}function W8(){En([document.documentElement,document.body],[K.shown,K["height-auto"],K["no-backdrop"],K["toast-shown"]])}function ui(t){t=Y8(t);const e=vr.swalPromiseResolve.get(this),n=z8(this);this.isAwaitingPromise?t.isDismissed||(ws(this),e(t)):n&&e(t)}const z8=t=>{const e=Kt();if(!e)return!1;const n=Qt.innerParams.get(t);if(!n||Vn(e,n.hideClass.popup))return!1;En(e,n.showClass.popup),Bt(e,n.hideClass.popup);const r=ze();return En(r,n.showClass.backdrop),Bt(r,n.hideClass.backdrop),q8(t,e,n),!0};function b1(t){const e=vr.swalPromiseReject.get(this);ws(this),e&&e(t)}const ws=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Qt.innerParams.get(t)||t._destroy())},Y8=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),q8=(t,e,n)=>{var r;const i=ze(),s=h1(e);"function"==typeof n.willClose&&n.willClose(e),null===(r=ht.eventEmitter)||void 0===r||r.emit("willClose",e),s?X8(t,e,i,n.returnFocus,n.didClose):y1(t,i,n.returnFocus,n.didClose)},X8=(t,e,n,r,i)=>{ht.swalCloseEventFinishedCallback=y1.bind(null,t,n,r,i);const s=function(t){var n;t.target===e&&(null===(n=ht.swalCloseEventFinishedCallback)||void 0===n||n.call(ht),delete ht.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s))};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},Yf=(t,e)=>{setTimeout((()=>{var n;"function"==typeof e&&e.bind(t.params)(),null===(n=ht.eventEmitter)||void 0===n||n.emit("didClose"),t._destroy&&t._destroy()}))},yr=t=>{let e=Kt();if(e||new Da,e=Kt(),!e)return;const n=Tr();Qa()?je(ms()):Z8(e,t),Ne(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Z8=(t,e)=>{const n=vs(),r=Tr();!n||!r||(!e&&Ve(kn())&&(e=kn()),Ne(n),e&&(je(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Bt([t,n],K.loading))},Q8=(t,e)=>{"select"===e.input||"radio"===e.input?ib(t,e):["text","email","number","tel","textarea"].some((t=>t===e.input))&&(bh(e.inputValue)||wh(e.inputValue))&&(yr(kn()),rb(t,e))},J8=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return tb(n);case"radio":return eb(n);case"file":return nb(n);default:return e.inputAutoTrim?n.value.trim():n.value}},tb=t=>t.checked?1:0,eb=t=>t.checked?t.value:null,nb=t=>t.files&&t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null,ib=(t,e)=>{const n=Kt();if(!n)return;const r=t=>{"select"===e.input?sb(n,ja(t),e):"radio"===e.input&&ab(n,ja(t),e)};bh(e.inputOptions)||wh(e.inputOptions)?(yr(kn()),gs(e.inputOptions).then((e=>{t.hideLoading(),r(e)}))):"object"==typeof e.inputOptions?r(e.inputOptions):Fi("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof e.inputOptions)},rb=(t,e)=>{const n=t.getInput();n&&(je(n),gs(e.inputValue).then((r=>{n.value="number"===e.input?`${parseFloat(r)||0}`:`${r}`,Ne(n),n.focus(),t.hideLoading()})).catch((e=>{Fi(`Error in inputValue promise: ${e}`),n.value="",Ne(n),n.focus(),t.hideLoading()})))};function sb(t,e,n){const r=hi(t,K.select);if(!r)return;const i=(t,e,r)=>{const i=document.createElement("option");i.value=r,rn(i,e),i.selected=w1(r,n.inputValue),t.appendChild(i)};e.forEach((t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach((e=>i(t,e[1],e[0])))}else i(r,n,e)})),r.focus()}function ab(t,e,n){const r=hi(t,K.radio);if(!r)return;e.forEach((t=>{const e=t[0],i=t[1],s=document.createElement("input"),a=document.createElement("label");s.type="radio",s.name=K.radio,s.value=e,w1(e,n.inputValue)&&(s.checked=!0);const o=document.createElement("span");rn(o,i),o.className=K.label,a.appendChild(s),a.appendChild(o),r.appendChild(a)}));const i=r.querySelectorAll("input");i.length&&i[0].focus()}const ja=t=>{const e=[];return t instanceof Map?t.forEach(((t,n)=>{let r=t;"object"==typeof r&&(r=ja(r)),e.push([n,r])})):Object.keys(t).forEach((n=>{let r=t[n];"object"==typeof r&&(r=ja(r)),e.push([n,r])})),e},w1=(t,e)=>!!e&&e.toString()===t.toString(),ob=t=>{const e=Qt.innerParams.get(t);t.disableButtons(),e.input?x1(t,"confirm"):Eh(t,!0)},lb=t=>{const e=Qt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?x1(t,"deny"):kh(t,!1)},cb=(t,e)=>{t.disableButtons(),e(Pr.cancel)},x1=(t,e)=>{const n=Qt.innerParams.get(t);if(!n.input)return void Fi(`The "input" parameter is needed to be set when using returnInputValueOn${yh(e)}`);const r=t.getInput(),i=J8(t,n);n.inputValidator?hb(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===e?kh(t,i):Eh(t,i)},hb=(t,e,n)=>{const r=Qt.innerParams.get(t);t.disableInput(),Promise.resolve().then((()=>gs(r.inputValidator(e,r.validationMessage)))).then((r=>{t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):"deny"===n?kh(t,e):Eh(t,e)}))},kh=(t,e)=>{const n=Qt.innerParams.get(t||void 0);n.showLoaderOnDeny&&yr($i()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then((()=>gs(n.preDeny(e,n.validationMessage)))).then((n=>{!1===n?(t.hideLoading(),ws(t)):t.close({isDenied:!0,value:typeof n>"u"?e:n})})).catch((e=>_1(t||void 0,e)))):t.close({isDenied:!0,value:e})},qf=(t,e)=>{t.close({isConfirmed:!0,value:e})},_1=(t,e)=>{t.rejectPromise(e)},Eh=(t,e)=>{const n=Qt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&yr(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then((()=>gs(n.preConfirm(e,n.validationMessage)))).then((n=>{Ve(Xa())||!1===n?(t.hideLoading(),ws(t)):qf(t,typeof n>"u"?e:n)})).catch((e=>_1(t||void 0,e)))):qf(t,e)};function Ia(){const t=Qt.innerParams.get(this);if(!t)return;const e=Qt.domCache.get(this);je(e.loader),Qa()?t.icon&&Ne(ms()):ub(e),En([e.popup,e.actions],K.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const ub=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Ne(e[0],"inline-block"):$y()&&je(t.actions)};function S1(){const t=Qt.innerParams.get(this),e=Qt.domCache.get(this);return e?Ja(e.popup,t.input):null}function C1(t,e,n){const r=Qt.domCache.get(t);e.forEach((t=>{r[t].disabled=n}))}function T1(t,e){const n=Kt();if(n&&t)if("radio"===t.type){const t=n.querySelectorAll(`[name="${K.radio}"]`);for(let n=0;n<t.length;n++)t[n].disabled=e}else t.disabled=e}function P1(){C1(this,["confirmButton","denyButton","cancelButton"],!1)}function A1(){C1(this,["confirmButton","denyButton","cancelButton"],!0)}function N1(){T1(this.getInput(),!1)}function L1(){T1(this.getInput(),!0)}function k1(t){const e=Qt.domCache.get(this),n=Qt.innerParams.get(this);rn(e.validationMessage,t),e.validationMessage.className=K["validation-message"],n.customClass&&n.customClass.validationMessage&&Bt(e.validationMessage,n.customClass.validationMessage),Ne(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",K["validation-message"]),l1(r),Bt(r,K.inputerror))}function E1(){const t=Qt.domCache.get(this);t.validationMessage&&je(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),En(e,K.inputerror))}const mr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},db=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],fb={allowEnterKey:void 0},gb=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],M1=t=>Object.prototype.hasOwnProperty.call(mr,t),R1=t=>-1!==db.indexOf(t),j1=t=>fb[t],pb=t=>{M1(t)||We(`Unknown parameter "${t}"`)},mb=t=>{gb.includes(t)&&We(`The parameter "${t}" is incompatible with toasts`)},vb=t=>{const e=j1(t);e&&r1(t,e)},yb=t=>{!1===t.backdrop&&t.allowOutsideClick&&We('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)pb(e),t.toast&&mb(e),vb(e)};function I1(t){const e=Kt(),n=Qt.innerParams.get(this);if(!e||Vn(e,n.hideClass.popup))return void We("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r=bb(t),i=Object.assign({},n,r);d1(this,i),Qt.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const bb=t=>{const e={};return Object.keys(t).forEach((n=>{R1(n)?e[n]=t[n]:We(`Invalid parameter to update: ${n}`)})),e};function O1(){const t=Qt.domCache.get(this),e=Qt.innerParams.get(this);e?(t.popup&&ht.swalCloseEventFinishedCallback&&(ht.swalCloseEventFinishedCallback(),delete ht.swalCloseEventFinishedCallback),"function"==typeof e.didDestroy&&e.didDestroy(),ht.eventEmitter.emit("didDestroy"),wb(this)):B1(this)}const wb=t=>{B1(t),delete t.params,delete ht.keydownHandler,delete ht.keydownTarget,delete ht.currentInstance},B1=t=>{t.isAwaitingPromise?(wc(Qt,t),t.isAwaitingPromise=!0):(wc(vr,t),wc(Qt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},wc=(t,e)=>{for(const n in t)t[n].delete(e)};var xb=Object.freeze({__proto__:null,_destroy:O1,close:ui,closeModal:ui,closePopup:ui,closeToast:ui,disableButtons:A1,disableInput:L1,disableLoading:Ia,enableButtons:P1,enableInput:N1,getInput:S1,handleAwaitingPromise:ws,hideLoading:Ia,rejectPromise:b1,resetValidationMessage:E1,showValidationMessage:k1,update:I1});const _b=(t,e,n)=>{t.toast?Sb(t,e,n):(Tb(e),Pb(e),Ab(t,e,n))},Sb=(t,e,n)=>{e.popup.onclick=()=>{t&&(Cb(t)||t.timer||t.input)||n(Pr.close)}},Cb=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Oa=!1;const Tb=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Oa=!0)}}},Pb=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(e){t.popup.onmouseup=()=>{},(e.target===t.popup||e.target instanceof HTMLElement&&t.popup.contains(e.target))&&(Oa=!0)}}},Ab=(t,e,n)=>{e.container.onclick=r=>{Oa?Oa=!1:r.target===e.container&&qa(t.allowOutsideClick)&&n(Pr.backdrop)}},Nb=t=>"object"==typeof t&&t.jquery,Xf=t=>t instanceof Element||Nb(t),Lb=t=>{const e={};return"object"!=typeof t[0]||Xf(t[0])?["title","html","icon"].forEach(((n,r)=>{const i=t[r];"string"==typeof i||Xf(i)?e[n]=i:void 0!==i&&Fi(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)})):Object.assign(e,t[0]),e};function kb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function Eb(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}}const Mb=()=>ht.timeout&&ht.timeout.getTimerLeft(),D1=()=>{if(ht.timeout)return Gy(),ht.timeout.stop()},F1=()=>{if(ht.timeout){const t=ht.timeout.start();return Ah(t),t}},Rb=()=>{const t=ht.timeout;return t&&(t.running?D1():F1())},jb=t=>{if(ht.timeout){const e=ht.timeout.increase(t);return Ah(e,!0),e}},Ib=()=>!(!ht.timeout||!ht.timeout.isRunning());let Zf=!1;const Wc={};function Ob(){Wc[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Zf||(document.body.addEventListener("click",Bb),Zf=!0)}const Bb=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in Wc){const n=e.getAttribute(t);if(n)return void Wc[t].fire({template:n})}};class Db{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){const n=this._getHandlersByEventName(t);n.includes(e)||n.push(e)}once(t,e){var n=this;const r=function(){n.removeListener(t,r);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];e.apply(n,s)};this.on(t,r)}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._getHandlersByEventName(t).forEach((t=>{try{t.apply(this,n)}catch(t){console.error(t)}}))}removeListener(t,e){const n=this._getHandlersByEventName(t),r=n.indexOf(e);r>-1&&n.splice(r,1)}removeAllListeners(t){void 0!==this.events[t]&&(this.events[t].length=0)}reset(){this.events={}}}ht.eventEmitter=new Db;const Fb=(t,e)=>{ht.eventEmitter.on(t,e)},$b=(t,e)=>{ht.eventEmitter.once(t,e)},Gb=(t,e)=>{t?e?ht.eventEmitter.removeListener(t,e):ht.eventEmitter.removeAllListeners(t):ht.eventEmitter.reset()};var Hb=Object.freeze({__proto__:null,argsToParams:Lb,bindClickHandler:Ob,clickCancel:N8,clickConfirm:f1,clickDeny:A8,enableLoading:yr,fire:kb,getActions:vs,getCancelButton:Cr,getCloseButton:Sh,getConfirmButton:kn,getContainer:ze,getDenyButton:$i,getFocusableElements:Ch,getFooter:o1,getHtmlContainer:xh,getIcon:ms,getIconContent:Iy,getImage:a1,getInputLabel:Oy,getLoader:Tr,getPopup:Kt,getProgressSteps:_h,getTimerLeft:Mb,getTimerProgressBar:Za,getTitle:s1,getValidationMessage:Xa,increaseTimer:jb,isDeprecatedParameter:j1,isLoading:Dy,isTimerRunning:Ib,isUpdatableParameter:R1,isValidParameter:M1,isVisible:P8,mixin:Eb,off:Gb,on:Fb,once:$b,resumeTimer:F1,showLoading:yr,stopTimer:D1,toggleTimer:Rb});class Ub{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const $1=["swal-title","swal-html","swal-footer"],Kb=t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return Qb(n),Object.assign(Vb(n),Wb(n),zb(n),Yb(n),qb(n),Xb(n),Zb(n,$1))},Vb=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach((t=>{Di(t,["name","value"]);const n=t.getAttribute("name"),r=t.getAttribute("value");!n||!r||(e[n]="boolean"==typeof mr[n]?"false"!==r:"object"==typeof mr[n]?JSON.parse(r):r)})),e},Wb=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach((t=>{const n=t.getAttribute("name"),r=t.getAttribute("value");!n||!r||(e[n]=new Function(`return ${r}`)())})),e},zb=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach((t=>{Di(t,["type","color","aria-label"]);const n=t.getAttribute("type");!n||!["confirm","cancel","deny"].includes(n)||(e[`${n}ButtonText`]=t.innerHTML,e[`show${yh(n)}Button`]=!0,t.hasAttribute("color")&&(e[`${n}ButtonColor`]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e[`${n}ButtonAriaLabel`]=t.getAttribute("aria-label")))})),e},Yb=t=>{const e={},n=t.querySelector("swal-image");return n&&(Di(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},qb=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Di(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Xb=t=>{const e={},n=t.querySelector("swal-input");n&&(Di(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach((t=>{Di(t,["value"]);const n=t.getAttribute("value");if(!n)return;const r=t.innerHTML;e.inputOptions[n]=r}))),e},Zb=(t,e)=>{const n={};for(const r in e){const i=e[r],s=t.querySelector(i);s&&(Di(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Qb=t=>{const e=$1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach((t=>{const n=t.tagName.toLowerCase();e.includes(n)||We(`Unrecognized element <${n}>`)}))},Di=(t,e)=>{Array.from(t.attributes).forEach((n=>{-1===e.indexOf(n.name)&&We([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,""+(e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element.")])}))},G1=10,Jb=t=>{const e=ze(),n=Kt();"function"==typeof t.willOpen&&t.willOpen(n),ht.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;nw(e,n,t),setTimeout((()=>{tw(e,n)}),10),Th()&&(ew(e,t.scrollbarPadding,r),O8()),!Qa()&&!ht.previousActiveElement&&(ht.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout((()=>t.didOpen(n))),ht.eventEmitter.emit("didOpen",n),En(e,K["no-transition"])},Ba=t=>{const e=Kt();if(t.target!==e)return;const n=ze();e.removeEventListener("animationend",Ba),e.removeEventListener("transitionend",Ba),n.style.overflowY="auto"},tw=(t,e)=>{h1(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Ba),e.addEventListener("transitionend",Ba)):t.style.overflowY="auto"},ew=(t,e,n)=>{B8(),e&&"hidden"!==n&&K8(n),setTimeout((()=>{t.scrollTop=0}))},nw=(t,e,n)=>{Bt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Ne(e,"grid"),setTimeout((()=>{Bt(e,n.showClass.popup),e.style.removeProperty("opacity")}),10)):Ne(e,"grid"),Bt([document.documentElement,document.body],K.shown),n.heightAuto&&n.backdrop&&!n.toast&&Bt([document.documentElement,document.body],K["height-auto"])};var Qf={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function iw(t){t.inputValidator||("email"===t.input&&(t.inputValidator=Qf.email),"url"===t.input&&(t.inputValidator=Qf.url))}function rw(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(We('Target parameter is not valid, defaulting to "body"'),t.target="body")}function sw(t){iw(t),t.showLoaderOnConfirm&&!t.preConfirm&&We("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),rw(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),qy(t)}let Nn;var va=new WeakMap;class ve{constructor(){if(Ay(this,va,void 0),typeof window>"u")return;Nn=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,Ny(va,this,this._main(Nn.params))}_main(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(yb(Object.assign({},e,t)),ht.currentInstance){const t=vr.swalPromiseResolve.get(ht.currentInstance),{isAwaitingPromise:e}=ht.currentInstance;ht.currentInstance._destroy(),e||t({isDismissed:!0}),Th()&&m1()}ht.currentInstance=Nn;const n=ow(t,e);sw(n),Object.freeze(n),ht.timeout&&(ht.timeout.stop(),delete ht.timeout),clearTimeout(ht.restoreFocusTimeout);const r=lw(Nn);return d1(Nn,n),Qt.innerParams.set(Nn,n),aw(Nn,r,n)}then(t){return Gf(va,this).then(t)}finally(t){return Gf(va,this).finally(t)}}const aw=(t,e,n)=>new Promise(((r,i)=>{const s=e=>{t.close({isDismissed:!0,dismiss:e})};vr.swalPromiseResolve.set(t,r),vr.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{ob(t)},e.denyButton.onclick=()=>{lb(t)},e.cancelButton.onclick=()=>{cb(t,s)},e.closeButton.onclick=()=>{s(Pr.close)},_b(n,e,s),L8(ht,n,s),Q8(t,n),Jb(n),cw(ht,n,s),hw(e,n),setTimeout((()=>{e.container.scrollTop=0}))})),ow=(t,e)=>{const n=Kb(t),r=Object.assign({},mr,e,n,t);return r.showClass=Object.assign({},mr.showClass,r.showClass),r.hideClass=Object.assign({},mr.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},lw=t=>{const e={popup:Kt(),container:ze(),actions:vs(),confirmButton:kn(),denyButton:$i(),cancelButton:Cr(),loader:Tr(),closeButton:Sh(),validationMessage:Xa(),progressSteps:_h()};return Qt.domCache.set(t,e),e},cw=(t,e,n)=>{const r=Za();je(r),e.timer&&(t.timeout=new Ub((()=>{n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(Ne(r),en(r,e,"timerProgressBar"),setTimeout((()=>{t.timeout&&t.timeout.running&&Ah(e.timer)}))))},hw=(t,e)=>{if(!e.toast){if(!qa(e.allowEnterKey))return r1("allowEnterKey"),void fw();uw(t)||dw(t,e)||Vc(-1,1)}},uw=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Ve(t))return t.focus(),!0;return!1},dw=(t,e)=>e.focusDeny&&Ve(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ve(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!Ve(t.confirmButton))&&(t.confirmButton.focus(),!0),fw=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout((()=>{t.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${t}`)}ve.prototype.disableButtons=A1,ve.prototype.enableButtons=P1,ve.prototype.getInput=S1,ve.prototype.disableInput=L1,ve.prototype.enableInput=N1,ve.prototype.hideLoading=Ia,ve.prototype.disableLoading=Ia,ve.prototype.showValidationMessage=k1,ve.prototype.resetValidationMessage=E1,ve.prototype.close=ui,ve.prototype.closePopup=ui,ve.prototype.closeModal=ui,ve.prototype.closeToast=ui,ve.prototype.rejectPromise=b1,ve.prototype.update=I1,ve.prototype._destroy=O1,Object.assign(ve,Hb),Object.keys(xb).forEach((t=>{ve[t]=function(){return Nn&&Nn[t]?Nn[t](...arguments):null}})),ve.DismissReason=Pr,ve.version="11.14.5";const Da=ve;Da.default=Da,typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const Jf=[{key:"title",getter:t=>t.getTitle()},{key:"html",getter:t=>t.getHtmlContainer()},{key:"confirmButtonText",getter:t=>t.getConfirmButton()},{key:"denyButtonText",getter:t=>t.getDenyButton()},{key:"cancelButtonText",getter:t=>t.getCancelButton()},{key:"footer",getter:t=>t.getFooter()},{key:"closeButtonHtml",getter:t=>t.getCloseButton()},{key:"iconHtml",getter:t=>t.getIconContent()},{key:"loaderHtml",getter:t=>t.getLoader()}],xc=()=>{};function gw(t){function e(t){const e={},n={},r=Jf.map((t=>t.key));return Object.entries(t).forEach((t=>{let[i,s]=t;r.includes(i)&&gr.isValidElement(s)?(e[i]=s,n[i]=" "):n[i]=s})),[e,n]}function n(e,n){Object.entries(n).forEach((n=>{let[r,i]=n;const s=Jf.find((t=>t.key===r)).getter(t),a=h6(s);a.render(i),e.__roots.push(a)}))}function r(t){t.__roots.forEach((t=>{t.unmount()})),t.__roots=[]}return class extends t{static argsToParams(e){if(gr.isValidElement(e[0])||gr.isValidElement(e[1])){const t={};return["title","html","icon"].forEach(((n,r)=>{void 0!==e[r]&&(t[n]=e[r])})),t}return t.argsToParams(e)}_main(t,i){this.__roots=[],this.__params=Object.assign({},i,t);const[s,a]=e(this.__params),o=a.willOpen||xc,l=a.didOpen||xc,c=a.didDestroy||xc;return super._main(Object.assign({},a,{willOpen:t=>{n(this,s),o(t)},didOpen:t=>{setTimeout((()=>{l(t)}))},didDestroy:t=>{c(t),r(this)}}))}update(t){Object.assign(this.__params,t),r(this);const[i,s]=e(this.__params);super.update(s),n(this,i)}}}var Fa={exports:{}};Fa.exports,function(t,e){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",a=16,o=32,l=64,c=128,h=256,d=1/0,u=9007199254740991,f=NaN,p=4294967295,g=p-1,m=p>>>1,v=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",o],["partialRight",l],["rearg",h]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",w="[object Date]",_="[object Error]",S="[object Function]",C="[object GeneratorFunction]",T="[object Map]",k="[object Number]",j="[object Object]",P="[object Promise]",N="[object RegExp]",A="[object Set]",L="[object String]",M="[object Symbol]",E="[object WeakMap]",D="[object ArrayBuffer]",B="[object DataView]",F="[object Float32Array]",O="[object Float64Array]",R="[object Int8Array]",I="[object Int16Array]",K="[object Int32Array]",G="[object Uint8Array]",U="[object Uint8ClampedArray]",$="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(q.source),Z=RegExp(Y.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,st=RegExp(it.source),at=/^\s+/,ot=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ht=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",Tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",jt="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Nt="\\ufe0e\\ufe0f",At="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="['’]",Mt="["+Ct+"]",Et="["+At+"]",Dt="["+Tt+"]",Bt="\\d+",Ft="["+kt+"]",Ot="["+jt+"]",Rt="[^"+Ct+At+Bt+kt+jt+Pt+"]",It="\\ud83c[\\udffb-\\udfff]",Kt="[^"+Ct+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="["+Pt+"]",Ht="\\u200d",Wt="(?:"+Ot+"|"+Rt+")",Vt="(?:"+$t+"|"+Rt+")",zt="(?:['’](?:d|ll|m|re|s|t|ve))?",qt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Dt+"|"+It+")"+"?",Xt="["+Nt+"]?",Zt=Xt+Yt+("(?:"+Ht+"(?:"+[Kt,Gt,Ut].join("|")+")"+Xt+Yt+")*"),Qt="(?:"+[Ft,Gt,Ut].join("|")+")"+Zt,Jt="(?:"+[Kt+Dt+"?",Dt,Gt,Ut,Mt].join("|")+")",te=RegExp(Lt,"g"),ee=RegExp(Dt,"g"),ne=RegExp(It+"(?="+It+")|"+Jt+Zt,"g"),re=RegExp([$t+"?"+Ot+"+"+zt+"(?="+[Et,$t,"$"].join("|")+")",Vt+"+"+qt+"(?="+[Et,$t+Wt,"$"].join("|")+")",$t+"?"+Wt+"+"+zt,$t+"+"+qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt,Qt].join("|"),"g"),ie=RegExp("["+Ht+Ct+Tt+Nt+"]"),se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oe=-1,le={};le[F]=le[O]=le[R]=le[I]=le[K]=le[G]=le[U]=le[$]=le[H]=!0,le[y]=le[b]=le[D]=le[x]=le[B]=le[w]=le[_]=le[S]=le[T]=le[k]=le[j]=le[N]=le[A]=le[L]=le[E]=!1;var ce={};ce[y]=ce[b]=ce[D]=ce[B]=ce[x]=ce[w]=ce[F]=ce[O]=ce[R]=ce[I]=ce[K]=ce[T]=ce[k]=ce[j]=ce[N]=ce[A]=ce[L]=ce[M]=ce[G]=ce[U]=ce[$]=ce[H]=!0,ce[_]=ce[S]=ce[E]=!1;var he={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},de=parseFloat,ue=parseInt,fe="object"==typeof Ii&&Ii&&Ii.Object===Object&&Ii,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=fe||pe||Function("return this")(),me=e&&!e.nodeType&&e,ve=me&&t&&!t.nodeType&&t,ye=ve&&ve.exports===me,be=ye&&fe.process,xe=function(){try{return ve&&ve.require&&ve.require("util").types||be&&be.binding&&be.binding("util")}catch{}}(),we=xe&&xe.isArrayBuffer,_e=xe&&xe.isDate,Se=xe&&xe.isMap,Ce=xe&&xe.isRegExp,Te=xe&&xe.isSet,ke=xe&&xe.isTypedArray;function je(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Pe(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var a=t[i];e(r,a,n(a),t)}return r}function Ne(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Me(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function Ee(t,e){return!!(null==t?0:t.length)&&$e(t,e,0)>-1}function De(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Be(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Fe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Oe(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Re(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ke=ze("length");function Ge(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ue(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function $e(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ue(t,We,n)}function He(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function We(t){return t!=t}function Ve(t,e){var n=null==t?0:t.length;return n?Xe(t,e)/n:f}function ze(t){return function(e){return null==e?n:e[t]}}function qe(t){return function(e){return null==t?n:t[e]}}function Ye(t,e,n,r,i){return i(t,(function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)})),n}function Xe(t,e){for(var r,i=-1,s=t.length;++i<s;){var a=e(t[i]);a!==n&&(r=r===n?a:r+a)}return r}function Ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Qe(t){return t&&t.slice(0,gn(t)+1).replace(at,"")}function Je(t){return function(e){return t(e)}}function tn(t,e){return Be(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&$e(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&$e(e,t[n],0)>-1;);return n}var sn=qe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(t){return"\\"+he[t]}function ln(t){return ie.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function hn(t,e){return function(n){return t(e(n))}}function dn(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n];(o===e||o===s)&&(t[n]=s,a[i++]=n)}return a}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function fn(t){return ln(t)?function(t){for(var e=ne.lastIndex=0;ne.test(t);)++e;return e}(t):Ke(t)}function pn(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&ot.test(t.charAt(e)););return e}var mn=qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var ot,Ct=(e=null==e?ge:vn.defaults(ge.Object(),e,vn.pick(ge,ae))).Array,Tt=e.Date,kt=e.Error,jt=e.Function,Pt=e.Math,Nt=e.Object,At=e.RegExp,Lt=e.String,Mt=e.TypeError,Et=Ct.prototype,Dt=jt.prototype,Bt=Nt.prototype,Ft=e["__core-js_shared__"],Ot=Dt.toString,Rt=Bt.hasOwnProperty,It=0,Kt=(ot=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||""))?"Symbol(src)_1."+ot:"",Gt=Bt.toString,Ut=Ot.call(Nt),$t=ge._,Ht=At("^"+Ot.call(Rt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ye?e.Buffer:n,Vt=e.Symbol,zt=e.Uint8Array,qt=Wt?Wt.allocUnsafe:n,Yt=hn(Nt.getPrototypeOf,Nt),Xt=Nt.create,Zt=Bt.propertyIsEnumerable,Qt=Et.splice,Jt=Vt?Vt.isConcatSpreadable:n,ne=Vt?Vt.iterator:n,ie=Vt?Vt.toStringTag:n,he=function(){try{var t=fs(Nt,"defineProperty");return t({},"",{}),t}catch{}}(),fe=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,pe=Tt&&Tt.now!==ge.Date.now&&Tt.now,me=e.setTimeout!==ge.setTimeout&&e.setTimeout,ve=Pt.ceil,be=Pt.floor,xe=Nt.getOwnPropertySymbols,Ke=Wt?Wt.isBuffer:n,qe=e.isFinite,yn=Et.join,bn=hn(Nt.keys,Nt),xn=Pt.max,wn=Pt.min,_n=Tt.now,Sn=e.parseInt,Cn=Pt.random,Tn=Et.reverse,kn=fs(e,"DataView"),jn=fs(e,"Map"),Pn=fs(e,"Promise"),Nn=fs(e,"Set"),An=fs(e,"WeakMap"),Ln=fs(Nt,"create"),Mn=An&&new An,En={},Dn=Is(kn),Bn=Is(jn),Fn=Is(Pn),On=Is(Nn),Rn=Is(An),In=Vt?Vt.prototype:n,Kn=In?In.valueOf:n,Gn=In?In.toString:n;function Un(t){if(no(t)&&!Wa(t)&&!(t instanceof Vn)){if(t instanceof Wn)return t;if(Rt.call(t,"__wrapped__"))return Ks(t)}return new Wn(t)}var $n=function(){function t(){}return function(e){if(!eo(e))return{};if(Xt)return Xt(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function Hn(){}function Wn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function Vn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new qn(t);this.size=e.size}function Qn(t,e){var n=Wa(t),r=!n&&Ha(t),i=!n&&!r&&Ya(t),s=!n&&!r&&!i&&ho(t),a=n||r||i||s,o=a?Ze(t.length,Lt):[],l=o.length;for(var c in t)(e||Rt.call(t,c))&&(!a||!("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xs(c,l)))&&o.push(c);return o}function Jn(t){var e=t.length;return e?t[Xr(0,e-1)]:n}function tr(t,e){return Fs(Li(t),cr(e,0,t.length))}function er(t){return Fs(Li(t))}function nr(t,e,r){(r!==n&&!Ga(t[e],r)||r===n&&!(e in t))&&or(t,e,r)}function rr(t,e,r){var i=t[e];(!Rt.call(t,e)||!Ga(i,r)||r===n&&!(e in t))&&or(t,e,r)}function ir(t,e){for(var n=t.length;n--;)if(Ga(t[n][0],e))return n;return-1}function sr(t,e,n,r){return pr(t,(function(t,i,s){e(r,t,n(t),s)})),r}function ar(t,e){return t&&Mi(e,Eo(e),t)}function or(t,e,n){"__proto__"==e&&he?he(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function lr(t,e){for(var r=-1,i=e.length,s=Ct(i),a=null==t;++r<i;)s[r]=a?n:Po(t,e[r]);return s}function cr(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function hr(t,e,r,i,s,a){var o,l=1&e,c=2&e,h=4&e;if(r&&(o=s?r(t,i,s,a):r(t)),o!==n)return o;if(!eo(t))return t;var d=Wa(t);if(d){if(o=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return Li(t,o)}else{var u=ms(t),f=u==S||u==C;if(Ya(t))return Ti(t,l);if(u==j||u==y||f&&!s){if(o=c||f?{}:ys(t),!l)return c?function(t,e){return Mi(t,gs(t),e)}(t,function(t,e){return t&&Mi(e,Do(e),t)}(o,t)):function(t,e){return Mi(t,ps(t),e)}(t,ar(o,t))}else{if(!ce[u])return s?t:{};o=function(t,e,n){var r=t.constructor;switch(e){case D:return ki(t);case x:case w:return new r(+t);case B:return function(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case F:case O:case R:case I:case K:case G:case U:case $:case H:return ji(t,n);case T:return new r;case k:case L:return new r(t);case N:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new r;case M:return function(t){return Kn?Nt(Kn.call(t)):{}}(t)}}(t,u,l)}}a||(a=new Zn);var p=a.get(t);if(p)return p;a.set(t,o),oo(t)?t.forEach((function(n){o.add(hr(n,e,r,n,t,a))})):ro(t)&&t.forEach((function(n,i){o.set(i,hr(n,e,r,i,t,a))}));var g=d?n:(h?c?as:ss:c?Do:Eo)(t);return Ne(g||t,(function(n,i){g&&(n=t[i=n]),rr(o,i,hr(n,e,r,i,t,a))})),o}function dr(t,e,r){var i=r.length;if(null==t)return!i;for(t=Nt(t);i--;){var s=r[i],a=e[s],o=t[s];if(o===n&&!(s in t)||!a(o))return!1}return!0}function ur(t,e,i){if("function"!=typeof t)throw new Mt(r);return Ms((function(){t.apply(n,i)}),e)}function fr(t,e,n,r){var i=-1,s=Ee,a=!0,o=t.length,l=[],c=e.length;if(!o)return l;n&&(e=Be(e,Je(n))),r?(s=De,a=!1):e.length>=200&&(s=en,a=!1,e=new Xn(e));t:for(;++i<o;){var h=t[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,a&&d==d){for(var u=c;u--;)if(e[u]===d)continue t;l.push(h)}else s(e,d,r)||l.push(h)}return l}Un.templateSettings={escape:Q,evaluate:J,interpolate:tt,variable:"",imports:{_:Un}},Un.prototype=Hn.prototype,Un.prototype.constructor=Un,Wn.prototype=$n(Hn.prototype),Wn.prototype.constructor=Wn,Vn.prototype=$n(Hn.prototype),Vn.prototype.constructor=Vn,zn.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zn.prototype.get=function(t){var e=this.__data__;if(Ln){var r=e[t];return r===i?n:r}return Rt.call(e,t)?e[t]:n},zn.prototype.has=function(t){var e=this.__data__;return Ln?e[t]!==n:Rt.call(e,t)},zn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ln&&e===n?i:e,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=ir(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},qn.prototype.get=function(t){var e=this.__data__,r=ir(e,t);return r<0?n:e[r][1]},qn.prototype.has=function(t){return ir(this.__data__,t)>-1},qn.prototype.set=function(t,e){var n=this.__data__,r=ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(jn||qn),string:new zn}},Yn.prototype.delete=function(t){var e=ds(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return ds(this,t).get(t)},Yn.prototype.has=function(t){return ds(this,t).has(t)},Yn.prototype.set=function(t,e){var n=ds(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(t){return this.__data__.set(t,i),this},Xn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new qn,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!jn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(t,e),this.size=n.size,this};var pr=Bi(_r),gr=Bi(Sr,!0);function mr(t,e){var n=!0;return pr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function vr(t,e,r){for(var i=-1,s=t.length;++i<s;){var a=t[i],o=e(a);if(null!=o&&(l===n?o==o&&!co(o):r(o,l)))var l=o,c=a}return c}function yr(t,e){var n=[];return pr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function br(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=bs),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?br(o,e-1,n,r,i):Fe(i,o):r||(i[i.length]=o)}return i}var xr=Fi(),wr=Fi(!0);function _r(t,e){return t&&xr(t,e,Eo)}function Sr(t,e){return t&&wr(t,e,Eo)}function Cr(t,e){return Me(e,(function(e){return Qa(t[e])}))}function Tr(t,e){for(var r=0,i=(e=wi(e,t)).length;null!=t&&r<i;)t=t[Rs(e[r++])];return r&&r==i?t:n}function kr(t,e,n){var r=e(t);return Wa(t)?r:Fe(r,n(t))}function jr(t){return null==t?t===n?"[object Undefined]":"[object Null]":ie&&ie in Nt(t)?function(t){var e=Rt.call(t,ie),r=t[ie];try{t[ie]=n;var i=!0}catch{}var s=Gt.call(t);return i&&(e?t[ie]=r:delete t[ie]),s}(t):function(t){return Gt.call(t)}(t)}function Pr(t,e){return t>e}function Nr(t,e){return null!=t&&Rt.call(t,e)}function Ar(t,e){return null!=t&&e in Nt(t)}function Lr(t,e,r){for(var i=r?De:Ee,s=t[0].length,a=t.length,o=a,l=Ct(a),c=1/0,h=[];o--;){var d=t[o];o&&e&&(d=Be(d,Je(e))),c=wn(d.length,c),l[o]=!r&&(e||s>=120&&d.length>=120)?new Xn(o&&d):n}d=t[0];var u=-1,f=l[0];t:for(;++u<s&&h.length<c;){var p=d[u],g=e?e(p):p;if(p=r||0!==p?p:0,!(f?en(f,g):i(h,g,r))){for(o=a;--o;){var m=l[o];if(!(m?en(m,g):i(t[o],g,r)))continue t}f&&f.push(g),h.push(p)}}return h}function Mr(t,e,r){var i=null==(t=Ns(t,e=wi(e,t)))?t:t[Rs(Zs(e))];return null==i?n:je(i,t,r)}function Er(t){return no(t)&&jr(t)==y}function Dr(t,e,r,i,s){return t===e||(null==t||null==e||!no(t)&&!no(e)?t!=t&&e!=e:function(t,e,r,i,s,a){var o=Wa(t),l=Wa(e),c=o?b:ms(t),h=l?b:ms(e),d=(c=c==y?j:c)==j,u=(h=h==y?j:h)==j,f=c==h;if(f&&Ya(t)){if(!Ya(e))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new Zn),o||ho(t)?rs(t,e,r,i,s,a):function(t,e,n,r,i,s,a){switch(n){case B:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!s(new zt(t),new zt(e)));case x:case w:case k:return Ga(+t,+e);case _:return t.name==e.name&&t.message==e.message;case N:case L:return t==e+"";case T:var o=cn;case A:var l=1&r;if(o||(o=un),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var h=rs(o(t),o(e),r,i,s,a);return a.delete(t),h;case M:if(Kn)return Kn.call(t)==Kn.call(e)}return!1}(t,e,c,r,i,s,a);if(!(1&r)){var p=d&&Rt.call(t,"__wrapped__"),g=u&&Rt.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return a||(a=new Zn),s(m,v,r,i,a)}}return!!f&&(a||(a=new Zn),function(t,e,r,i,s,a){var o=1&r,l=ss(t),c=l.length,h=ss(e),d=h.length;if(c!=d&&!o)return!1;for(var u=c;u--;){var f=l[u];if(!(o?f in e:Rt.call(e,f)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=o;++u<c;){var y=t[f=l[u]],b=e[f];if(i)var x=o?i(b,y,f,e,t,a):i(y,b,f,t,e,a);if(!(x===n?y===b||s(y,b,r,i,a):x)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return a.delete(t),a.delete(e),m}(t,e,r,i,s,a))}(t,e,r,i,Dr,s))}function Br(t,e,r,i){var s=r.length,a=s,o=!i;if(null==t)return!a;for(t=Nt(t);s--;){var l=r[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){var c=(l=r[s])[0],h=t[c],d=l[1];if(o&&l[2]){if(h===n&&!(c in t))return!1}else{var u=new Zn;if(i)var f=i(h,d,c,t,e,u);if(!(f===n?Dr(d,h,3,i,u):f))return!1}}return!0}function Fr(t){return!(!eo(t)||function(t){return!!Kt&&Kt in t}(t))&&(Qa(t)?Ht:yt).test(Is(t))}function Or(t){return"function"==typeof t?t:null==t?sl:"object"==typeof t?Wa(t)?$r(t[0],t[1]):Ur(t):pl(t)}function Rr(t){if(!Ts(t))return bn(t);var e=[];for(var n in Nt(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ir(t){if(!eo(t))return function(t){var e=[];if(null!=t)for(var n in Nt(t))e.push(n);return e}(t);var e=Ts(t),n=[];for(var r in t)"constructor"==r&&(e||!Rt.call(t,r))||n.push(r);return n}function Kr(t,e){return t<e}function Gr(t,e){var n=-1,r=za(t)?Ct(t.length):[];return pr(t,(function(t,i,s){r[++n]=e(t,i,s)})),r}function Ur(t){var e=us(t);return 1==e.length&&e[0][2]?js(e[0][0],e[0][1]):function(n){return n===t||Br(n,t,e)}}function $r(t,e){return _s(t)&&ks(e)?js(Rs(t),e):function(r){var i=Po(r,t);return i===n&&i===e?No(r,t):Dr(e,i,3)}}function Hr(t,e,r,i,s){t!==e&&xr(e,(function(a,o){if(s||(s=new Zn),eo(a))!function(t,e,r,i,s,a,o){var l=As(t,r),c=As(e,r),h=o.get(c);if(h)return void nr(t,r,h);var d=a?a(l,c,r+"",t,e,o):n,u=d===n;if(u){var f=Wa(c),p=!f&&Ya(c),g=!f&&!p&&ho(c);d=c,f||p||g?Wa(l)?d=l:qa(l)?d=Li(l):p?(u=!1,d=Ti(c,!0)):g?(u=!1,d=ji(c,!0)):d=[]:so(c)||Ha(c)?(d=l,Ha(l)?d=bo(l):(!eo(l)||Qa(l))&&(d=ys(c))):u=!1}u&&(o.set(c,d),s(d,c,i,a,o),o.delete(c)),nr(t,r,d)}(t,e,o,r,Hr,i,s);else{var l=i?i(As(t,o),a,o+"",t,e,s):n;l===n&&(l=a),nr(t,o,l)}}),Do)}function Wr(t,e){var r=t.length;if(r)return xs(e+=e<0?r:0,r)?t[e]:n}function Vr(t,e,n){e=e.length?Be(e,(function(t){return Wa(t)?function(e){return Tr(e,1===t.length?t[0]:t)}:t})):[sl];var r=-1;return e=Be(e,Je(hs())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Gr(t,(function(t,n,i){return{criteria:Be(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=Pi(i[r],s[r]);if(l)return r>=o?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function zr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var a=e[r],o=Tr(t,a);n(o,a)&&ei(s,wi(a,t),o)}return s}function qr(t,e,n,r){var i=r?He:$e,s=-1,a=e.length,o=t;for(t===e&&(e=Li(e)),n&&(o=Be(t,Je(n)));++s<a;)for(var l=0,c=e[s],h=n?n(c):c;(l=i(o,h,l,r))>-1;)o!==t&&Qt.call(o,l,1),Qt.call(t,l,1);return t}function Yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;xs(i)?Qt.call(t,i,1):fi(t,i)}}return t}function Xr(t,e){return t+be(Cn()*(e-t+1))}function Zr(t,e){var n="";if(!t||e<1||e>u)return n;do{e%2&&(n+=t),(e=be(e/2))&&(t+=t)}while(e);return n}function Qr(t,e){return Es(Ps(t,e,sl),t+"")}function Jr(t){return Jn(Uo(t))}function ti(t,e){var n=Uo(t);return Fs(n,cr(e,0,n.length))}function ei(t,e,r,i){if(!eo(t))return t;for(var s=-1,a=(e=wi(e,t)).length,o=a-1,l=t;null!=l&&++s<a;){var c=Rs(e[s]),h=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=o){var d=l[c];(h=i?i(d,c,l):n)===n&&(h=eo(d)?d:xs(e[s+1])?[]:{})}rr(l,c,h),l=l[c]}return t}var ni=Mn?function(t,e){return Mn.set(t,e),t}:sl,ri=he?function(t,e){return he(t,"toString",{configurable:!0,enumerable:!1,value:nl(e),writable:!0})}:sl;function ii(t){return Fs(Uo(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Ct(i);++r<i;)s[r]=t[r+e];return s}function ai(t,e){var n;return pr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function oi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=m){for(;r<i;){var s=r+i>>>1,a=t[s];null!==a&&!co(a)&&(n?a<=e:a<e)?r=s+1:i=s}return i}return li(t,e,sl,n)}function li(t,e,r,i){var s=0,a=null==t?0:t.length;if(0===a)return 0;for(var o=(e=r(e))!=e,l=null===e,c=co(e),h=e===n;s<a;){var d=be((s+a)/2),u=r(t[d]),f=u!==n,p=null===u,m=u==u,v=co(u);if(o)var y=i||m;else y=h?m&&(i||f):l?m&&f&&(i||!p):c?m&&f&&!p&&(i||!v):!p&&!v&&(i?u<=e:u<e);y?s=d+1:a=d}return wn(a,g)}function ci(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n],o=e?e(a):a;if(!n||!Ga(o,l)){var l=o;s[i++]=0===a?0:a}}return s}function hi(t){return"number"==typeof t?t:co(t)?f:+t}function di(t){if("string"==typeof t)return t;if(Wa(t))return Be(t,di)+"";if(co(t))return Gn?Gn.call(t):"";var e=t+"";return"0"==e&&1/t==-d?"-0":e}function ui(t,e,n){var r=-1,i=Ee,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=De;else if(s>=200){var c=e?null:Zi(t);if(c)return un(c);a=!1,i=en,l=new Xn}else l=e?[]:o;t:for(;++r<s;){var h=t[r],d=e?e(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var u=l.length;u--;)if(l[u]===d)continue t;e&&l.push(d),o.push(h)}else i(l,d,n)||(l!==o&&l.push(d),o.push(h))}return o}function fi(t,e){return null==(t=Ns(t,e=wi(e,t)))||delete t[Rs(Zs(e))]}function pi(t,e,n,r){return ei(t,e,n(Tr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?si(t,r?0:s,r?s+1:i):si(t,r?s+1:0,r?i:s)}function mi(t,e){var n=t;return n instanceof Vn&&(n=n.value()),Oe(e,(function(t,e){return e.func.apply(e.thisArg,Fe([t],e.args))}),n)}function vi(t,e,n){var r=t.length;if(r<2)return r?ui(t[0]):[];for(var i=-1,s=Ct(r);++i<r;)for(var a=t[i],o=-1;++o<r;)o!=i&&(s[i]=fr(s[i]||a,t[o],e,n));return ui(br(s,1),e,n)}function yi(t,e,r){for(var i=-1,s=t.length,a=e.length,o={};++i<s;){var l=i<a?e[i]:n;r(o,t[i],l)}return o}function bi(t){return qa(t)?t:[]}function xi(t){return"function"==typeof t?t:sl}function wi(t,e){return Wa(t)?t:_s(t,e)?[t]:Os(xo(t))}var _i=Qr;function Si(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:si(t,e,r)}var Ci=fe||function(t){return ge.clearTimeout(t)};function Ti(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function ki(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function ji(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pi(t,e){if(t!==e){var r=t!==n,i=null===t,s=t==t,a=co(t),o=e!==n,l=null===e,c=e==e,h=co(e);if(!l&&!h&&!a&&t>e||a&&o&&c&&!l&&!h||i&&o&&c||!r&&c||!s)return 1;if(!i&&!a&&!h&&t<e||h&&r&&s&&!i&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}function Ni(t,e,n,r){for(var i=-1,s=t.length,a=n.length,o=-1,l=e.length,c=xn(s-a,0),h=Ct(l+c),d=!r;++o<l;)h[o]=e[o];for(;++i<a;)(d||i<s)&&(h[n[i]]=t[i]);for(;c--;)h[o++]=t[i++];return h}function Ai(t,e,n,r){for(var i=-1,s=t.length,a=-1,o=n.length,l=-1,c=e.length,h=xn(s-o,0),d=Ct(h+c),u=!r;++i<h;)d[i]=t[i];for(var f=i;++l<c;)d[f+l]=e[l];for(;++a<o;)(u||i<s)&&(d[f+n[a]]=t[i++]);return d}function Li(t,e){var n=-1,r=t.length;for(e||(e=Ct(r));++n<r;)e[n]=t[n];return e}function Mi(t,e,r,i){var s=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=i?i(r[l],t[l],l,r,t):n;c===n&&(c=t[l]),s?or(r,l,c):rr(r,l,c)}return r}function Ei(t,e){return function(n,r){var i=Wa(n)?Pe:sr,s=e?e():{};return i(n,t,hs(r,2),s)}}function Di(t){return Qr((function(e,r){var i=-1,s=r.length,a=s>1?r[s-1]:n,o=s>2?r[2]:n;for(a=t.length>3&&"function"==typeof a?(s--,a):n,o&&ws(r[0],r[1],o)&&(a=s<3?n:a,s=1),e=Nt(e);++i<s;){var l=r[i];l&&t(e,l,i,a)}return e}))}function Bi(t,e){return function(n,r){if(null==n)return n;if(!za(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Nt(n);(e?s--:++s<i)&&!1!==r(a[s],s,a););return n}}function Fi(t){return function(e,n,r){for(var i=-1,s=Nt(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(!1===n(s[l],l,s))break}return e}}function Oi(t){return function(e){var r=ln(e=xo(e))?pn(e):n,i=r?r[0]:e.charAt(0),s=r?Si(r,1).join(""):e.slice(1);return i[t]()+s}}function Ri(t){return function(e){return Oe(Jo(Wo(e).replace(te,"")),t,"")}}function Ii(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=$n(t.prototype),r=t.apply(n,e);return eo(r)?r:n}}function Ki(t){return function(e,r,i){var s=Nt(e);if(!za(e)){var a=hs(r,3);e=Eo(e),r=function(t){return a(s[t],t,s)}}var o=t(e,r,i);return o>-1?s[a?e[o]:o]:n}}function Gi(t){return is((function(e){var i=e.length,s=i,a=Wn.prototype.thru;for(t&&e.reverse();s--;){var o=e[s];if("function"!=typeof o)throw new Mt(r);if(a&&!l&&"wrapper"==ls(o))var l=new Wn([],!0)}for(s=l?s:i;++s<i;){var c=ls(o=e[s]),h="wrapper"==c?os(o):n;l=h&&Ss(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?l[ls(h[0])].apply(l,h[3]):1==o.length&&Ss(o)?l[c]():l.thru(o)}return function(){var t=arguments,n=t[0];if(l&&1==t.length&&Wa(n))return l.plant(n).value();for(var r=0,s=i?e[r].apply(this,t):n;++r<i;)s=e[r].call(this,s);return s}}))}function Ui(t,e,r,i,s,a,o,l,h,d){var u=e&c,f=1&e,p=2&e,g=24&e,m=512&e,v=p?n:Ii(t);return function c(){for(var y=arguments.length,b=Ct(y),x=y;x--;)b[x]=arguments[x];if(g)var w=cs(c),_=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,w);if(i&&(b=Ni(b,i,s,g)),a&&(b=Ai(b,a,o,g)),y-=_,g&&y<d){var S=dn(b,w);return Yi(t,e,Ui,c.placeholder,r,b,S,l,h,d-y)}var C=f?r:this,T=p?C[t]:t;return y=b.length,l?b=function(t,e){for(var r=t.length,i=wn(e.length,r),s=Li(t);i--;){var a=e[i];t[i]=xs(a,r)?s[a]:n}return t}(b,l):m&&y>1&&b.reverse(),u&&h<y&&(b.length=h),this&&this!==ge&&this instanceof c&&(T=v||Ii(T)),T.apply(C,b)}}function $i(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,i,s){e(r,n(t),i,s)})),r}(n,t,e(r),{})}}function Hi(t,e){return function(r,i){var s;if(r===n&&i===n)return e;if(r!==n&&(s=r),i!==n){if(s===n)return i;"string"==typeof r||"string"==typeof i?(r=di(r),i=di(i)):(r=hi(r),i=hi(i)),s=t(r,i)}return s}}function Wi(t){return is((function(e){return e=Be(e,Je(hs())),Qr((function(n){var r=this;return t(e,(function(t){return je(t,r,n)}))}))}))}function Vi(t,e){var r=(e=e===n?" ":di(e)).length;if(r<2)return r?Zr(e,t):e;var i=Zr(e,ve(t/fn(e)));return ln(e)?Si(pn(i),0,t).join(""):i.slice(0,t)}function zi(t){return function(e,r,i){return i&&"number"!=typeof i&&ws(e,r,i)&&(r=i=n),e=go(e),r===n?(r=e,e=0):r=go(r),function(t,e,n,r){for(var i=-1,s=xn(ve((e-t)/(n||1)),0),a=Ct(s);s--;)a[r?s:++i]=t,t+=n;return a}(e,r,i=i===n?e<r?1:-1:go(i),t)}}function qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=yo(e),n=yo(n)),t(e,n)}}function Yi(t,e,r,i,s,a,c,h,d,u){var f=8&e;e|=f?o:l,4&(e&=~(f?l:o))||(e&=-4);var p=[t,e,s,f?a:n,f?c:n,f?n:a,f?n:c,h,d,u],g=r.apply(n,p);return Ss(t)&&Ls(g,p),g.placeholder=i,Ds(g,t,e)}function Xi(t){var e=Pt[t];return function(t,n){if(t=yo(t),(n=null==n?0:wn(mo(n),292))&&qe(t)){var r=(xo(t)+"e").split("e");return+((r=(xo(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Zi=Nn&&1/un(new Nn([,-0]))[1]==d?function(t){return new Nn(t)}:hl;function Qi(t){return function(e){var n=ms(e);return n==T?cn(e):n==A?function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}(e):function(t,e){return Be(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ji(t,e,i,d,u,f,p,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Mt(r);var v=d?d.length:0;if(v||(e&=-97,d=u=n),p=p===n?p:xn(mo(p),0),g=g===n?g:mo(g),v-=u?u.length:0,e&l){var y=d,b=u;d=u=n}var x=m?n:os(t),w=[t,e,i,d,u,y,b,f,p,g];if(x&&function(t,e){var n=t[1],r=e[1],i=n|r,a=i<131,o=r==c&&8==n||r==c&&n==h&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!a&&!o)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var d=t[3];t[3]=d?Ni(d,l,e[4]):l,t[4]=d?dn(t[3],s):e[4]}l=e[5],l&&(d=t[5],t[5]=d?Ai(d,l,e[6]):l,t[6]=d?dn(t[5],s):e[6]),l=e[7],l&&(t[7]=l),r&c&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(w,x),t=w[0],e=w[1],i=w[2],d=w[3],u=w[4],!(g=w[9]=w[9]===n?m?0:t.length:xn(w[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||e==a?function(t,e,r){var i=Ii(t);return function s(){for(var a=arguments.length,o=Ct(a),l=a,c=cs(s);l--;)o[l]=arguments[l];var h=a<3&&o[0]!==c&&o[a-1]!==c?[]:dn(o,c);return(a-=h.length)<r?Yi(t,e,Ui,s.placeholder,n,o,h,n,n,r-a):je(this&&this!==ge&&this instanceof s?i:t,this,o)}}(t,e,g):e!=o&&33!=e||u.length?Ui.apply(n,w):function(t,e,n,r){var i=1&e,s=Ii(t);return function e(){for(var a=-1,o=arguments.length,l=-1,c=r.length,h=Ct(c+o),d=this&&this!==ge&&this instanceof e?s:t;++l<c;)h[l]=r[l];for(;o--;)h[l++]=arguments[++a];return je(d,i?n:this,h)}}(t,e,i,d);else var _=function(t,e,n){var r=1&e,i=Ii(t);return function e(){return(this&&this!==ge&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,i);return Ds((x?ni:Ls)(_,w),t,e)}function ts(t,e,r,i){return t===n||Ga(t,Bt[r])&&!Rt.call(i,r)?e:t}function es(t,e,r,i,s,a){return eo(t)&&eo(e)&&(a.set(e,t),Hr(t,e,n,es,a),a.delete(e)),t}function ns(t){return so(t)?n:t}function rs(t,e,r,i,s,a){var o=1&r,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var h=a.get(t),d=a.get(e);if(h&&d)return h==e&&d==t;var u=-1,f=!0,p=2&r?new Xn:n;for(a.set(t,e),a.set(e,t);++u<l;){var g=t[u],m=e[u];if(i)var v=o?i(m,g,u,e,t,a):i(g,m,u,t,e,a);if(v!==n){if(v)continue;f=!1;break}if(p){if(!Ie(e,(function(t,e){if(!en(p,e)&&(g===t||s(g,t,r,i,a)))return p.push(e)}))){f=!1;break}}else if(g!==m&&!s(g,m,r,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function is(t){return Es(Ps(t,n,Vs),t+"")}function ss(t){return kr(t,Eo,ps)}function as(t){return kr(t,Do,gs)}var os=Mn?function(t){return Mn.get(t)}:hl;function ls(t){for(var e=t.name+"",n=En[e],r=Rt.call(En,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function cs(t){return(Rt.call(Un,"placeholder")?Un:t).placeholder}function hs(){var t=Un.iteratee||al;return t=t===al?Or:t,arguments.length?t(arguments[0],arguments[1]):t}function ds(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function us(t){for(var e=Eo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ks(i)]}return e}function fs(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return Fr(r)?r:n}var ps=xe?function(t){return null==t?[]:(t=Nt(t),Me(xe(t),(function(e){return Zt.call(t,e)})))}:vl,gs=xe?function(t){for(var e=[];t;)Fe(e,ps(t)),t=Yt(t);return e}:vl,ms=jr;function vs(t,e,n){for(var r=-1,i=(e=wi(e,t)).length,s=!1;++r<i;){var a=Rs(e[r]);if(!(s=null!=t&&n(t,a)))break;t=t[a]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&to(i)&&xs(a,i)&&(Wa(t)||Ha(t))}function ys(t){return"function"!=typeof t.constructor||Ts(t)?{}:$n(Yt(t))}function bs(t){return Wa(t)||Ha(t)||!!(Jt&&t&&t[Jt])}function xs(t,e){var n=typeof t;return!!(e=e??u)&&("number"==n||"symbol"!=n&&xt.test(t))&&t>-1&&t%1==0&&t<e}function ws(t,e,n){if(!eo(n))return!1;var r=typeof e;return!!("number"==r?za(n)&&xs(e,n.length):"string"==r&&e in n)&&Ga(n[e],t)}function _s(t,e){if(Wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!co(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Nt(e))}function Ss(t){var e=ls(t),n=Un[e];if("function"!=typeof n||!(e in Vn.prototype))return!1;if(t===n)return!0;var r=os(n);return!!r&&t===r[0]}(kn&&ms(new kn(new ArrayBuffer(1)))!=B||jn&&ms(new jn)!=T||Pn&&ms(Pn.resolve())!=P||Nn&&ms(new Nn)!=A||An&&ms(new An)!=E)&&(ms=function(t){var e=jr(t),r=e==j?t.constructor:n,i=r?Is(r):"";if(i)switch(i){case Dn:return B;case Bn:return T;case Fn:return P;case On:return A;case Rn:return E}return e});var Cs=Ft?Qa:yl;function Ts(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)}function ks(t){return t==t&&!eo(t)}function js(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==n||t in Nt(r)))}}function Ps(t,e,r){return e=xn(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=xn(n.length-e,0),a=Ct(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Ct(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),je(t,this,o)}}function Ns(t,e){return e.length<2?t:Tr(t,si(e,0,-1))}function As(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ls=Bs(ni),Ms=me||function(t,e){return ge.setTimeout(t,e)},Es=Bs(ri);function Ds(t,e,n){var r=e+"";return Es(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ne(v,(function(n){var r="_."+n[0];e&n[1]&&!Ee(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ht):[]}(r),n)))}function Bs(t){var e=0,r=0;return function(){var i=_n(),s=16-(i-r);if(r=i,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Fs(t,e){var r=-1,i=t.length,s=i-1;for(e=e===n?i:e;++r<e;){var a=Xr(r,s),o=t[a];t[a]=t[r],t[r]=o}return t.length=e,t}var Os=function(t){var e=Ba(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(ft,"$1"):n||t)})),e}));function Rs(t){if("string"==typeof t||co(t))return t;var e=t+"";return"0"==e&&1/t==-d?"-0":e}function Is(t){if(null!=t){try{return Ot.call(t)}catch{}try{return t+""}catch{}}return""}function Ks(t){if(t instanceof Vn)return t.clone();var e=new Wn(t.__wrapped__,t.__chain__);return e.__actions__=Li(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Gs=Qr((function(t,e){return qa(t)?fr(t,br(e,1,qa,!0)):[]})),Us=Qr((function(t,e){var r=Zs(e);return qa(r)&&(r=n),qa(t)?fr(t,br(e,1,qa,!0),hs(r,2)):[]})),$s=Qr((function(t,e){var r=Zs(e);return qa(r)&&(r=n),qa(t)?fr(t,br(e,1,qa,!0),n,r):[]}));function Hs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:mo(n);return i<0&&(i=xn(r+i,0)),Ue(t,hs(e,3),i)}function Ws(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var s=i-1;return r!==n&&(s=mo(r),s=r<0?xn(i+s,0):wn(s,i-1)),Ue(t,hs(e,3),s,!0)}function Vs(t){return(null==t?0:t.length)?br(t,1):[]}function zs(t){return t&&t.length?t[0]:n}var qs=Qr((function(t){var e=Be(t,bi);return e.length&&e[0]===t[0]?Lr(e):[]})),Ys=Qr((function(t){var e=Zs(t),r=Be(t,bi);return e===Zs(r)?e=n:r.pop(),r.length&&r[0]===t[0]?Lr(r,hs(e,2)):[]})),Xs=Qr((function(t){var e=Zs(t),r=Be(t,bi);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?Lr(r,n,e):[]}));function Zs(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Qs=Qr(Js);function Js(t,e){return t&&t.length&&e&&e.length?qr(t,e):t}var ta=is((function(t,e){var n=null==t?0:t.length,r=lr(t,e);return Yr(t,Be(e,(function(t){return xs(t,n)?+t:t})).sort(Pi)),r}));function ea(t){return null==t?t:Tn.call(t)}var na=Qr((function(t){return ui(br(t,1,qa,!0))})),ra=Qr((function(t){var e=Zs(t);return qa(e)&&(e=n),ui(br(t,1,qa,!0),hs(e,2))})),ia=Qr((function(t){var e=Zs(t);return e="function"==typeof e?e:n,ui(br(t,1,qa,!0),n,e)}));function sa(t){if(!t||!t.length)return[];var e=0;return t=Me(t,(function(t){if(qa(t))return e=xn(t.length,e),!0})),Ze(e,(function(e){return Be(t,ze(e))}))}function aa(t,e){if(!t||!t.length)return[];var r=sa(t);return null==e?r:Be(r,(function(t){return je(e,n,t)}))}var oa=Qr((function(t,e){return qa(t)?fr(t,e):[]})),la=Qr((function(t){return vi(Me(t,qa))})),ca=Qr((function(t){var e=Zs(t);return qa(e)&&(e=n),vi(Me(t,qa),hs(e,2))})),ha=Qr((function(t){var e=Zs(t);return e="function"==typeof e?e:n,vi(Me(t,qa),n,e)})),da=Qr(sa);var ua=Qr((function(t){var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,aa(t,r)}));function fa(t){var e=Un(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var ga=is((function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,s=function(e){return lr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Vn&&xs(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:pa,args:[s],thisArg:n}),new Wn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(n),t}))):this.thru(s)}));var ma=Ei((function(t,e,n){Rt.call(t,n)?++t[n]:or(t,n,1)}));var va=Ki(Hs),ya=Ki(Ws);function ba(t,e){return(Wa(t)?Ne:pr)(t,hs(e,3))}function xa(t,e){return(Wa(t)?Ae:gr)(t,hs(e,3))}var wa=Ei((function(t,e,n){Rt.call(t,n)?t[n].push(e):or(t,n,[e])}));var _a=Qr((function(t,e,n){var r=-1,i="function"==typeof e,s=za(t)?Ct(t.length):[];return pr(t,(function(t){s[++r]=i?je(e,t,n):Mr(t,e,n)})),s})),Sa=Ei((function(t,e,n){or(t,n,e)}));function Ca(t,e){return(Wa(t)?Be:Gr)(t,hs(e,3))}var Ta=Ei((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ka=Qr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ws(t,e[0],e[1])?e=[]:n>2&&ws(e[0],e[1],e[2])&&(e=[e[0]]),Vr(t,br(e,1),[])})),ja=pe||function(){return ge.Date.now()};function Pa(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Ji(t,c,n,n,n,n,e)}function Na(t,e){var i;if("function"!=typeof e)throw new Mt(r);return t=mo(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Aa=Qr((function(t,e,n){var r=1;if(n.length){var i=dn(n,cs(Aa));r|=o}return Ji(t,r,e,n,i)})),La=Qr((function(t,e,n){var r=3;if(n.length){var i=dn(n,cs(La));r|=o}return Ji(e,r,t,n,i)}));function Ma(t,e,i){var s,a,o,l,c,h,d=0,u=!1,f=!1,p=!0;if("function"!=typeof t)throw new Mt(r);function g(e){var r=s,i=a;return s=a=n,d=e,l=t.apply(i,r)}function m(t){var r=t-h;return h===n||r>=e||r<0||f&&t-d>=o}function v(){var t=ja();if(m(t))return y(t);c=Ms(v,function(t){var n=e-(t-h);return f?wn(n,o-(t-d)):n}(t))}function y(t){return c=n,p&&s?g(t):(s=a=n,l)}function b(){var t=ja(),r=m(t);if(s=arguments,a=this,h=t,r){if(c===n)return function(t){return d=t,c=Ms(v,e),u?g(t):l}(h);if(f)return Ci(c),c=Ms(v,e),g(h)}return c===n&&(c=Ms(v,e)),l}return e=yo(e)||0,eo(i)&&(u=!!i.leading,o=(f="maxWait"in i)?xn(yo(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p),b.cancel=function(){c!==n&&Ci(c),d=0,s=h=a=c=n},b.flush=function(){return c===n?l:y(ja())},b}var Ea=Qr((function(t,e){return ur(t,1,e)})),Da=Qr((function(t,e,n){return ur(t,yo(e)||0,n)}));function Ba(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Mt(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Ba.Cache||Yn),n}function Fa(t){if("function"!=typeof t)throw new Mt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ba.Cache=Yn;var Oa=_i((function(t,e){var n=(e=1==e.length&&Wa(e[0])?Be(e[0],Je(hs())):Be(br(e,1),Je(hs()))).length;return Qr((function(r){for(var i=-1,s=wn(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return je(t,this,r)}))})),Ra=Qr((function(t,e){var r=dn(e,cs(Ra));return Ji(t,o,n,e,r)})),Ia=Qr((function(t,e){var r=dn(e,cs(Ia));return Ji(t,l,n,e,r)})),Ka=is((function(t,e){return Ji(t,h,n,n,n,e)}));function Ga(t,e){return t===e||t!=t&&e!=e}var Ua=qi(Pr),$a=qi((function(t,e){return t>=e})),Ha=Er(function(){return arguments}())?Er:function(t){return no(t)&&Rt.call(t,"callee")&&!Zt.call(t,"callee")},Wa=Ct.isArray,Va=we?Je(we):function(t){return no(t)&&jr(t)==D};function za(t){return null!=t&&to(t.length)&&!Qa(t)}function qa(t){return no(t)&&za(t)}var Ya=Ke||yl,Xa=_e?Je(_e):function(t){return no(t)&&jr(t)==w};function Za(t){if(!no(t))return!1;var e=jr(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!so(t)}function Qa(t){if(!eo(t))return!1;var e=jr(t);return e==S||e==C||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ja(t){return"number"==typeof t&&t==mo(t)}function to(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function eo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function no(t){return null!=t&&"object"==typeof t}var ro=Se?Je(Se):function(t){return no(t)&&ms(t)==T};function io(t){return"number"==typeof t||no(t)&&jr(t)==k}function so(t){if(!no(t)||jr(t)!=j)return!1;var e=Yt(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==Ut}var ao=Ce?Je(Ce):function(t){return no(t)&&jr(t)==N};var oo=Te?Je(Te):function(t){return no(t)&&ms(t)==A};function lo(t){return"string"==typeof t||!Wa(t)&&no(t)&&jr(t)==L}function co(t){return"symbol"==typeof t||no(t)&&jr(t)==M}var ho=ke?Je(ke):function(t){return no(t)&&to(t.length)&&!!le[jr(t)]};var uo=qi(Kr),fo=qi((function(t,e){return t<=e}));function po(t){if(!t)return[];if(za(t))return lo(t)?pn(t):Li(t);if(ne&&t[ne])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ne]());var e=ms(t);return(e==T?cn:e==A?un:Uo)(t)}function go(t){return t?(t=yo(t))===d||t===-d?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function mo(t){var e=go(t),n=e%1;return e==e?n?e-n:e:0}function vo(t){return t?cr(mo(t),0,p):0}function yo(t){if("number"==typeof t)return t;if(co(t))return f;if(eo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=eo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Qe(t);var n=vt.test(t);return n||bt.test(t)?ue(t.slice(2),n?2:8):mt.test(t)?f:+t}function bo(t){return Mi(t,Do(t))}function xo(t){return null==t?"":di(t)}var wo=Di((function(t,e){if(Ts(e)||za(e))Mi(e,Eo(e),t);else for(var n in e)Rt.call(e,n)&&rr(t,n,e[n])})),_o=Di((function(t,e){Mi(e,Do(e),t)})),So=Di((function(t,e,n,r){Mi(e,Do(e),t,r)})),Co=Di((function(t,e,n,r){Mi(e,Eo(e),t,r)})),To=is(lr);var ko=Qr((function(t,e){t=Nt(t);var r=-1,i=e.length,s=i>2?e[2]:n;for(s&&ws(e[0],e[1],s)&&(i=1);++r<i;)for(var a=e[r],o=Do(a),l=-1,c=o.length;++l<c;){var h=o[l],d=t[h];(d===n||Ga(d,Bt[h])&&!Rt.call(t,h))&&(t[h]=a[h])}return t})),jo=Qr((function(t){return t.push(n,es),je(Fo,n,t)}));function Po(t,e,r){var i=null==t?n:Tr(t,e);return i===n?r:i}function No(t,e){return null!=t&&vs(t,e,Ar)}var Ao=$i((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Gt.call(e)),t[e]=n}),nl(sl)),Lo=$i((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Gt.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),hs),Mo=Qr(Mr);function Eo(t){return za(t)?Qn(t):Rr(t)}function Do(t){return za(t)?Qn(t,!0):Ir(t)}var Bo=Di((function(t,e,n){Hr(t,e,n)})),Fo=Di((function(t,e,n,r){Hr(t,e,n,r)})),Oo=is((function(t,e){var n={};if(null==t)return n;var r=!1;e=Be(e,(function(e){return e=wi(e,t),r||(r=e.length>1),e})),Mi(t,as(t),n),r&&(n=hr(n,7,ns));for(var i=e.length;i--;)fi(n,e[i]);return n}));var Ro=is((function(t,e){return null==t?{}:function(t,e){return zr(t,e,(function(e,n){return No(t,n)}))}(t,e)}));function Io(t,e){if(null==t)return{};var n=Be(as(t),(function(t){return[t]}));return e=hs(e),zr(t,n,(function(t,n){return e(t,n[0])}))}var Ko=Qi(Eo),Go=Qi(Do);function Uo(t){return null==t?[]:tn(t,Eo(t))}var $o=Ri((function(t,e,n){return e=e.toLowerCase(),t+(n?Ho(e):e)}));function Ho(t){return Qo(xo(t).toLowerCase())}function Wo(t){return(t=xo(t))&&t.replace(wt,sn).replace(ee,"")}var Vo=Ri((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),zo=Ri((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),qo=Oi("toLowerCase");var Yo=Ri((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Xo=Ri((function(t,e,n){return t+(n?" ":"")+Qo(e)}));var Zo=Ri((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Qo=Oi("toUpperCase");function Jo(t,e,r){return t=xo(t),(e=r?n:e)===n?function(t){return se.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(dt)||[]}(t):t.match(e)||[]}var tl=Qr((function(t,e){try{return je(t,n,e)}catch(t){return Za(t)?t:new kt(t)}})),el=is((function(t,e){return Ne(e,(function(e){e=Rs(e),or(t,e,Aa(t[e],t))})),t}));function nl(t){return function(){return t}}var rl=Gi(),il=Gi(!0);function sl(t){return t}function al(t){return Or("function"==typeof t?t:hr(t,1))}var ol=Qr((function(t,e){return function(n){return Mr(n,t,e)}})),ll=Qr((function(t,e){return function(n){return Mr(t,n,e)}}));function cl(t,e,n){var r=Eo(e),i=Cr(e,r);null==n&&(!eo(e)||!i.length&&r.length)&&(n=e,e=t,t=this,i=Cr(e,Eo(e)));var s=!(eo(n)&&"chain"in n&&!n.chain),a=Qa(t);return Ne(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=Li(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Fe([this.value()],arguments))})})),t}function hl(){}var dl=Wi(Be),ul=Wi(Le),fl=Wi(Ie);function pl(t){return _s(t)?ze(Rs(t)):function(t){return function(e){return Tr(e,t)}}(t)}var gl=zi(),ml=zi(!0);function vl(){return[]}function yl(){return!1}var bl=Hi((function(t,e){return t+e}),0),xl=Xi("ceil"),wl=Hi((function(t,e){return t/e}),1),_l=Xi("floor");var Sl=Hi((function(t,e){return t*e}),1),Cl=Xi("round"),Tl=Hi((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new Mt(r);return t=mo(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=Pa,Un.assign=wo,Un.assignIn=_o,Un.assignInWith=So,Un.assignWith=Co,Un.at=To,Un.before=Na,Un.bind=Aa,Un.bindAll=el,Un.bindKey=La,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},Un.chain=fa,Un.chunk=function(t,e,r){e=(r?ws(t,e,r):e===n)?1:xn(mo(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,o=Ct(ve(i/e));s<i;)o[a++]=si(t,s,s+=e);return o},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Ct(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Fe(Wa(n)?Li(n):[n],br(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=hs();return t=e?Be(t,(function(t){if("function"!=typeof t[1])throw new Mt(r);return[n(t[0]),t[1]]})):[],Qr((function(n){for(var r=-1;++r<e;){var i=t[r];if(je(i[0],this,n))return je(i[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Eo(t);return function(n){return dr(n,t,e)}}(hr(t,1))},Un.constant=nl,Un.countBy=ma,Un.create=function(t,e){var n=$n(t);return null==e?n:ar(n,e)},Un.curry=function t(e,r,i){var s=Ji(e,8,n,n,n,n,n,r=i?n:r);return s.placeholder=t.placeholder,s},Un.curryRight=function t(e,r,i){var s=Ji(e,a,n,n,n,n,n,r=i?n:r);return s.placeholder=t.placeholder,s},Un.debounce=Ma,Un.defaults=ko,Un.defaultsDeep=jo,Un.defer=Ea,Un.delay=Da,Un.difference=Gs,Un.differenceBy=Us,Un.differenceWith=$s,Un.drop=function(t,e,r){var i=null==t?0:t.length;return i?si(t,(e=r||e===n?1:mo(e))<0?0:e,i):[]},Un.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?si(t,0,(e=i-(e=r||e===n?1:mo(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?gi(t,hs(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?gi(t,hs(e,3),!0):[]},Un.fill=function(t,e,r,i){var s=null==t?0:t.length;return s?(r&&"number"!=typeof r&&ws(t,e,r)&&(r=0,i=s),function(t,e,r,i){var s=t.length;for((r=mo(r))<0&&(r=-r>s?0:s+r),(i=i===n||i>s?s:mo(i))<0&&(i+=s),i=r>i?0:vo(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},Un.filter=function(t,e){return(Wa(t)?Me:yr)(t,hs(e,3))},Un.flatMap=function(t,e){return br(Ca(t,e),1)},Un.flatMapDeep=function(t,e){return br(Ca(t,e),d)},Un.flatMapDepth=function(t,e,r){return r=r===n?1:mo(r),br(Ca(t,e),r)},Un.flatten=Vs,Un.flattenDeep=function(t){return(null==t?0:t.length)?br(t,d):[]},Un.flattenDepth=function(t,e){return(null==t?0:t.length)?br(t,e=e===n?1:mo(e)):[]},Un.flip=function(t){return Ji(t,512)},Un.flow=rl,Un.flowRight=il,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Un.functions=function(t){return null==t?[]:Cr(t,Eo(t))},Un.functionsIn=function(t){return null==t?[]:Cr(t,Do(t))},Un.groupBy=wa,Un.initial=function(t){return(null==t?0:t.length)?si(t,0,-1):[]},Un.intersection=qs,Un.intersectionBy=Ys,Un.intersectionWith=Xs,Un.invert=Ao,Un.invertBy=Lo,Un.invokeMap=_a,Un.iteratee=al,Un.keyBy=Sa,Un.keys=Eo,Un.keysIn=Do,Un.map=Ca,Un.mapKeys=function(t,e){var n={};return e=hs(e,3),_r(t,(function(t,r,i){or(n,e(t,r,i),t)})),n},Un.mapValues=function(t,e){var n={};return e=hs(e,3),_r(t,(function(t,r,i){or(n,r,e(t,r,i))})),n},Un.matches=function(t){return Ur(hr(t,1))},Un.matchesProperty=function(t,e){return $r(t,hr(e,1))},Un.memoize=Ba,Un.merge=Bo,Un.mergeWith=Fo,Un.method=ol,Un.methodOf=ll,Un.mixin=cl,Un.negate=Fa,Un.nthArg=function(t){return t=mo(t),Qr((function(e){return Wr(e,t)}))},Un.omit=Oo,Un.omitBy=function(t,e){return Io(t,Fa(hs(e)))},Un.once=function(t){return Na(2,t)},Un.orderBy=function(t,e,r,i){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(r=i?n:r)||(r=null==r?[]:[r]),Vr(t,e,r))},Un.over=dl,Un.overArgs=Oa,Un.overEvery=ul,Un.overSome=fl,Un.partial=Ra,Un.partialRight=Ia,Un.partition=Ta,Un.pick=Ro,Un.pickBy=Io,Un.property=pl,Un.propertyOf=function(t){return function(e){return null==t?n:Tr(t,e)}},Un.pull=Qs,Un.pullAll=Js,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,hs(n,2)):t},Un.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?qr(t,e,n,r):t},Un.pullAt=ta,Un.range=gl,Un.rangeRight=ml,Un.rearg=Ka,Un.reject=function(t,e){return(Wa(t)?Me:yr)(t,Fa(hs(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=hs(e,3);++r<s;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Yr(t,i),n},Un.rest=function(t,e){if("function"!=typeof t)throw new Mt(r);return Qr(t,e=e===n?e:mo(e))},Un.reverse=ea,Un.sampleSize=function(t,e,r){return e=(r?ws(t,e,r):e===n)?1:mo(e),(Wa(t)?tr:ti)(t,e)},Un.set=function(t,e,n){return null==t?t:ei(t,e,n)},Un.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:ei(t,e,r,i)},Un.shuffle=function(t){return(Wa(t)?er:ii)(t)},Un.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&ws(t,e,r)?(e=0,r=i):(e=null==e?0:mo(e),r=r===n?i:mo(r)),si(t,e,r)):[]},Un.sortBy=ka,Un.sortedUniq=function(t){return t&&t.length?ci(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?ci(t,hs(e,2)):[]},Un.split=function(t,e,r){return r&&"number"!=typeof r&&ws(t,e,r)&&(e=r=n),(r=r===n?p:r>>>0)?(t=xo(t))&&("string"==typeof e||null!=e&&!ao(e))&&(!(e=di(e))&&ln(t))?Si(pn(t),0,r):t.split(e,r):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new Mt(r);return e=null==e?0:xn(mo(e),0),Qr((function(n){var r=n[e],i=Si(n,0,e);return r&&Fe(i,r),je(t,this,i)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?si(t,1,e):[]},Un.take=function(t,e,r){return t&&t.length?si(t,0,(e=r||e===n?1:mo(e))<0?0:e):[]},Un.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?si(t,(e=i-(e=r||e===n?1:mo(e)))<0?0:e,i):[]},Un.takeRightWhile=function(t,e){return t&&t.length?gi(t,hs(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?gi(t,hs(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new Mt(r);return eo(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Ma(t,e,{leading:i,maxWait:e,trailing:s})},Un.thru=pa,Un.toArray=po,Un.toPairs=Ko,Un.toPairsIn=Go,Un.toPath=function(t){return Wa(t)?Be(t,Rs):co(t)?[t]:Li(Os(xo(t)))},Un.toPlainObject=bo,Un.transform=function(t,e,n){var r=Wa(t),i=r||Ya(t)||ho(t);if(e=hs(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:eo(t)&&Qa(s)?$n(Yt(t)):{}}return(i?Ne:_r)(t,(function(t,r,i){return e(n,t,r,i)})),n},Un.unary=function(t){return Pa(t,1)},Un.union=na,Un.unionBy=ra,Un.unionWith=ia,Un.uniq=function(t){return t&&t.length?ui(t):[]},Un.uniqBy=function(t,e){return t&&t.length?ui(t,hs(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?ui(t,n,e):[]},Un.unset=function(t,e){return null==t||fi(t,e)},Un.unzip=sa,Un.unzipWith=aa,Un.update=function(t,e,n){return null==t?t:pi(t,e,xi(n))},Un.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:pi(t,e,xi(r),i)},Un.values=Uo,Un.valuesIn=function(t){return null==t?[]:tn(t,Do(t))},Un.without=oa,Un.words=Jo,Un.wrap=function(t,e){return Ra(xi(e),t)},Un.xor=la,Un.xorBy=ca,Un.xorWith=ha,Un.zip=da,Un.zipObject=function(t,e){return yi(t||[],e||[],rr)},Un.zipObjectDeep=function(t,e){return yi(t||[],e||[],ei)},Un.zipWith=ua,Un.entries=Ko,Un.entriesIn=Go,Un.extend=_o,Un.extendWith=So,cl(Un,Un),Un.add=bl,Un.attempt=tl,Un.camelCase=$o,Un.capitalize=Ho,Un.ceil=xl,Un.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=yo(r))==r?r:0),e!==n&&(e=(e=yo(e))==e?e:0),cr(yo(t),e,r)},Un.clone=function(t){return hr(t,4)},Un.cloneDeep=function(t){return hr(t,5)},Un.cloneDeepWith=function(t,e){return hr(t,5,e="function"==typeof e?e:n)},Un.cloneWith=function(t,e){return hr(t,4,e="function"==typeof e?e:n)},Un.conformsTo=function(t,e){return null==e||dr(t,e,Eo(e))},Un.deburr=Wo,Un.defaultTo=function(t,e){return null==t||t!=t?e:t},Un.divide=wl,Un.endsWith=function(t,e,r){t=xo(t),e=di(e);var i=t.length,s=r=r===n?i:cr(mo(r),0,i);return(r-=e.length)>=0&&t.slice(r,s)==e},Un.eq=Ga,Un.escape=function(t){return(t=xo(t))&&Z.test(t)?t.replace(Y,an):t},Un.escapeRegExp=function(t){return(t=xo(t))&&st.test(t)?t.replace(it,"\\$&"):t},Un.every=function(t,e,r){var i=Wa(t)?Le:mr;return r&&ws(t,e,r)&&(e=n),i(t,hs(e,3))},Un.find=va,Un.findIndex=Hs,Un.findKey=function(t,e){return Ge(t,hs(e,3),_r)},Un.findLast=ya,Un.findLastIndex=Ws,Un.findLastKey=function(t,e){return Ge(t,hs(e,3),Sr)},Un.floor=_l,Un.forEach=ba,Un.forEachRight=xa,Un.forIn=function(t,e){return null==t?t:xr(t,hs(e,3),Do)},Un.forInRight=function(t,e){return null==t?t:wr(t,hs(e,3),Do)},Un.forOwn=function(t,e){return t&&_r(t,hs(e,3))},Un.forOwnRight=function(t,e){return t&&Sr(t,hs(e,3))},Un.get=Po,Un.gt=Ua,Un.gte=$a,Un.has=function(t,e){return null!=t&&vs(t,e,Nr)},Un.hasIn=No,Un.head=zs,Un.identity=sl,Un.includes=function(t,e,n,r){t=za(t)?t:Uo(t),n=n&&!r?mo(n):0;var i=t.length;return n<0&&(n=xn(i+n,0)),lo(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&$e(t,e,n)>-1},Un.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:mo(n);return i<0&&(i=xn(r+i,0)),$e(t,e,i)},Un.inRange=function(t,e,r){return e=go(e),r===n?(r=e,e=0):r=go(r),function(t,e,n){return t>=wn(e,n)&&t<xn(e,n)}(t=yo(t),e,r)},Un.invoke=Mo,Un.isArguments=Ha,Un.isArray=Wa,Un.isArrayBuffer=Va,Un.isArrayLike=za,Un.isArrayLikeObject=qa,Un.isBoolean=function(t){return!0===t||!1===t||no(t)&&jr(t)==x},Un.isBuffer=Ya,Un.isDate=Xa,Un.isElement=function(t){return no(t)&&1===t.nodeType&&!so(t)},Un.isEmpty=function(t){if(null==t)return!0;if(za(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Ya(t)||ho(t)||Ha(t)))return!t.length;var e=ms(t);if(e==T||e==A)return!t.size;if(Ts(t))return!Rr(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Dr(t,e)},Un.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?Dr(t,e,n,r):!!i},Un.isError=Za,Un.isFinite=function(t){return"number"==typeof t&&qe(t)},Un.isFunction=Qa,Un.isInteger=Ja,Un.isLength=to,Un.isMap=ro,Un.isMatch=function(t,e){return t===e||Br(t,e,us(e))},Un.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,Br(t,e,us(e),r)},Un.isNaN=function(t){return io(t)&&t!=+t},Un.isNative=function(t){if(Cs(t))throw new kt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=io,Un.isObject=eo,Un.isObjectLike=no,Un.isPlainObject=so,Un.isRegExp=ao,Un.isSafeInteger=function(t){return Ja(t)&&t>=-u&&t<=u},Un.isSet=oo,Un.isString=lo,Un.isSymbol=co,Un.isTypedArray=ho,Un.isUndefined=function(t){return t===n},Un.isWeakMap=function(t){return no(t)&&ms(t)==E},Un.isWeakSet=function(t){return no(t)&&"[object WeakSet]"==jr(t)},Un.join=function(t,e){return null==t?"":yn.call(t,e)},Un.kebabCase=Vo,Un.last=Zs,Un.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var s=i;return r!==n&&(s=(s=mo(r))<0?xn(i+s,0):wn(s,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):Ue(t,We,s,!0)},Un.lowerCase=zo,Un.lowerFirst=qo,Un.lt=uo,Un.lte=fo,Un.max=function(t){return t&&t.length?vr(t,sl,Pr):n},Un.maxBy=function(t,e){return t&&t.length?vr(t,hs(e,2),Pr):n},Un.mean=function(t){return Ve(t,sl)},Un.meanBy=function(t,e){return Ve(t,hs(e,2))},Un.min=function(t){return t&&t.length?vr(t,sl,Kr):n},Un.minBy=function(t,e){return t&&t.length?vr(t,hs(e,2),Kr):n},Un.stubArray=vl,Un.stubFalse=yl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Sl,Un.nth=function(t,e){return t&&t.length?Wr(t,mo(e)):n},Un.noConflict=function(){return ge._===this&&(ge._=$t),this},Un.noop=hl,Un.now=ja,Un.pad=function(t,e,n){t=xo(t);var r=(e=mo(e))?fn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Vi(be(i),n)+t+Vi(ve(i),n)},Un.padEnd=function(t,e,n){t=xo(t);var r=(e=mo(e))?fn(t):0;return e&&r<e?t+Vi(e-r,n):t},Un.padStart=function(t,e,n){t=xo(t);var r=(e=mo(e))?fn(t):0;return e&&r<e?Vi(e-r,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Sn(xo(t).replace(at,""),e||0)},Un.random=function(t,e,r){if(r&&"boolean"!=typeof r&&ws(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=go(t),e===n?(e=t,t=0):e=go(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var s=Cn();return wn(t+s*(e-t+de("1e-"+((s+"").length-1))),e)}return Xr(t,e)},Un.reduce=function(t,e,n){var r=Wa(t)?Oe:Ye,i=arguments.length<3;return r(t,hs(e,4),n,i,pr)},Un.reduceRight=function(t,e,n){var r=Wa(t)?Re:Ye,i=arguments.length<3;return r(t,hs(e,4),n,i,gr)},Un.repeat=function(t,e,r){return e=(r?ws(t,e,r):e===n)?1:mo(e),Zr(xo(t),e)},Un.replace=function(){var t=arguments,e=xo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,r){var i=-1,s=(e=wi(e,t)).length;for(s||(s=1,t=n);++i<s;){var a=null==t?n:t[Rs(e[i])];a===n&&(i=s,a=r),t=Qa(a)?a.call(t):a}return t},Un.round=Cl,Un.runInContext=t,Un.sample=function(t){return(Wa(t)?Jn:Jr)(t)},Un.size=function(t){if(null==t)return 0;if(za(t))return lo(t)?fn(t):t.length;var e=ms(t);return e==T||e==A?t.size:Rr(t).length},Un.snakeCase=Yo,Un.some=function(t,e,r){var i=Wa(t)?Ie:ai;return r&&ws(t,e,r)&&(e=n),i(t,hs(e,3))},Un.sortedIndex=function(t,e){return oi(t,e)},Un.sortedIndexBy=function(t,e,n){return li(t,e,hs(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=oi(t,e);if(r<n&&Ga(t[r],e))return r}return-1},Un.sortedLastIndex=function(t,e){return oi(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return li(t,e,hs(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=oi(t,e,!0)-1;if(Ga(t[n],e))return n}return-1},Un.startCase=Xo,Un.startsWith=function(t,e,n){return t=xo(t),n=null==n?0:cr(mo(n),0,t.length),e=di(e),t.slice(n,n+e.length)==e},Un.subtract=Tl,Un.sum=function(t){return t&&t.length?Xe(t,sl):0},Un.sumBy=function(t,e){return t&&t.length?Xe(t,hs(e,2)):0},Un.template=function(t,e,r){var i=Un.templateSettings;r&&ws(t,e,r)&&(e=n),t=xo(t),e=So({},e,i,ts);var s,a,o=So({},e.imports,i.imports,ts),l=Eo(o),c=tn(o,l),h=0,d=e.interpolate||_t,u="__p += '",f=At((e.escape||_t).source+"|"+d.source+"|"+(d===tt?pt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),p="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oe+"]")+"\n";t.replace(f,(function(e,n,r,i,o,l){return r||(r=i),u+=t.slice(h,l).replace(St,on),n&&(s=!0,u+="' +\n__e("+n+") +\n'"),o&&(a=!0,u+="';\n"+o+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),u+="';\n";var g=Rt.call(e,"variable")&&e.variable;if(g){if(ut.test(g))throw new kt("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(a?u.replace(W,""):u).replace(V,"$1").replace(z,"$1;"),u="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var m=tl((function(){return jt(l,p+"return "+u).apply(n,c)}));if(m.source=u,Za(m))throw m;return m},Un.times=function(t,e){if((t=mo(t))<1||t>u)return[];var n=p,r=wn(t,p);e=hs(e),t-=p;for(var i=Ze(r,e);++n<t;)e(n);return i},Un.toFinite=go,Un.toInteger=mo,Un.toLength=vo,Un.toLower=function(t){return xo(t).toLowerCase()},Un.toNumber=yo,Un.toSafeInteger=function(t){return t?cr(mo(t),-u,u):0===t?t:0},Un.toString=xo,Un.toUpper=function(t){return xo(t).toUpperCase()},Un.trim=function(t,e,r){if((t=xo(t))&&(r||e===n))return Qe(t);if(!t||!(e=di(e)))return t;var i=pn(t),s=pn(e);return Si(i,nn(i,s),rn(i,s)+1).join("")},Un.trimEnd=function(t,e,r){if((t=xo(t))&&(r||e===n))return t.slice(0,gn(t)+1);if(!t||!(e=di(e)))return t;var i=pn(t);return Si(i,0,rn(i,pn(e))+1).join("")},Un.trimStart=function(t,e,r){if((t=xo(t))&&(r||e===n))return t.replace(at,"");if(!t||!(e=di(e)))return t;var i=pn(t);return Si(i,nn(i,pn(e))).join("")},Un.truncate=function(t,e){var r=30,i="...";if(eo(e)){var s="separator"in e?e.separator:s;r="length"in e?mo(e.length):r,i="omission"in e?di(e.omission):i}var a=(t=xo(t)).length;if(ln(t)){var o=pn(t);a=o.length}if(r>=a)return t;var l=r-fn(i);if(l<1)return i;var c=o?Si(o,0,l).join(""):t.slice(0,l);if(s===n)return c+i;if(o&&(l+=c.length-l),ao(s)){if(t.slice(l).search(s)){var h,d=c;for(s.global||(s=At(s.source,xo(gt.exec(s))+"g")),s.lastIndex=0;h=s.exec(d);)var u=h.index;c=c.slice(0,u===n?l:u)}}else if(t.indexOf(di(s),l)!=l){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+i},Un.unescape=function(t){return(t=xo(t))&&X.test(t)?t.replace(q,mn):t},Un.uniqueId=function(t){var e=++It;return xo(t)+e},Un.upperCase=Zo,Un.upperFirst=Qo,Un.each=ba,Un.eachRight=xa,Un.first=zs,cl(Un,function(){var t={};return _r(Un,(function(e,n){Rt.call(Un.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Un.VERSION="4.17.21",Ne(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),Ne(["drop","take"],(function(t,e){Vn.prototype[t]=function(r){r=r===n?1:xn(mo(r),0);var i=this.__filtered__&&!e?new Vn(this):this.clone();return i.__filtered__?i.__takeCount__=wn(r,i.__takeCount__):i.__views__.push({size:wn(r,p),type:t+(i.__dir__<0?"Right":"")}),i},Vn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ne(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Vn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:hs(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ne(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vn.prototype[t]=function(){return this[n](1).value()[0]}})),Ne(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vn.prototype[t]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(sl)},Vn.prototype.find=function(t){return this.filter(t).head()},Vn.prototype.findLast=function(t){return this.reverse().find(t)},Vn.prototype.invokeMap=Qr((function(t,e){return"function"==typeof t?new Vn(this):this.map((function(n){return Mr(n,t,e)}))})),Vn.prototype.reject=function(t){return this.filter(Fa(hs(t)))},Vn.prototype.slice=function(t,e){t=mo(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Vn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=mo(e))<0?r.dropRight(-e):r.take(e-t)),r)},Vn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vn.prototype.toArray=function(){return this.take(p)},_r(Vn.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),s=Un[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);s&&(Un.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,l=e instanceof Vn,c=o[0],h=l||Wa(e),d=function(t){var e=s.apply(Un,Fe([t],o));return i&&u?e[0]:e};h&&r&&"function"==typeof c&&1!=c.length&&(l=h=!1);var u=this.__chain__,f=!!this.__actions__.length,p=a&&!u,g=l&&!f;if(!a&&h){e=g?e:new Vn(this);var m=t.apply(e,o);return m.__actions__.push({func:pa,args:[d],thisArg:n}),new Wn(m,u)}return p&&g?t.apply(this,o):(m=this.thru(d),p?i?m.value()[0]:m.value():m)})})),Ne(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Et[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Wa(i)?i:[],t)}return this[n]((function(n){return e.apply(Wa(n)?n:[],t)}))}})),_r(Vn.prototype,(function(t,e){var n=Un[e];if(n){var r=n.name+"";Rt.call(En,r)||(En[r]=[]),En[r].push({name:e,func:n})}})),En[Ui(n,2).name]=[{name:"wrapper",func:n}],Vn.prototype.clone=function(){var t=new Vn(this.__wrapped__);return t.__actions__=Li(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Li(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Li(this.__views__),t},Vn.prototype.reverse=function(){if(this.__filtered__){var t=new Vn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,i=n?t.length:0,s=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=xn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=s.start,o=s.end,l=o-a,c=r?o:a-1,h=this.__iteratees__,d=h.length,u=0,f=wn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return mi(t,this.__actions__);var p=[];t:for(;l--&&u<f;){for(var g=-1,m=t[c+=e];++g<d;){var v=h[g],y=v.iteratee,b=v.type,x=y(m);if(2==b)m=x;else if(!x){if(1==b)continue t;break t}}p[u++]=m}return p},Un.prototype.at=ga,Un.prototype.chain=function(){return fa(this)},Un.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===n&&(this.__values__=po(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,r=this;r instanceof Hn;){var i=Ks(r);i.__index__=0,i.__values__=n,e?s.__wrapped__=i:e=i;var s=i;r=r.__wrapped__}return s.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Vn){var e=t;return this.__actions__.length&&(e=new Vn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:n}),new Wn(e,this.__chain__)}return this.thru(ea)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,ne&&(Un.prototype[ne]=function(){return this}),Un}();ve?((ve.exports=vn)._=vn,me._=vn):ge._=vn}).call(Ii)}(Fa,Fa.exports);var t0=Fa.exports;const Wn=Object.freeze([1,2,3,0,0,0,1,1,0,0,0,0,0,1,0,1,1,0,0,0,2,0,0]);var bt=(t=>(t[t.lsCanType=0]="lsCanType",t[t.typeLs=1]="typeLs",t[t.typePhiHoa=2]="typePhiHoa",t[t.showHideStar=3]="showHideStar",t[t.currentStar=4]="currentStar",t[t.dvTuHoa=5]="dvTuHoa",t[t.locKiToanDo=6]="locKiToanDo",t[t.tuanHoanZone=7]="tuanHoanZone",t[t.lnTuHoa=8]="lnTuHoa",t[t.lnDHCQH=9]="lnDHCQH",t[t.lnKVXK=10]="lnKVXK",t[t.lnTuTr=11]="lnTuTr",t[t.isADSat=12]="isADSat",t[t.batTuCenter=13]="batTuCenter",t[t.batTuCung=14]="batTuCung",t[t.isNapAmCung=15]="isNapAmCung",t[t.showSun=16]="showSun",t[t.shortStar=17]="shortStar",t[t.rotateZone=18]="rotateZone",t[t.drawByZone=19]="drawByZone",t[t.showHoaIcon=20]="showHoaIcon",t[t.tcpb=21]="tcpb",t[t.dvStar=22]="dvStar",t))(bt||{});const zc=["la-so-tu-vi-viet-nam","luong-phai-nam-phai","kham-thien-tu-hoa-nam-phai","tu-vi-nam-phai","tu-vi-phi-tinh-luong-phai","tu-vi-kham-thien-tu-hoa","tu-vi-trung-chau-phai","tu-vi-trung-chau-phai-kham-thien","tu-vi-trung-chau-luong-phai"];var ie=(t=>(t[t.numLoc=0]="numLoc",t[t.numKi=1]="numKi",t[t.currentLoc=2]="currentLoc",t[t.isMoveLoc=3]="isMoveLoc",t[t.isMoveKi=4]="isMoveKi",t[t.isTruyLoc=5]="isTruyLoc",t[t.isTruyKi=6]="isTruyKi",t))(ie||{}),Nt=(t=>(t[t.isMoveLoc=0]="isMoveLoc",t[t.totalLoc=1]="totalLoc",t[t.currentLoc=2]="currentLoc",t[t.isMoveAllLoc=3]="isMoveAllLoc",t[t.locKeep=4]="locKeep",t[t.isMoveNienLoc=5]="isMoveNienLoc",t[t.isMoveKi=0]="isMoveKi",t[t.totalKi=1]="totalKi",t[t.currentKi=2]="currentKi",t))(Nt||{}),nt=(t=>(t[t.L=0]="L",t[t.Q=1]="Q",t[t.Z=2]="Z",t[t.K=3]="K",t))(nt||{});function ZS(t){let e=t;return e=e.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),e=e.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),e=e.replace(/ì|í|ị|ỉ|ĩ/g,"i"),e=e.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),e=e.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),e=e.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),e=e.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),e=e.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),e=e.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),e=e.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),e=e.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),e=e.replace(/Đ/g,"D"),e.toLowerCase()}function $a(t){return t.split("").map((t=>parseInt(t,10))).filter((t=>!isNaN(t)))}const oe=(t,e,n)=>Math.max(e,Math.min(n,t));function H1(t,e){let n=e;switch(t){case 0:case 3:case 4:case 20:n=oe(n,0,4);break;case 1:n=oe(n,0,8);break;case 2:n=oe(n,0,3);break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 22:n=oe(n,0,1);break;case 21:n=oe(n,0,2)}return n}const pw=(t,e,n)=>{let r;return r=$a("string"==typeof t?t:t.join("")),r[e]=H1(e,n),[6,7,8].includes(r[1])||(r[21]=0),r};function e0(t){return $a(t.join("")).map(((t,e)=>H1(e,t)))}function Mh(t){return 1===t.sx?"Nam":"Nữ"}function Yc(t){return{y:`${be[t.dtb.bs.y[0]]} ${Gt[t.dtb.bs.y[1]]}`,m:`${be[t.dtb.bs.m[0]]} ${Gt[t.dtb.bs.m[1]]}`,d:`${be[t.dtb.bs.d[0]]} ${Gt[t.dtb.bs.d[1]]}`,h:`${be[t.dtb.bs.h[0]]} ${Gt[t.dtb.bs.h[1]]}`}}function U1(t){let e=Ke[t.ars[t.at].ai];e===Ke[10]&&(e=t.sx>0?"THÊ":"PHU");let n="Không được mùa sinh";return d6[di[t.dtb.bs.y[2]]].includes(t.dtb.tki[0])&&(n="Được mùa sinh"),{ad:`${t.ad>0?Tf[1]:Tf[0]}`,adage:`${t.adye>0?"Dương":"Âm"} ${Mh(t)}`,sk:`${f6[t.sks]}`,hmenh:`${Pf[di[t.dtb.bs.y[2]]]}`,cuc:`${Pf[t.cid]}`,tcu:e,mchu:`${Ut[t.mctc[0]].name}`,tchu:`${Ut[t.mctc[1]].name}`,mua:`${g6[p6[t.dtb.tki[0]]]}`,okmua:`${n}`}}function Zr(t){const e=[[1,1],[0,1],[1,0],[0,0]];let n=[];return n=n.concat(e[t[0]],e[t[1]],e[t[2]]),y6.indexOf(n.join(""))}function mw(t,e){return Nf[t]===Nf[e]?1:0}function n0(t,e){return m6[Af[t]][Af[e]][mw(t,e)]}function vw(t,e){return v6[t][e]}const Fe=["#2C3E50","#27AE60","#8E44AD","#2980B9","#F39C12","#D35400","#C0392B","#458305","#04719d"],yw=["Mặc định","Lương Phái + Nam phái","Khâm Thiên + Nam phái","Nam phái","Lương Phái","Khâm Thiên","Trung Châu Phái","Trung Châu Phái + Khâm Thiên","Trung Châu Phái + Lương Phái"],bw=["Thiên Bàn","Địa Bàn","Nhân Bàn"],ww=["#04719d","#8d4526","#458305"],xw=["Tứ hóa tiên thiên","Tứ Hóa Đại Vận","Tứ Hóa Lưu Niên","Tứ Hóa Lưu Nguyệt","Tứ Hóa Lưu Nhật"],_w=["Bảng tứ hóa 1 - Canh Đồng => Kị","Bảng tứ hóa 2 - Canh Âm => Kị","Bảng tứ hóa 3 - Trung Châu Phái","Bảng tứ hóa 4 - Phái khác","Bảng tứ hóa 5 - Trường phái nhỏ"],i0=["lá số tử vi tổng hợp","lá số tử vi Phi Tinh Lương Phái kết hợp Nam Phái","lá số tử vi Khâm Thiên Tứ Hóa kết hợp Nam Phái","lá số tử vi Nam Phái","lá số tử vi Phi Tinh Lương Phái","lá số tử vi Khâm Thiên Tứ Hóa","lá số Trung Châu Phái","lá số Trung Châu Phái & Khâm Thiên Tứ Hóa","lá số Trung Châu Phái & Lương Phái"],Sw=["Hiện đủ sao","Hiện sao chính","Hiện sao chính, quý tinh","Hiện sao chính, quý tinh, trường sinh","Hiện sao chính, quý tinh, trường sinh, lục bại"],Cw=["Không hiện sao lưu","Hiện 9 sao lưu","Hiện 15 sao lưu","Hiện toàn bộ sao lưu"];function QS(t,e){for(const n of t)if(n.includes(e))return!0;return!1}function Qr(t,e=new Date,n=1,r=[...Wn]){const i=r,s=t??new Date,a=is(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),o=`?s=${n}&b=${`${s.getFullYear()}.${(s.getMonth()+1).toString().padStart(2,"0")}.${s.getDate().toString().padStart(2,"0")}.${s.getHours().toString().padStart(2,"0")}.${s.getMinutes().toString().padStart(2,"0")}`}&v=${`${e.getFullYear()}.${(e.getMonth()+1).toString().padStart(2,"0")}.${e.getDate().toString().padStart(2,"0")}.${e.getHours().toString().padStart(2,"0")}`}&cf=${i.join("")}`,l=`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}-${s.getHours()}-${s.getMinutes()}`,c=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}-${e.getHours()}`;return{url:o,urlArr:[o],sex:n,dtBorn:s,strBorn:l,tkccBorn:"",dtView:e,strView:c,cfg:i,key:"",luna:a}}const _c=t=>{try{const e=new URLSearchParams(t.split("?")[1]),n=Number(e.get("s"))||1,r=(e.get("b")||"").split("."),i=(e.get("v")||"").split("."),s=e.get("cf")||"",a=s?$a(s):[...Wn];let o=new Date;5===r.length&&(o=new Date(Number(r[0]),Number(r[1])-1,Number(r[2]),Number(r[3]),Number(r[4])));let l=new Date;4===i.length&&(l=new Date(Number(i[0]),Number(i[1])-1,Number(i[2]),Number(i[3]),0));const c=`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}-${o.getHours()}-${o.getMinutes()}`,h=`${l.getFullYear()}-${l.getMonth()+1}-${l.getDate()}-${l.getHours()}`;return{sex:n,dtBorn:o,strBorn:c,tkccBorn:"",dtView:l,strView:h,cfg:a,key:"",keyUrl:""}}catch{return Tw()}},Tw=()=>({sex:1,dtBorn:new Date,strBorn:qt().format("YYYY-MM-DDTHH:mm:ss"),tkccBorn:"giap-thin-tan-mui-mau-ty-nham-tuat",dtView:new Date,strView:qt().format("YYYY-MM-DDTHH:mm:ss"),cfg:[...Wn],key:"err",keyUrl:"err"}),Pw=t=>{const e=t.ls;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-5",children:[d.jsx("h4",{className:"text-[18px] font-bold",children:"Bát quái mê tung bộ"}),d.jsxs("span",{children:["(Tham khảo:"," ",d.jsx("a",{href:"https://alexalpha.sapopage.com/?utm_source=tinhmenhdo.com",className:"hover:text-orange-500",title:"Khâm Thiên Tứ Hóa Dễ Hiểu",children:"Khâm Thiên Tứ Hóa Dễ Hiểu)"})]})]}),d.jsx("div",{className:"mb-10",children:d.jsx(d.Fragment,{children:d.jsx("div",{className:"flex flex-wrap",children:e.ars.map(((t,n)=>d.jsx("div",{children:t.que.length>0?d.jsxs("div",{className:"que",children:[d.jsx("div",{className:"mb-2 font-bold",children:b6[t.ai]}),d.jsx("ul",{className:"flex flex-wrap",children:t.que.map(((t,n)=>{const r=w6[t[0]],i=t[1],s=t[2];return d.jsxs("li",{className:"queItem group",title:`Ý nghĩa quẻ: ${r[2]} - [${ji[i[0]]}${ji[i[1]]}${ji[i[2]]}] - [${Ke[e.ars[s[0]].ai]} ${Ke[e.ars[s[1]].ai]} ${Ke[e.ars[s[2]].ai]}]`,children:[d.jsx("h4",{className:"queName",children:r[0]}),d.jsxs("div",{className:"queMean",children:[t[0]+1," ",d.jsx("h4",{className:"block w-full font-normal",children:r[1]})]}),d.jsxs("div",{className:"queExpl group-hover:opacity-95",children:[d.jsx("div",{className:`colorHoa${i[0]} queTuhoa`,children:ji[i[0]]}),d.jsx("div",{className:`colorHoa${i[1]} queTuhoa`,children:ji[i[1]]}),d.jsx("div",{className:`colorHoa${i[2]} queTuhoa`,children:ji[i[2]]})]}),d.jsxs("div",{className:"queExpl2 group-hover:opacity-95",children:[d.jsx("div",{className:"queBuild",children:Ke[e.ars[s[0]].ai].toLowerCase()}),d.jsx("div",{className:"queBuild",children:Ke[e.ars[s[1]].ai].toLowerCase()}),d.jsx("div",{className:"queBuild",children:Ke[e.ars[s[2]].ai].toLowerCase()})]})]},`qu${n}`)}))})]},`q${n}`):d.jsx(d.Fragment,{})},"ars"+n)))})})})]})},Aw=({typeInput:t,dateTime:e,onChange:n,minDate:r,_maxDate:i,showMinute:s=!1})=>{const a="dateTimeView"===t,o=a&&r?qt(r):null,l=a?o?.year():1e3,c=a?(o?.year()||0)+120:2099,[h,u]=W.useState(qt(e)),[f,p]=W.useState({year:h.year(),month:h.month()+1,date:h.date(),hour:h.hour(),minute:h.minute()}),[g,m]=W.useState({start:100*Math.floor(h.year()/100),end:100*Math.floor(h.year()/100)+99}),[v,y]=W.useState(!1);W.useEffect((()=>{const t=qt(e);u(t),p({year:t.year(),month:t.month()+1,date:t.date(),hour:t.hour(),minute:t.minute()})}),[e]);const b=[{name:"year",label:"Năm",min:l,max:c},{name:"month",label:"Tháng",min:1,max:12},{name:"date",label:"Ngày",min:1,max:31},{name:"hour",label:"Giờ",min:0,max:23,padStart:!0},...s?[{name:"minute",label:"Phút",min:0,max:59,padStart:!0}]:[]],x=(e,r)=>{let i=h;if(r)switch(e.name){case"minute":i=59===i.minute()?i.minute(0).add(1,"hour"):i.add(1,"minute");break;case"hour":i=23===i.hour()?i.hour(0).add(1,"day"):i.add(1,"hour");break;case"date":i=i.date()===i.endOf("month").date()?i.date(1).add(1,"month"):i.add(1,"day");break;case"month":i=11===i.month()?i.month(0).add(1,"year"):i.add(1,"month");break;case"year":i=i.add(1,"year")}else switch(e.name){case"minute":i=0===i.minute()?i.subtract(1,"hour").minute(59):i.subtract(1,"minute");break;case"hour":i=0===i.hour()?i.subtract(1,"day").hour(23):i.subtract(1,"hour");break;case"date":1===i.date()?(i=i.subtract(1,"month"),i=i.date(i.daysInMonth())):i=i.subtract(1,"day");break;case"month":i=0===i.month()?i.subtract(1,"year").month(11):i.subtract(1,"month");break;case"year":i=i.subtract(1,"year")}if(a&&o){if(i.isBefore(o))i=qt(o);else if(i.year()>o.year()+120)return}else if(i.year()<l||i.year()>c)return;u(i),p({year:i.year(),month:i.month()+1,date:i.date(),hour:i.hour(),minute:i.minute()}),n(t,i.toDate())},w=t=>{m(t?t=>({start:t.start+100,end:t.end+100}):t=>({start:t.start-100,end:t.end-100}))},_=()=>{const t=[],e=a?o?.year()||1e3:g.start,n=a?(o?.year()||0)+120:g.end;for(let r=e;r<=n;r++)t.push(r);return t};return d.jsx("div",{className:"flex flex-col space-y-4",children:b.map((e=>d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:e.label}),d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"flex items-center h-14 rounded-lg border border-gray-300 bg-white overflow-hidden",children:[d.jsx("button",{onClick:()=>x(e,!1),className:"\n                  flex-none w-14 h-full flex items-center justify-center text-2xl\n                  transition-colors hover:bg-gray-100 active:bg-gray-200\n                  text-gray-700 cursor-pointer\n                ",children:"dateTimeBorn"===t?"◀":"◁"}),d.jsx("div",{className:"flex-1 h-full flex items-center justify-center",children:"year"!==e.name||a?d.jsx("select",{value:f[e.name],onChange:r=>{const i=parseInt(r.target.value);let s=h;switch(e.name){case"year":s=h.year(i);break;case"month":s=h.month(i-1);break;case"date":s=h.date(i);break;case"hour":s=h.hour(i);break;case"minute":s=h.minute(i)}if(a&&o)if(s.isBefore(o))s=qt(o);else if(s.year()>o.year()+120)return;u(s),p((t=>({...t,[e.name]:i}))),n(t,s.toDate())},className:"w-full h-full text-center text-xl font-medium cursor-pointer focus:outline-none appearance-none bg-transparent hover:bg-gray-50",children:"year"===e.name&&a?Array.from({length:(o?.year()||0)+121-(o?.year()||0)},((t,e)=>(o?.year()||0)+e)).map((t=>d.jsx("option",{value:t,children:t},t))):"month"===e.name?Array.from({length:12},((t,e)=>e+1)).map((t=>d.jsx("option",{value:t,children:t},t))):"date"===e.name?Array.from({length:31},((t,e)=>e+1)).map((t=>d.jsx("option",{value:t,children:t},t))):"hour"===e.name?Array.from({length:24},((t,e)=>e)).map((t=>d.jsx("option",{value:t,children:t.toString().padStart(2,"0")},t))):Array.from({length:60},((t,e)=>e)).map((t=>d.jsx("option",{value:t,children:t.toString().padStart(2,"0")},t)))}):d.jsx("div",{className:"w-full h-full flex items-center justify-center cursor-pointer hover:bg-gray-50",onClick:()=>y(!v),children:d.jsxs("span",{className:"text-xl font-medium",children:[f[e.name]," ▾"]})})}),d.jsx("button",{onClick:()=>x(e,!0),className:"\n                  flex-none w-14 h-full flex items-center justify-center text-2xl\n                  transition-colors hover:bg-gray-100 active:bg-gray-200\n                  text-gray-700 cursor-pointer\n                ",children:"dateTimeBorn"===t?"▶":"▷"})]}),"year"===e.name&&!a&&v&&d.jsxs("div",{className:"absolute top-full left-0 w-full mt-1 bg-white border rounded-lg shadow-lg z-50 max-h-60 overflow-auto",children:[d.jsxs("div",{className:"sticky top-0 flex justify-between items-center p-2 bg-gray-50 border-b",children:[d.jsxs("button",{onClick:()=>w(!1),className:"px-3 py-1 text-sm rounded hover:bg-gray-200",disabled:g.start<=1e3,children:["◀ ",g.start-100," - ",g.start-1]}),d.jsxs("span",{className:"font-medium",children:[g.start," - ",g.end]}),d.jsxs("button",{onClick:()=>w(!0),className:"px-3 py-1 text-sm rounded hover:bg-gray-200",disabled:g.end>=2099,children:[g.end+1," - ",g.end+100," ▶"]})]}),d.jsx("div",{className:"grid grid-cols-4 gap-1 p-2",children:_().map((e=>d.jsx("button",{onClick:()=>(e=>{const r=h.year(e);u(r),p((t=>({...t,year:e}))),n(t,r.toDate()),y(!1)})(e),className:`\n                        p-2 text-center rounded hover:bg-blue-50\n                        ${e===f.year?"bg-blue-100 font-medium":""}\n                      `,children:e},e)))})]})]})]},e.name)))})},Nw={src:"/0rd1RC1i/CcqVVc0S.png",width:180,height:180,format:"png"},Mi={LaSoTuVi:({color:t="#2C3E50"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:t,strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 7V17M7 12H17",stroke:t,strokeWidth:"2"})]}),LuongPhai:({color:t="#27AE60"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:t,strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 8V16M8 12H16",stroke:t,strokeWidth:"2"})]}),KhamThien:({color:t="#8E44AD"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L14.4 7.2L20 8.5L16 12.9L17 18.5L12 15.9L7 18.5L8 12.9L4 8.5L9.6 7.2L12 2Z",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 8L13 10.5L15.5 11L13.75 12.75L14 15L12 14L10 15L10.25 12.75L8.5 11L11 10.5L12 8Z",fill:t})]}),TrungChau:({color:t="#C0392B"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 2V22M2 12H22",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:t,strokeWidth:"2"})]}),ShowStar:({color:t="#2980B9"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:t,strokeWidth:"2",fill:"none"}),d.jsx("circle",{cx:"12",cy:"12",r:"3",fill:t})]}),TuHoa:({color:t="#34495e"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:t,strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 8V16M8 12H16",stroke:t,strokeWidth:"2"})]}),LuuTuHoa:({color:t="#3498db"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:t,strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 8L14 12L12 16L10 12L12 8Z",stroke:t,strokeWidth:"2"})]}),TuanHoan:({color:t="#3498db"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 8L10 6M12 8L14 6",stroke:t,strokeWidth:"2"})]}),CungViTrung:({color:t="#9b59b6"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 2V22M2 12H22",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:t,strokeWidth:"2"})]}),LocKiToanDo:({color:t="#e67e22"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:t,strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 8L14 12L12 16L10 12L12 8Z",fill:t})]}),SaoLuu:({color:t="#8e44ad"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 2L14.5 9H21L16 14L18 21L12 17L6 21L8 14L3 9H9.5L12 2Z",stroke:t,strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"3",fill:t}),d.jsx("path",{d:"M12 9L13.5 12L12 15L10.5 12L12 9Z",fill:t})]}),DaiVan:({color:t="#34495e"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 6V12L16 16",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 2V4M4 12H2M12 20V22M20 12H22",stroke:t,strokeWidth:"2"})]}),BatTu:({color:t="#3498db"})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M12 2V22M2 12H22",stroke:t,strokeWidth:"2"}),d.jsx("path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:t,strokeWidth:"2"}),d.jsx("circle",{cx:"12",cy:"12",r:"2",fill:t})]}),PhiHoa:({type:t=0})=>{const e=rs;return d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:e[t],strokeWidth:"2",fill:"white"}),d.jsx("text",{x:"12",y:"16",textAnchor:"middle",fill:e[t],style:{font:"bold 13px sans-serif",userSelect:"none"},children:ji[t]})]})},NumberIcon:({color:t="#000000",number:e=1})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"2",fill:"white"}),d.jsx("text",{x:"12",y:"16",textAnchor:"middle",fill:t,style:{font:"bold 13px sans-serif",userSelect:"none"},children:e})]})},ya={sex:["#3498db","#e91e63"],showSun:["#95a5a6","#f1c40f"],tuanHoanZone:["#95a5a6","#3498db"],rotateZone:["#95a5a6","#9b59b6"],locKiToanDo:["#95a5a6","#e67e22"],dvStar:["#95a5a6","#34495e"],batTuCung:["#95a5a6","#3498db"]},Lw=({cfgLs:t,onConfigChange:e,sex:n,onSexChange:r,dateTimeBorn:i,dateTimeView:s,onDateChange:a})=>{const[o,l]=W.useState({dateTimeBorn:i,dateTimeView:s});W.useEffect((()=>{l({dateTimeBorn:i,dateTimeView:s})}),[i,s]);const c=[{id:"sex",icon:1===n?d.jsx("span",{className:"material-symbols-rounded",children:"male"}):d.jsx("span",{className:"material-symbols-rounded",children:"female"}),title:"Giới tính",options:[{value:1,label:"Nam",color:ya.sex[0],icon:d.jsx("span",{className:"material-symbols-rounded",children:"male"})},{value:0,label:"Nữ",color:ya.sex[1],icon:d.jsx("span",{className:"material-symbols-rounded",children:"female"})}],current:n},{id:"dateTimeBorn",icon:d.jsx("span",{className:"material-symbols-rounded",children:"calendar_month"}),title:"Năm sinh",isDateTime:!0,value:i,color:"#2ecc71"},{id:"dateTimeView",icon:d.jsx("span",{className:"material-symbols-rounded",children:"schedule"}),title:"Năm xem",isDateTime:!0,value:s,color:"#9b59b6"},{id:bt.showSun,icon:d.jsx("span",{className:"material-symbols-rounded",children:"wb_sunny"}),title:"Hiện dương lịch",options:[{value:0,label:"Không hiện",color:ya.showSun[0],icon:d.jsx("span",{className:"material-symbols-rounded",children:"visibility_off"})},{value:1,label:"Hiện",color:ya.showSun[1],icon:d.jsx("span",{className:"material-symbols-rounded",children:"visibility"})}]},{id:bt.typeLs,icon:d.jsx("span",{className:"material-symbols-rounded",children:"auto_stories"}),title:"Kiểu lá số",options:yw.map(((t,e)=>({value:e,label:t,color:Fe[e],icon:d.jsx("span",{className:"material-symbols-rounded",children:"auto_stories"})})))},{id:bt.tcpb,icon:d.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"}),title:"Bàn Trung Châu",hidden:![6,7,8].includes(t[bt.typeLs]),options:bw.map(((t,e)=>({value:e,label:t,color:ww[e],icon:d.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"}),description:0===e?"Hiển thị các sao trên Thiên Bàn":1===e?"Hiển thị các cung trên Địa Bàn":"Hiển thị các yếu tố trên Nhân Bàn"})))},{id:bt.typePhiHoa,icon:e=>d.jsx(Mi.PhiHoa,{type:t[bt.typePhiHoa]}),title:"Phi hóa",options:[{value:0,label:"Hóa Lộc",color:rs[0],icon:()=>d.jsx(Mi.PhiHoa,{type:0})},{value:1,label:"Hóa Quyền",color:rs[1],icon:()=>d.jsx(Mi.PhiHoa,{type:1})},{value:2,label:"Hóa Khoa",color:rs[2],icon:()=>d.jsx(Mi.PhiHoa,{type:2})},{value:3,label:"Hóa Kị",color:rs[3],icon:()=>d.jsx(Mi.PhiHoa,{type:3})}]},{id:bt.lsCanType,icon:d.jsx("span",{className:"material-symbols-rounded",children:"view_module"}),title:"Bảng tứ hóa",options:_w.map(((t,e)=>({value:e,label:t,color:Fe[e],icon:d.jsx("span",{className:"material-symbols-rounded",children:"view_module"})})))},{id:bt.showHoaIcon,icon:e=>{const n=t[bt.showHoaIcon];return d.jsx(Mi.NumberIcon,{color:e,number:n+1})},title:"Hiện các tầng hóa",options:xw.map(((t,e)=>({value:e,label:t,color:Fe[e],icon:t=>d.jsx(Mi.NumberIcon,{color:t,number:e+1})})))},{id:bt.tuanHoanZone,icon:d.jsx("span",{className:"material-symbols-rounded",children:"loop"}),title:"Tuần hoàn lộc kị",options:[{value:0,label:"Không hiện",color:Fe[4],icon:d.jsx("span",{className:"material-symbols-rounded",children:"sync_disabled"})},{value:1,label:"Hiện",color:Fe[5],icon:d.jsx("span",{className:"material-symbols-rounded",children:"loop"})}]},{id:bt.rotateZone,icon:d.jsx("span",{className:"material-symbols-rounded",children:"rotate_90_degrees_ccw"}),title:"Cung vị trùng điệp",options:[{value:0,label:"Không hiện",color:Fe[4],icon:d.jsx("span",{className:"material-symbols-rounded",children:"block"})},{value:1,label:"Hiện",color:Fe[5],icon:d.jsx("span",{className:"material-symbols-rounded",children:"rotate_90_degrees_ccw"})}]},{id:bt.locKiToanDo,icon:d.jsx("span",{className:"material-symbols-rounded",children:"star_rate"}),title:"Lộc kị toàn đồ",options:[{value:0,label:"Không hiện",color:Fe[4],icon:d.jsx("span",{className:"material-symbols-rounded",children:"star_border"})},{value:1,label:"Hiện",color:Fe[5],icon:d.jsx("span",{className:"material-symbols-rounded",children:"star_rate"})}]},{id:bt.showHideStar,icon:d.jsx("span",{className:"material-symbols-rounded",children:"stars"}),title:"Hiện nhóm sao",options:Sw.map(((t,e)=>({value:e,label:t,color:Fe[e],icon:d.jsx("span",{className:"material-symbols-rounded",children:"stars"})})))},{id:bt.currentStar,icon:d.jsx("span",{className:"material-symbols-rounded",children:"auto_awesome_motion"}),title:"Sao lưu",options:Cw.map(((t,e)=>({value:e,label:t,color:Fe[e],icon:d.jsx("span",{className:"material-symbols-rounded",children:"auto_awesome_motion"})})))},{id:bt.dvStar,icon:d.jsx("span",{className:"material-symbols-rounded",children:"grade"}),title:"Sao lưu đại vận",options:[{value:0,label:"Không hiện",color:Fe[4],icon:d.jsx("span",{className:"material-symbols-rounded",children:"star_outline"})},{value:1,label:"Hiện",color:Fe[5],icon:d.jsx("span",{className:"material-symbols-rounded",children:"grade"})}]},{id:bt.batTuCung,icon:d.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"}),title:"Bát tự từng năm",options:[{value:0,label:"Không hiện",color:Fe[4],icon:d.jsx("span",{className:"material-symbols-rounded",children:"block"})},{value:1,label:"Hiện",color:Fe[5],icon:d.jsx("span",{className:"material-symbols-rounded",children:"view_timeline"})}]}],[h,u]=W.useState(null),[f,p]=W.useState({x:0,y:0}),[g,m]=W.useState(!1),[v,y]=W.useState(null),[b,x]=W.useState(!1),[w,_]=W.useState(!1),S=()=>{_(!0),setTimeout((()=>{m(!1),_(!1),y(null)}),300)},C=(t,n)=>{"sex"===t.id?(r(n.value),u(null)):t.id===bt.typeLs?(e(bt.typeLs,n.value),u(null),[6,7,8].includes(n.value)?(x(!0),setTimeout((()=>{const t=document.querySelector(".options-panel");t&&(t.scrollTop=0)}),50)):x(!1)):t.id===bt.tcpb?(e(bt.tcpb,n.value),u(null)):(e(t.id,n.value),u(null))},T=(t,e)=>{"dateTimeBorn"===t?(a(t,e),e.getTime()>s.getTime()&&a("dateTimeView",e)):a(t,e)};return d.jsxs(d.Fragment,{children:[d.jsx("style",{children:"\n          @keyframes swalShow {\n            from {\n              opacity: 0;\n              transform: scale(0.8);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n\n          @keyframes swalHide {\n            from {\n              opacity: 1;\n              transform: scale(1);\n            }\n            to {\n              opacity: 0;\n              transform: scale(0.8);\n            }\n          }\n\n          .swal-show-animation {\n            animation: swalShow 0.3s ease-out;\n          }\n\n          .swal-hide-animation {\n            animation: swalHide 0.2s ease-in forwards;\n          }\n\n          @keyframes scaleIn {\n            from { transform: scale(0.5); opacity: 0; }\n            to { transform: scale(1); opacity: 1; }\n          }\n\n          @keyframes slideIn {\n            from { transform: translateY(100%); }\n            to { transform: translateY(0); }\n          }\n\n          .floating-menu {\n            animation: scaleIn 0.2s ease-out;\n          }\n\n          .tool-options {\n            animation: slideIn 0.3s ease-out;\n          }\n\n          .speed-dial-icon {\n            transition: transform 0.3s ease;\n          }\n\n          .speed-dial-icon.open {\n            transform: rotate(45deg);\n          }\n\n          /* Safe areas for mobile */\n          .safe-area-top {\n            padding-top: env(safe-area-inset-top, 0px);\n          }\n          \n          .pb-safe {\n            padding-bottom: env(safe-area-inset-bottom, 16px);\n          }\n\n          @keyframes slideInRight {\n            from {\n              transform: translateX(100%);\n              opacity: 0;\n            }\n            to {\n              transform: translateX(0);\n              opacity: 1;\n            }\n          }\n\n          @keyframes slideOutRight {\n            from {\n              transform: translateX(0);\n              opacity: 1;\n            }\n            to {\n              transform: translateX(100%);\n              opacity: 0;\n            }\n          }\n\n          .slide-in {\n            animation: slideInRight 0.3s ease-out forwards;\n          }\n\n          .slide-out {\n            animation: slideOutRight 0.3s ease-out forwards;\n          }\n\n          @keyframes fadeIn {\n            from {\n              opacity: 0;\n            }\n            to {\n              opacity: 1;\n            }\n          }\n\n          @keyframes fadeOut {\n            from {\n              opacity: 1;\n            }\n            to {\n              opacity: 0;\n            }\n          }\n\n          .fade-in {\n            animation: fadeIn 0.3s ease-out forwards;\n          }\n\n          .fade-out {\n            animation: fadeOut 0.3s ease-out forwards;\n          }\n        "}),d.jsx("div",{className:"fixed z-50 right-0 bottom-0",children:d.jsx("button",{onClick:()=>{m(!g),g&&(y(null),x(!1))},className:"\n            w-14 h-14 rounded-full bg-white shadow-lg\n            flex items-center justify-center\n            hover:opacity-90 transition-all\n            focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2\n            overflow-hidden\n          ",children:d.jsx("img",{src:Nw.src,alt:"Settings",className:"w-full h-full object-cover"})})}),(g||w)&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`\n              fixed inset-0 bg-black/20 z-50\n              ${w?"fade-out":"fade-in"}\n            `,onClick:S}),d.jsxs("div",{className:`\n              fixed top-0 right-0 w-full sm:w-[380px] h-screen \n              bg-white shadow-xl z-[60]\n              ${w?"slide-out":"slide-in"}\n            `,children:[d.jsx("div",{className:"safe-area-top bg-white"}),d.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-4 border-b bg-white",children:[d.jsx("h3",{className:"text-lg font-medium",children:null!==v?c.find((t=>t.id===v))?.title:"Cấu hình lá số"}),null!==v?d.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx("span",{className:"material-symbols-rounded",children:"arrow_back"})}):d.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx("span",{className:"material-symbols-rounded",children:"close"})})]}),d.jsxs("div",{className:"relative h-[calc(100vh-64px)] overflow-hidden",children:[d.jsx("div",{className:`\n                absolute inset-0 overflow-y-auto pb-safe\n                transition-transform duration-300 ease-in-out\n                ${null===v?"translate-x-0":"-translate-x-full"}\n              `,children:d.jsx("div",{className:"divide-y",children:c.map((e=>{const n=!e.hidden,r=e.isDateTime?qt(e.value).format("YYYY/MM/DD HH:mm"):e.options?.find((n=>n.value===("sex"===e.id?e.current:t[e.id])))?.label;return n&&d.jsxs("button",{className:`\n                          w-full p-4 flex items-center gap-4\n                          hover:bg-gray-50 transition-colors\n                          ${e.isDateTime?"cursor-pointer":""}\n                        `,onClick:t=>{e.isDateTime?(async(t,e)=>{const n=e.currentTarget.getBoundingClientRect();p({x:n.left+n.width/2,y:n.top-10});const r="string"==typeof t.id?t.id:Number(t.id);u(h===r?null:r),y(r)})(e,t):y(e.id)},children:[d.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-gray-100 p-0",children:"function"==typeof e.icon?d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.icon(e.color||"#000")}):e.icon}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("div",{className:"text-sm font-medium",children:e.title}),r&&d.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:r})]}),d.jsx("span",{className:"material-symbols-rounded text-gray-400",children:"chevron_right"})]},e.id)}))})}),d.jsx("div",{className:`\n                absolute inset-0 overflow-y-auto pb-safe bg-white options-panel\n                transition-transform duration-300 ease-in-out\n                ${null!==v?"translate-x-0":"translate-x-full"}\n              `,children:null!==v&&c.map((e=>{const r="string"==typeof e.id?e.id:Number(e.id);if(v===r){if(e.isDateTime){const t="dateTimeBorn"===e.id,n=t?i:s;return d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"relative flex flex-col space-y-6",children:[d.jsxs("div",{className:"w-full flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-medium mb-2",children:t?"Năm sinh":"Năm xem dương lịch"}),d.jsx("div",{className:"text-sm text-gray-500",children:qt(n).format(t?"dddd YYYY/MM/DD - HH:mm":"YYYY/MM/DD - HH")})]}),d.jsx("button",{onClick:()=>(t=>{const e=new Date;"dateTimeBorn"===t?(a(t,e),e.getTime()>s.getTime()&&a("dateTimeView",e)):"dateTimeView"===t&&(e.getTime()<i.getTime()?a(t,i):a(t,e))})(String(e.id)),className:"px-3 py-1.5 text-sm font-medium text-white bg-orange-500 \n                                    rounded-lg hover:bg-orange-600 transition-colors\n                                    active:scale-95 transform duration-100",children:"Đặt Lại"})]}),d.jsx(Aw,{typeInput:String(e.id),dateTime:n,onChange:T,minDate:t?void 0:i,_maxDate:t?void 0:qt(i).add(120,"year").toDate(),showMinute:t})]})},r)}return d.jsxs("div",{className:"relative h-full",children:[d.jsx("div",{className:`\n                          absolute inset-0 bg-white transition-transform duration-300\n                          ${b?"-translate-x-full":"translate-x-0"}\n                        `,children:d.jsx("div",{className:"p-4 space-y-3",children:e.options?.map((r=>{const i="sex"===e.id?n===r.value:t[e.id]===r.value;return d.jsxs("button",{className:`\n                                    w-full p-4 rounded-lg transition-all \n                                    flex items-center justify-between gap-3\n                                    relative\n                                    ${i?"\n                                      ring-2 ring-offset-2 ring-orange-400 \n                                      shadow-lg scale-[1.02]\n                                      z-10\n                                    ":"\n                                      hover:bg-opacity-90\n                                      active:scale-[0.98]\n                                      opacity-70\n                                    "}\n                                  `,style:{backgroundColor:r.color,transform:i?"scale(1.02)":"scale(1)"},onClick:t=>{t.stopPropagation(),C(e,r)},children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("div",{className:`\n                                      w-10 h-10 rounded-full \n                                      flex items-center justify-center\n                                      bg-white/20 backdrop-blur-sm\n                                      ${i?"bg-white/30":""}\n                                    `,children:"function"==typeof r.icon?r.icon(r.color):r.icon}),d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{className:`\n                                        text-base font-medium text-white\n                                        ${i?"font-semibold":""}\n                                      `,children:r.label}),r.description&&d.jsx("span",{className:"text-sm text-white/80",children:r.description})]})]}),i&&d.jsx("span",{className:"material-symbols-rounded text-white",children:"check_circle"})]},r.value)}))})}),[6,7,8].includes(t[bt.typeLs])&&d.jsxs("div",{className:`\n                            absolute inset-0 bg-white transition-transform duration-300\n                            ${b?"translate-x-0":"translate-x-full"}\n                          `,children:[d.jsxs("div",{className:"sticky top-0 flex items-center gap-2 p-4 border-b bg-white",children:[d.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx("span",{className:"material-symbols-rounded",children:"arrow_back"})}),d.jsx("h3",{className:"text-lg font-medium",children:"Quay lại loại lá số khác "})]}),d.jsx("div",{className:"p-4 space-y-3",children:c.find((t=>t.id===bt.tcpb))?.options?.map((e=>{const n=t[bt.tcpb]===e.value;return d.jsxs("button",{className:`\n                                      w-full p-4 rounded-lg transition-all \n                                      flex items-center justify-between gap-3\n                                      relative\n                                      ${n?"\n                                        ring-2 ring-offset-2 ring-orange-400 \n                                        shadow-lg scale-[1.02]\n                                        z-10\n                                      ":"\n                                        hover:bg-opacity-90\n                                        active:scale-[0.98]\n                                        opacity-70\n                                      "}\n                                    `,style:{backgroundColor:e.color,transform:n?"scale(1.02)":"scale(1)"},onClick:t=>{t.stopPropagation(),C(c.find((t=>t.id===bt.tcpb)),e)},children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("div",{className:`\n                                        w-10 h-10 rounded-full \n                                        flex items-center justify-center\n                                        bg-white/20 backdrop-blur-sm\n                                        ${n?"bg-white/30":""}\n                                      `,children:"function"==typeof e.icon?e.icon(e.color):e.icon}),d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{className:`\n                                        text-base font-medium text-white\n                                        ${n?"font-semibold":""}\n                                      `,children:e.label}),e.description&&d.jsx("span",{className:"text-sm text-white/80",children:e.description})]})]}),n&&d.jsx("span",{className:"material-symbols-rounded text-white",children:"check_circle"})]},e.value)}))})]})]},r)}return null}))})]})]})]})]})},kw=()=>d.jsxs("div",{children:[d.jsx("div",{id:"cv",children:d.jsx("div",{className:"konvajs-content",role:"presentation",style:{position:"relative",userSelect:"none",width:720,height:960},children:d.jsx("canvas",{width:792,height:1056,style:{padding:0,margin:0,border:0,background:"transparent",position:"absolute",top:0,left:0,width:720,height:960,display:"block"}})})}),d.jsx("div",{className:"absolute left-0 top-0 hidden size-full max-lg:block"})]}),Ew=t=>{const e=t.ls,n=e.dtv.bs,r=Yc(e),i=U1(e),s=`Thông tin lá số ${Mh(e)} sinh năm ${e.dtb.sn.y} ${r.y} tháng ${r.m} ngày ${r.d} giờ ${r.h} dương lịch ${e.dtb.sn.y}/${e.dtb.sn.m}/${e.dtb.sn.d} ${e.dtb.sn.h}:${e.dtb.sn.i??30}?`,a=`Mệnh tại ${Gt[e.am]}, mệnh ${e.ars[e.am].sb.join(", ")||"vô chính diệu"}. Giới tính <b>${i.adage}</b>, <b>${i.ad}</b> bản mệnh là <b>${i.hmenh}</b> cục <strong>${i.cuc}</strong>, ${i.sk}, thân cư ${i.tcu}`,o=`Sao mệnh chủ là <b>${i.mchu}</b>, thân chủ là<b>${i.tchu}</b>`,l=`Tiết khí của thời gian sinh này là ${$c[e.dtb.tki[0]]}`,c={"@context":"https://schema.org","@type":"FAQ Page",name:s,mainEntity:[{"@type":"Question",name:`Thông tin lá số ${e.dtb.sn.y} ${r.y} tháng ${r.m} ngày ${r.d} giờ ${r.h} dương lịch ${e.dtb.sn.y} ?`,acceptedAnswer:{"@type":"Answer",text:a}},{"@type":"Question",name:"Sao mệnh chủ, sao thân chủ?",acceptedAnswer:{"@type":"Answer",text:o}},{"@type":"Question",name:"Tiết khí của của lá số?",acceptedAnswer:{"@type":"Answer",text:l}}]},h=`color${di[e.dtb.bs.y[2]]}`,u=e.aIdx.aid0,f=t=>d.jsx("div",{className:"w-full text-center font-bold uppercase",children:0===t.length?d.jsx(d.Fragment,{children:"Vô Chính Diệu"}):d.jsx("div",{className:"m-1",children:t.map((t=>d.jsx("div",{className:"text-center text-[16px]",children:d.jsx("strong",{className:`color${Ut[t].hh}`,children:ga[t]})},t.toString())))})}),p=t=>{let e=[],n=[],r=-1;return t.forEach((t=>{1===Ut[t].typ&&"vts"!==Ut[t].cir&&e.push(t),2===Ut[t].typ&&"vts"!==Ut[t].cir&&n.push(t),"vts"===Ut[t].cir&&(r=t)})),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid w-full grid-cols-2 text-xs max-md:text-sm",children:[d.jsx("div",{className:"",children:e.map((t=>d.jsx("div",{className:"text-left",children:d.jsx("span",{className:`color${Ut[t].hh} ${Ut[t].iptt?"font-bold":"font-normal"}`,children:ga[t]})},t.toString())))}),d.jsx("div",{className:"",children:n.map((t=>d.jsx("div",{className:"text-right",children:d.jsx("span",{className:`color${Ut[t].hh} ${Ut[t].iptt?"font-bold":"font-normal"}`,children:ga[t]})},t.toString())))})]}),d.jsx("div",{className:"mt-auto w-full text-center",children:ga[r]})]})},g=(t,e,n=!0)=>d.jsxs("div",{className:"flex flex-wrap rounded-xl border-2 bg-[#f8f4ee] p-2",children:[d.jsxs("h3",{className:"mb-5 w-full text-center font-bold",suppressHydrationWarning:!0,children:[d.jsx("b",{children:t})," ",n?d.jsxs(d.Fragment,{children:["- ",d.jsxs("span",{children:[Ke[e.ai]," gốc"]})," "]}):""," ","- ",Gt[e.ci]]}),f(e.sb),p(e.ss)]});return d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[`Thông tin lá số ${e.dtb.sn.y} ${r.y} tháng ${r.m} ngày ${r.d} giờ ${r.h} dương lịch ${e.dtb.sn.y}`,d.jsx("br",{})," Giới tính ",d.jsx("b",{children:i.adage}),", ",d.jsx("b",{children:i.ad})," bản mệnh là"," ",d.jsx("strong",{className:h,children:i.hmenh})," cục ",d.jsx("strong",{children:i.cuc}),", ",i.sk,", thân cư"," ",i.tcu]}),d.jsxs("div",{className:"mx-auto mb-10",children:["Đồ hình Tử Vi cư ",d.jsx("b",{children:Gt[e.aIdx.s0]})," - Cung mệnh tại ",d.jsx("b",{className:h,children:Gt[e.am]})]}),d.jsx("h4",{className:"  hidden mb-5 text-[18px] font-bold",children:"Mệnh vận"}),d.jsxs("div",{className:" hidden mb-10  grid-cols-4 gap-3 max-xl:grid-cols-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1",children:[e.yeo>=e.cid?d.jsx(d.Fragment,{children:g("Mệnh",e.ars[e.am],!1)}):d.jsx(d.Fragment,{}),e.yeo>=e.cid?d.jsx(d.Fragment,{children:g("Mệnh đại vận",e.ars[u],!1)}):d.jsx(d.Fragment,{}),d.jsx(d.Fragment,{children:g("Mệnh lưu niên",e.ars[n.y[1]],!1)}),d.jsx(d.Fragment,{children:g("Tiểu vận",e.ars[e.aIdx.lynpc],!1)})]}),d.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(c)}})]})};var K1={exports:{}},Mw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rw=Mw,jw=Rw;function V1(){}function W1(){}W1.resetWarningCache=V1;var Iw=function(){function t(t,e,n,r,i,s){if(s!==jw){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:W1,resetWarningCache:V1};return n.PropTypes=n,n};K1.exports=Iw();var Ow=K1.exports;const Ee=fs(Ow);var Bw=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(s=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!=i--;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n};const Dw=fs(Bw);var z1,qc={exports:{}},Fw=z1=function(){var t={},e={};return t.on=function(t,n){var r={name:t,handler:n};return e[t]=e[t]||[],e[t].unshift(r),r},t.off=function(t){var n=e[t.name].indexOf(t);-1!==n&&e[t.name].splice(n,1)},t.trigger=function(t,n){var r,i=e[t];if(i)for(r=i.length;r--;)i[r].handler(n)},t},Xc={exports:{}},$w=function(t,e,n){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof e&&(n=e,e={}),e=e||{},n=n||function(){},i.type=e.type||"text/javascript",i.charset=e.charset||"utf8",i.async=!("async"in e)||!!e.async,i.src=t,e.attrs&&Gw(i,e.attrs),e.text&&(i.text=""+e.text),("onload"in i?r0:Hw)(i,n),i.onload||r0(i,n),r.appendChild(i)};function Gw(t,e){for(var n in e)t.setAttribute(n,e[n])}function r0(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Hw(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}!function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=$w)&&n.__esModule?n:{default:n};e.default=function(t){return new Promise((function(e){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)e(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,r.default)(n+"//www.youtube.com/iframe_api",(function(e){e&&t.trigger("error",e)}));var i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){i&&i(),e(window.YT)}}}))},t.exports=e.default}(Xc,Xc.exports);var Uw=Xc.exports,Zc={exports:{}},Qc={exports:{}},Jc={exports:{}},os=1e3,ls=60*os,cs=60*ls,hs=24*cs,Kw=365.25*hs,Vw=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return Ww(t);if("number"===n&&!1===isNaN(t))return e.long?Yw(t):zw(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ww(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Kw;case"days":case"day":case"d":return n*hs;case"hours":case"hour":case"hrs":case"hr":case"h":return n*cs;case"minutes":case"minute":case"mins":case"min":case"m":return n*ls;case"seconds":case"second":case"secs":case"sec":case"s":return n*os;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function zw(t){return t>=hs?Math.round(t/hs)+"d":t>=cs?Math.round(t/cs)+"h":t>=ls?Math.round(t/ls)+"m":t>=os?Math.round(t/os)+"s":t+"ms"}function Yw(t){return ba(t,hs,"day")||ba(t,cs,"hour")||ba(t,ls,"minute")||ba(t,os,"second")||t+" ms"}function ba(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}!function(t,e){var n;function r(t){function r(){if(r.enabled){var t=r,i=+new Date,s=i-(n||i);t.diff=s,t.prev=n,t.curr=i,n=i;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=e.formatters[r];if("function"==typeof i){var s=a[l];n=i.call(t,s),a.splice(l,1),l--}return n})),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(r),r}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Vw,e.names=[],e.skips=[],e.formatters={}}(Jc,Jc.exports);var qw=Jc.exports;!function(t,e){var n={};function r(){var t;try{t=e.storage.debug}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=n.DEBUG),t}(e=t.exports=qw).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(s=i))})),t.splice(s,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch{}},e.load=r,e.useColors=function(){return!!(typeof window<"u"&&window.process&&"renderer"===window.process.type)||(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())}(Qc,Qc.exports);var Xw=Qc.exports,th={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default}(th,th.exports);var Zw=th.exports,eh={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default}(eh,eh.exports);var Qw=eh.exports,nh={exports:{}},ih={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default}(ih,ih.exports);var Jw=ih.exports;!function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=Jw)&&n.__esModule?n:{default:n};e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default}(nh,nh.exports);var t9=nh.exports;!function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=a(Xw),r=a(Zw),i=a(Qw),s=a(t9);function a(t){return t&&t.__esModule?t:{default:t}}var o=(0,n.default)("youtube-player"),l={proxyEvents:function(t){var e={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);e[r]=function(e){o('event "%s"',r,e),t.trigger(n,e)}},r=!0,s=!1,a=void 0;try{for(var l,c=i.default[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){n(l.value)}}catch(t){s=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw a}}return e},promisifyPlayer:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},i=function(r){e&&s.default[r]?n[r]=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.then((function(t){var e=s.default[r],i=t.getPlayerState(),a=t[r].apply(t,n);return e.stateChangeRequired||Array.isArray(e.acceptableStates)&&-1===e.acceptableStates.indexOf(i)?new Promise((function(n){t.addEventListener("onStateChange",(function r(){var i=t.getPlayerState(),s=void 0;"number"==typeof e.timeout&&(s=setTimeout((function(){t.removeEventListener("onStateChange",r),n()}),e.timeout)),Array.isArray(e.acceptableStates)&&-1!==e.acceptableStates.indexOf(i)&&(t.removeEventListener("onStateChange",r),clearTimeout(s),n())}))})).then((function(){return a})):a}))}:n[r]=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.then((function(t){return t[r].apply(t,n)}))}},a=!0,o=!1,l=void 0;try{for(var c,h=r.default[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){i(c.value)}}catch(t){o=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(o)throw l}}return n}};e.default=l,t.exports=e.default}(Zc,Zc.exports);var e9=Zc.exports;!function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=a(Fw),i=a(Uw),s=a(e9);function a(t){return t&&t.__esModule?t:{default:t}}var o=void 0;e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(0,r.default)();if(o||(o=(0,i.default)(l)),e.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof t&&!document.getElementById(t))throw new Error('Element "'+t+'" does not exist.');e.events=s.default.proxyEvents(l);var c=new Promise((function(r){"object"===(typeof t>"u"?"undefined":n(t))&&t.playVideo instanceof Function?r(t):o.then((function(n){var i=new n.Player(t,e);return l.on("ready",(function(){r(i)})),null}))})),h=s.default.promisifyPlayer(c,a);return h.on=l.on,h.off=l.off,h},t.exports=e.default}(qc,qc.exports);var n9=qc.exports;const i9=fs(n9);var r9=Object.defineProperty,s9=Object.defineProperties,a9=Object.getOwnPropertyDescriptors,s0=Object.getOwnPropertySymbols,o9=Object.prototype.hasOwnProperty,l9=Object.prototype.propertyIsEnumerable,a0=(t,e,n)=>e in t?r9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rh=(t,e)=>{for(var n in e||(e={}))o9.call(e,n)&&a0(t,n,e[n]);if(s0)for(var n of s0(e))l9.call(e,n)&&a0(t,n,e[n]);return t},sh=(t,e)=>s9(t,a9(e)),c9=(t,e,n)=>new Promise(((r,i)=>{var s=t=>{try{o(n.next(t))}catch(t){i(t)}},a=t=>{try{o(n.throw(t))}catch(t){i(t)}},o=t=>t.done?r(t.value):Promise.resolve(t.value).then(s,a);o((n=n.apply(t,e)).next())}));function h9(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=(null==(n=t.opts)?void 0:n.playerVars)||{},s=(null==(r=e.opts)?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function o0(t={}){return sh(rh({},t),{height:0,width:0,playerVars:sh(rh({},t.playerVars),{autoplay:0,start:0,end:0})})}function u9(t,e){return t.videoId!==e.videoId||!Dw(o0(t.opts),o0(e.opts))}function d9(t,e){var n,r,i,s;return t.id!==e.id||t.className!==e.className||(null==(n=t.opts)?void 0:n.width)!==(null==(r=e.opts)?void 0:r.width)||(null==(i=t.opts)?void 0:i.height)!==(null==(s=e.opts)?void 0:s.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var f9={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},g9={videoId:Ee.string,id:Ee.string,className:Ee.string,iframeClassName:Ee.string,style:Ee.object,title:Ee.string,loading:Ee.oneOf(["lazy","eager"]),opts:Ee.objectOf(Ee.any),onReady:Ee.func,onError:Ee.func,onPlay:Ee.func,onPause:Ee.func,onEnd:Ee.func,onStateChange:Ee.func,onPlaybackRateChange:Ee.func,onPlaybackQualityChange:Ee.func},Na=class extends gr.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var e,n;return null==(n=(e=this.props).onReady)?void 0:n.call(e,t)},this.onPlayerError=t=>{var e,n;return null==(n=(e=this.props).onError)?void 0:n.call(e,t)},this.onPlayerStateChange=t=>{var e,n,r,i,s,a,o,l;switch(null==(n=(e=this.props).onStateChange)||n.call(e,t),t.data){case Na.PlayerState.ENDED:null==(i=(r=this.props).onEnd)||i.call(r,t);break;case Na.PlayerState.PLAYING:null==(a=(s=this.props).onPlay)||a.call(s,t);break;case Na.PlayerState.PAUSED:null==(l=(o=this.props).onPause)||l.call(o,t)}},this.onPlayerPlaybackRateChange=t=>{var e,n;return null==(n=(e=this.props).onPlaybackRateChange)?void 0:n.call(e,t)},this.onPlayerPlaybackQualityChange=t=>{var e,n;return null==(n=(e=this.props).onPlaybackQualityChange)?void 0:n.call(e,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const t=sh(rh({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=i9(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;null==(t=this.internalPlayer)||t.getIframe().then((t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,e,n,r;if(typeof this.props.videoId>"u"||null===this.props.videoId)return void(null==(t=this.internalPlayer)||t.stopVideo());let i=!1;const s={videoId:this.props.videoId};null!=(e=this.props.opts)&&e.playerVars&&(i=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(s.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(s.endSeconds=this.props.opts.playerVars.end)),i?null==(n=this.internalPlayer)||n.loadVideoById(s):null==(r=this.internalPlayer)||r.cueVideoById(s)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return c9(this,null,(function*(){d9(t,this.props)&&this.updatePlayer(),u9(t,this.props)&&(yield this.resetPlayer()),h9(t,this.props)&&this.updateVideo()}))}componentWillUnmount(){this.destroyPlayer()}render(){return gr.createElement("div",{className:this.props.className,style:this.props.style},gr.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},to=Na;to.propTypes=g9,to.defaultProps=f9,to.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var p9=to;const m9=W.memo((()=>d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"mb-10",children:[d.jsx("h3",{className:"mb-10 text-[16px] font-bold",children:"Video hướng dẫn"}),d.jsx("div",{className:"flex justify-center",children:d.jsx(p9,{videoId:"NihjY_1UjjA",opts:{height:"400",width:"700",playerVars:{controls:1}},className:"max-w-full !w-full [&_iframe]:w-full"})})]}),d.jsxs("section",{className:"text-sm max-lg:w-full",children:[d.jsx("strong",{children:"Giải thích:"}),d.jsxs("ul",{className:"mb-10 list-disc pl-10 text-sm",children:[d.jsx("li",{children:"Tự xoay cung vị theo năm, tháng xem"}),d.jsx("li",{children:"Dấu ☸ ở cạnh tên cung là Lai Nhân Cung Khâm Thiên Tứ Hóa"}),d.jsx("li",{children:"Chữ (T) ở cạnh tên là cung Thân Nam Phái"}),d.jsx("li",{children:"Dấu + - ở chính tinh là nam nữ nhân tinh với Khâm Thiên Tứ Hóa"}),d.jsx("li",{children:"Mũi tên thẳng hướng tâm hoặc cong là các phi hóa, nét đứt là chuyển kị"}),d.jsx("li",{children:"Xanh lá, tím, da trời, đỏ tương ứng Lộc,Quyền, Khoa, Kị"}),d.jsx("li",{children:"A, B, C, D tròn là tiên thiên tứ hóa tương ứng Lộc,Quyền, Khoa, Kị"}),d.jsx("li",{children:"Trên cùng ở giữa là tên cung nguyên bàn ví dụ Mệnh, Bào, Phối..."}),d.jsx("li",{children:"Trên cùng ở bên trái tên cung đại vận ví dụ Đ.Mệnh, Đ.Bào, Đ.Phối..."}),d.jsx("li",{children:"Trên cùng ở bên phải tên cung lưu niên ví dụ L.Mệnh, L.Bào, L.Phối..."}),d.jsx("li",{children:"Tự hóa ly tâm là các mũi tên đâm ra ngoài"}),d.jsx("li",{children:"Các biểu tượng ⇄, ⇅ dưới các cung phi là tuần hoàn Lộc, Quyền hoặc Kị. ⇄ thì sẽ tuần hoàn với các cung có ⇄ tương ứng, tương tự với ⇅ sẽ ương ứng với ⇅"}),d.jsx("li",{children:"Tự hóa hướng tâm là các mũi tên đâm xuyên tâm lá số"}),d.jsx("li",{children:"Tiểu Vận góc trái phía dưới từng năm ví dụ THÌN"}),d.jsx("li",{children:"Các sao lưu đại vận có kí hiệu ◆"}),d.jsx("li",{children:"Các sao lưu hằng năm có kí hiệu ◇"}),d.jsx("li",{children:'Nguyệt Vận gần năm tiểu vận ví dụ "V5" nguyệt vận tháng 5, nguyệt vận Lương Phái là "P5" góc phải dưới'}),d.jsx("li",{children:'Lưu Nguyệt phía dưới góc phải ví dụ "G T5" lưu nguyệt tháng 5 tại cung Dần chính là "tháng 5 Giáp Dần" năm xem góc phải trên'}),d.jsx("li",{children:"⊙ cung lưu Tuần, ⊠ cung lưu Triệt, sao có chữ L. là sao lưu niên"}),d.jsx("li",{children:"Phần dưới cùng có nhiều năm 2009 2021 2003 là các năm màu năm là màu ngũ hành nạp âm. Ngay trên là Can năm đó và tuổi ví du ( Đ.13 K.25) thì là Đinh 13 tuổi, Kỷ 25 Tuổi"})]}),d.jsx("h5",{className:"mb-1 text-[15px] font-bold",title:"Bảng an tứ hóa các phái tử vi",children:"Bảng an tứ hóa các phái tử vi"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsx("table",{id:"tuhoatbl",className:"w-[1600px]",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("th",{children:"Thiên can"}),d.jsxs("th",{children:["Bảng 1 ",d.jsx("br",{})," Được dùng nhiều"]}),d.jsxs("th",{children:["Bảng 2 ",d.jsx("br",{}),"Mặc định của phần mềm"]}),d.jsxs("th",{children:["Bảng 3 ",d.jsx("br",{})," Trung Châu Phái Vương Đình Chi"]}),d.jsxs("th",{children:["Bảng 4 ",d.jsx("br",{})," Một số phái"]}),d.jsxs("th",{children:["Bảng 5 ",d.jsx("br",{})," Trường phái nhỏ khác"]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"GIÁP"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Liêm"}),d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Dương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Liêm"}),d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Dương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Liêm"}),d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Dương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Liêm"}),d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Dương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Liêm"}),d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Dương"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"ẤT"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Âm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Âm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Âm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Âm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Âm"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"BÍNH"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Xương"}),d.jsx("span",{className:"starText",children:"Liêm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Xương"}),d.jsx("span",{className:"starText",children:"Liêm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Xương"}),d.jsx("span",{className:"starText",children:"Liêm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Xương"}),d.jsx("span",{className:"starText",children:"Liêm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Xương"}),d.jsx("span",{className:"starText",children:"Liêm"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"ĐINH"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Cự"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Cự"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Cự"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Cự"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Đồng"}),d.jsx("span",{className:"starText",children:"Cơ"}),d.jsx("span",{className:"starText",children:"Cự"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"MẬU"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Bật"}),d.jsx("span",{className:"starText",children:"Cơ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Bật"}),d.jsx("span",{className:"starText",children:"Cơ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Dương"}),d.jsx("span",{className:"starText",children:"Cơ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Bật"}),d.jsx("span",{className:"starText",children:"Cơ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Bật"}),d.jsx("span",{className:"starText",children:"Cơ"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"KỶ"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Khúc"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Khúc"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Khúc"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Khúc"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText",children:"Tham"}),d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Khúc"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"CANH"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Âm"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Đồng"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Đồng"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Âm"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Phủ"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Đồng"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Đồng"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Tướng"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Vũ"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Tham"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Đồng"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"TÂN"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Khúc"}),d.jsx("span",{className:"starText",children:"Xương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Khúc"}),d.jsx("span",{className:"starText",children:"Xương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Khúc"}),d.jsx("span",{className:"starText",children:"Xương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Khúc"}),d.jsx("span",{className:"starText",children:"Xương"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Dương"}),d.jsx("span",{className:"starText",children:"Khúc"}),d.jsx("span",{className:"starText",children:"Xương"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"NHÂM"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Phụ"}),d.jsx("span",{className:"starText",children:"Vũ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Phụ"}),d.jsx("span",{className:"starText",children:"Vũ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText font-bold text-red-700",children:"Phủ"}),d.jsx("span",{className:"starText",children:"Vũ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Phụ"}),d.jsx("span",{className:"starText",children:"Vũ"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Lương"}),d.jsx("span",{className:"starText",children:"Tử"}),d.jsx("span",{className:"starText",children:"Phụ"}),d.jsx("span",{className:"starText",children:"Vũ"})]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"QUÝ"}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Tham"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Tham"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Tham"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Tham"})]}),d.jsxs("td",{children:[d.jsx("span",{className:"starText",children:"Phá"}),d.jsx("span",{className:"starText",children:"Cự"}),d.jsx("span",{className:"starText",children:"Âm"}),d.jsx("span",{className:"starText",children:"Tham"})]})]})]})})})]})]})));class v9{jumpDown(t){return(t+11)%12}jumpUp(t){return(t+1)%12}idxAfterMove(t,e,n=!0){let r=n?this.jumpDown(t):this.jumpUp(t);for(let t=1;t<=e;t++)r=n?this.jumpUp(r):this.jumpDown(r);return r}canJumpDown(t){return(t-1+10)%10}canJumpUp(t){return(t+1)%10}}const Hn=12,y9=40,Sc=28,Cc=15,b9=new Map([[2,8],[3,11],[4,5],[5,8],[6,2]]),w9=new Map([[0,8],[1,9],[2,11],[3,0],[4,2],[5,3],[6,5],[7,6],[8,5],[9,6]]);class x9{hsc;constructor(t){this.hsc=t}fillGrowCircle(){let t=b9.get(this.hsc.cid)??0,e=40;for(let n=0;n<12;n+=1)this.hsc.addStar(t,e,mt.SmallStar),t=this.hsc.jumbByYinBoyYanGirl(t),e+=1}fillDoctorCircle(t,e){let n=w9.get(t)??0,r=28;for(let t=0;t<12;t+=1)this.hsc.addStar(n,r,e),28===r&&this.hsc.addStar(n,27,e),n=this.hsc.jumbByYinBoyYanGirl(n),r+=1}fillKingCircle(t,e){let n=t,r=15;for(let t=0;t<12;t+=1)this.hsc.addStar(n,r,e),16===r&&this.hsc.addStar(n,14,e),n=this.hsc.jumbUp(n),r+=1}fillCircleSmallTime(){this.setAilPositions(),this.setMonthCanChi(),this.setLuuNguyetPositions(),this.setLuuNienPositions(),this.setLuuNguyetNPPositions()}setAilPositions(){const{dtv:t,ars:e,aIdx:n}=this.hsc;let r=t.bs.y[1],i=0;for(let t=0;t<12;t+=1)e[r].ail=i,n[`ail${i}`]=r,i=this.hsc.jumbDown(i),r=this.hsc.jumbUp(r)}setMonthCanChi(){const{dtv:t,ars:e}=this.hsc;let n=2,r=this.getNguHoDon(t.bs.y[0]);for(let t=0;t<12;t+=1)e[n].lmpt=[t+1,0,r,n,Gc.indexOf(`${be[r]} ${Gt[n]}`)],r=this.hsc.canJumpUp(r),n=this.hsc.jumbUp(n)}setLuuNguyetPositions(){const{dtv:t,dtb:e,ars:n,aIdx:r}=this.hsc;let i=t.bs.y[1];i=this.hsc.idxAfterMove(i,e.ln.m,!1),i=this.hsc.idxAfterMove(i,e.ln.h+1,!0);for(let t=0;t<12;t+=1)n[i].lmpt[1]=[t+1,t],r[`lmpt${t}`]=i,i=this.hsc.jumbUp(i)}setLuuNienPositions(){const{dtv:t,dtb:e,ars:n,aIdx:r}=this.hsc,i=t.bs.y[1];let s={8:10,0:10,4:10,2:4,6:4,10:4,5:7,9:7,1:7,11:1,3:1,7:1}[e.bs.y[1]],a=e.bs.y[1];const o=this.hsc.sx>0;for(let t=0;t<12;t+=1)i===a&&(r.lynpc=s),n[s].lynp=a,a=this.hsc.jumbUp(a),s=o?this.hsc.jumbUp(s):this.hsc.jumbDown(s)}setLuuNguyetNPPositions(){const{dtv:t,dtb:e,ars:n,aIdx:r}=this.hsc;let i=r.lynpc;i=this.hsc.idxAfterMove(i,e.ln.m,!1),i=this.hsc.idxAfterMove(i,e.ln.h+1,!0);let s=this.getNguHoDon(t.bs.y[0]),a=2;for(let e=0;e<12;e+=1)n[i].lmnp=[e+1,s,a,Gc.indexOf(`${be[s]} ${Gt[a]}`)],t.ln.m-1===e&&(r.lmnpc=i),i=this.hsc.jumbUp(i),s=this.hsc.canJumpUp(s),a=this.hsc.jumbUp(a)}getNguHoDon(t){return{4:6,5:8,6:0,7:2,8:4,9:6,0:8,1:0,2:2,3:4}[t]}fillCircleBigTime(){const{ars:t,aIdx:e}=this.hsc;let n=e.am;const r=this.hsc.cid;let i=this.hsc.cid;for(let s=0;s<12;s+=1){t[n].dv=i;const s=i,a=n;n=this.hsc.jumbByYinBoyYanGirl(n),i+=10,this.hsc.yeo>=s&&this.hsc.yeo<i&&(t[a].dvc=!0,this.hsc.dvidx=a),this.hsc.yeo<=r&&(t[e.am].dvc=!0,this.hsc.dvidx=e.am)}let s=this.hsc.dvidx,a=0;for(let n=0;n<Ke.length;n+=1)t[s].aid=a,e[`aid${a}`]=s,a=this.hsc.jumbDown(a),s=this.hsc.jumbUp(s)}}class _9{hsc;constructor(t){this.hsc=t}fillBigStar(){const t=[0,1,2,3,4,5];let e=0,n=0;for(let r=0;r<t.length;r+=1)if((this.hsc.dtb.ln.d+r)%this.hsc.cid==0){e=(this.hsc.dtb.ln.d+r)/this.hsc.cid,n=r;break}let r=this.hsc.idxAfterMove(2,e);r=this.hsc.idxAfterMove(r,n+1,n%2==0);const i=(t,e,n)=>{let r=t;return e.forEach((t=>{Number(t)>=0&&this.hsc.addStar(r,Number(t),mt.BigStar),r=n(r)})),r};i(r,[0,1,-1,2,3,4,-1,-1,5,-1,-1,-1],this.hsc.jumbDown.bind(this.hsc)),i({0:4,1:3,2:2,3:1,4:0,5:11,6:10,7:9,8:8,9:7,10:6,11:5}[r],[6,7,8,9,10,11,12,-1,-1,-1,13],this.hsc.jumbUp.bind(this.hsc))}fillSixAssassin(t,e){if(this.hsc.addStar(this.hsc.jumbUp(t),56,e),this.hsc.addStar(this.hsc.jumbDown(t),57,e),e!==mt.SmallStar)return;this.hsc.addStar(this.hsc.idxAfterMove(11,this.hsc.dtb.ln.h+1,!1),52,mt.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(11,this.hsc.dtb.ln.h+1,!0),53,mt.SmallStar);let n={2:1,6:1,10:1,8:2,0:2,4:2,5:3,9:3,1:3,11:9,3:9,7:9}[this.hsc.dtb.bs.y[1]],r={2:3,6:3,10:3,8:10,0:10,4:10,5:10,9:10,1:10,11:10,3:10,7:10}[this.hsc.dtb.bs.y[1]];this.hsc.istc?(n=this.hsc.idxAfterMove(n,this.hsc.dtb.ln.h+1,!0),r=this.hsc.idxAfterMove(r,this.hsc.dtb.ln.h+1,!0)):(n=this.hsc.idxAfterMove(n,this.hsc.dtb.ln.h+1,this.hsc.sx===this.hsc.adye),r=this.hsc.idxAfterMove(r,this.hsc.dtb.ln.h+1,this.hsc.sx!==this.hsc.adye)),this.hsc.addStar(n,54,mt.SmallStar),this.hsc.addStar(r,55,mt.SmallStar)}fillSixBuffer(t,e,n=0){if(this.hsc.addStar({4:1,5:0,6:11,7:11,8:1,9:0,0:6,1:6,2:3,3:3}[t],58,e),this.hsc.addStar({4:7,5:8,6:9,7:9,8:7,9:8,0:2,1:2,2:5,3:5}[t],59,e),e!==mt.SmallStar){const n={0:[5,9],1:[6,8],2:[8,6],3:[9,5],4:[8,6],5:[9,5],6:[11,3],7:[0,2],8:[2,0],9:[3,11]};return this.hsc.addStar(n[t][0],62,e),void this.hsc.addStar(n[t][1],63,e)}const r=this.hsc.idxAfterMove(10,n+1,!1),i=this.hsc.idxAfterMove(4,n+1,!0);this.hsc.addStar(r,62,e),this.hsc.addStar(i,63,e);const s=this.hsc.idxAfterMove(4,this.hsc.dtb.ln.m,!0),a=this.hsc.idxAfterMove(10,this.hsc.dtb.ln.m,!1);this.hsc.addStar(s,60,e),this.hsc.addStar(a,61,e)}fillBig4(t,e){const n=this.hsc.HOA[t];this.hsc.addStar(this.hsc.aIdx[`s${n[nt.L]}`],64,e),this.hsc.addStar(this.hsc.aIdx[`s${n[nt.Q]}`],65,e),this.hsc.addStar(this.hsc.aIdx[`s${n[nt.Z]}`],66,e),this.hsc.addStar(this.hsc.aIdx[`s${n[nt.K]}`],67,e)}fillTuanTriet(t,e,n=mt.SmallStar){const r={4:[8,9],5:[6,7],6:[4,5],7:[2,3],8:[0,1],9:[8,9],0:[6,7],1:[4,5],2:[2,3],3:[0,1]};let i=t,s=e;for(let t=0;t<10&&4!==i;t+=1)i=this.hsc.canJumpDown(i),s=this.hsc.jumbDown(s);const a={0:[10,11],10:[8,9],8:[6,7],6:[4,5],4:[2,3],2:[0,1]}[s],o=[];o[0]=[a[0],a[1]],this.hsc.aIdx.tu=a,o[1]=r[t],this.hsc.aIdx.tr=r[t];const l=n===mt.SmallStar?0:n===mt.TenYearStar?1:2;this.hsc.ttr[l]=o}fillDargon(t=this.hsc.dtb.bs.y[1],e=mt.SmallStar){this.hsc.addStar(this.hsc.idxAfterMove(4,t+1,!0),76,e),this.hsc.addStar(this.hsc.idxAfterMove(10,t+1,!1),77,e);this.hsc.addStar({5:1,9:1,1:1,11:7,3:7,7:7,2:10,6:10,10:10,8:4,0:4,4:4}[t],78,e)}fillTangMaKhocHu(t,e){const n={5:11,9:11,1:11,11:5,3:5,7:5,2:8,6:8,10:8,8:2,0:2,4:2}[t];this.hsc.addStar(n,79,e);const r=this.hsc.idxAfterMove(6,t+1,!1);this.hsc.addStar(r,80,e);const i=this.hsc.idxAfterMove(6,t+1,!0);this.hsc.addStar(i,81,e)}fillHinhRieuHaSatToai(t=this.hsc.dtb.bs.y[0],e=this.hsc.dtb.bs.y[1],n=mt.SmallStar){this.hsc.addStar({4:9,5:10,6:7,7:8,8:5,9:6,0:4,1:3,2:11,3:2}[t],90,n);this.hsc.addStar({5:2,9:2,1:2,11:8,3:8,7:8,2:11,6:11,10:11,8:5,0:5,4:5}[e],91,n);const r={0:5,6:5,3:5,9:5,2:9,8:9,5:9,11:9,4:1,10:1,1:1,7:1}[e];if(this.hsc.addStar(r,92,n),n!==mt.SmallStar)return;this.hsc.addStar(this.hsc.idxAfterMove(9,this.hsc.dtb.ln.m,!0),87,mt.SmallStar);const i=this.hsc.idxAfterMove(1,this.hsc.dtb.ln.m,!0);this.hsc.addStar(i,88,mt.SmallStar),this.hsc.addStar(i,89,mt.SmallStar)}fillDaoHongHiCoQua(t,e){const n={5:6,9:6,1:6,11:0,3:0,7:0,2:3,6:3,10:3,8:9,0:9,4:9}[t];this.hsc.addStar(n,82,e);const r=this.hsc.idxAfterMove(3,t+1,!1);this.hsc.addStar(r,83,e);const i=this.hsc.idxAfterMove(r,7,!0);if(this.hsc.addStar(i,84,e),e!==mt.SmallStar)return;const s={11:[2,10],0:[2,10],1:[2,10],2:[5,1],3:[5,1],4:[5,1],5:[8,4],6:[8,4],7:[8,4],8:[11,7],9:[11,7],10:[11,7]},a=s[t][0];this.hsc.addStar(a,85,e);const o=s[t][1];this.hsc.addStar(o,86,e)}fillThaiCaoAnDuong(){const t=this.hsc.idxAfterMove(6,this.hsc.dtb.ln.h+1,!0);this.hsc.addStar(t,72,mt.SmallStar);const e=this.hsc.idxAfterMove(2,this.hsc.dtb.ln.h+1,!0);this.hsc.addStar(e,73,mt.SmallStar);const n=this.hsc.idxAfterMove(this.hsc.aIdx.s27,9,!0),r=this.hsc.idxAfterMove(this.hsc.aIdx.s27,8,!1);this.hsc.addStar(n,74,mt.SmallStar),this.hsc.addStar(r,75,mt.SmallStar)}fillQuangQuyThaiToa(){const t=this.hsc.dtb.ln.d;this.hsc.addStar(this.hsc.jumbDown(this.hsc.idxAfterMove(this.hsc.aIdx.s62,t,!0)),68,mt.SmallStar),this.hsc.addStar(this.hsc.jumbUp(this.hsc.idxAfterMove(this.hsc.aIdx.s63,t,!1)),69,mt.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(this.hsc.aIdx.s60,t,!0),70,mt.SmallStar),this.hsc.addStar(this.hsc.idxAfterMove(this.hsc.aIdx.s61,t,!1),71,mt.SmallStar)}fillQuanPhucNienTru(t,e){const n={4:[7,9,5,5],5:[4,8,6,6],6:[5,0,8,0],7:[2,11,9,5],8:[3,3,8,6],9:[9,2,9,8],0:[11,6,11,2],1:[9,5,0,6],2:[10,6,2,9],3:[6,5,3,10]},r=n[t][0],i=n[t][1],s=n[t][2],a=n[t][3];this.hsc.addStar(r,93,e),this.hsc.addStar(i,94,e),this.hsc.addStar(s,95,e),this.hsc.addStar(a,96,e)}fillThienNguyetDiaThanTaiTho(){this.hsc.istc||this.hsc.addStar(this.hsc.aIdx.s77,101,mt.SmallStar);const t=this.hsc.idxAfterMove(7,this.hsc.dtb.ln.m,!0);this.hsc.addStar(t,100,mt.SmallStar);const e=this.hsc.idxAfterMove(8,this.hsc.dtb.ln.m,!0);this.hsc.addStar(e,99,mt.SmallStar);const n=this.hsc.idxAfterMove(9,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(n,97,mt.SmallStar);const r=this.hsc.idxAfterMove(5,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(r,98,mt.SmallStar);const i=this.hsc.idxAfterMove(this.hsc.aIdx.am,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(i,102,mt.SmallStar);const s=this.hsc.idxAfterMove(this.hsc.aIdx.at,this.hsc.dtb.bs.y[1]+1,!0);this.hsc.addStar(s,103,mt.SmallStar)}fillDauThuongSuLaVong(){let t=this.hsc.idxAfterMove(this.hsc.aIdx.s15,this.hsc.dtb.ln.m,!1);t=this.hsc.idxAfterMove(t,this.hsc.dtb.ln.h+1,!0),this.hsc.addStar(t,104,mt.SmallStar),this.hsc.addStar(this.hsc.aIdx.ai5,106,mt.SmallStar),this.hsc.addStar(this.hsc.aIdx.ai7,105,mt.SmallStar),this.hsc.addStar(4,107,mt.SmallStar),this.hsc.addStar(10,108,mt.SmallStar);const e={1:[2,6,9,10],2:[0,8,7,0],3:[10,10,5,2],4:[8,0,3,4],5:[6,2,1,6],6:[4,4,11,8],7:[2,6,9,10],8:[0,8,7,0],9:[10,10,5,2],10:[8,0,3,4],11:[6,2,1,6],12:[4,4,11,8]};this.hsc.addStar(e[this.hsc.dtb.ln.m][0],122,mt.SmallStar),this.hsc.addStar(e[this.hsc.dtb.ln.m][1],123,mt.SmallStar),this.hsc.addStar(e[this.hsc.dtb.ln.m][2],124,mt.SmallStar),this.hsc.addStar(e[this.hsc.dtb.ln.m][3],125,mt.SmallStar)}fillTuViTrungChauPhai(){const t=this.hsc.idxAfterMove(10,this.hsc.dtb.bs.y[1]+1,!1);this.hsc.addStar(t,118,mt.SmallStar);const e={1:8,2:8,3:10,4:10,5:0,6:0,7:2,8:2,9:4,10:4,11:6,12:6}[this.hsc.dtb.ln.m];this.hsc.addStar(e,119,mt.SmallStar);const n={1:5,5:5,9:5,2:8,6:8,10:8,3:2,7:2,11:2,4:11,8:11,12:11}[this.hsc.dtb.ln.m];this.hsc.addStar(n,120,mt.SmallStar);const r={1:10,2:5,3:4,4:2,5:7,6:3,7:11,8:7,9:2,10:6,11:10,12:2}[this.hsc.dtb.ln.m];this.hsc.addStar(r,121,mt.SmallStar);let i={8:0,0:0,4:0,2:6,6:6,10:6,11:3,3:3,7:3,5:9,9:9,1:9}[this.hsc.dtb.bs.y[1]];const s=[109,110,111,112,-1,-1,113,114,115,-1,116,117];for(let t=0;t<s.length;t+=1)s[t]>0&&this.hsc.addStar(i,s[t],mt.SmallStar),i=this.hsc.jumbUp(i)}}class S9{hsc;constructor(t){this.hsc=t}buildZoneName(){let t=this.hsc.idxAfterMove(2,this.hsc.dtb.ln.m);const e=this.hsc.idxAfterMove(t,this.hsc.dtb.ln.h+1);this.hsc.aIdx.at=e,t=this.hsc.idxAfterMove(t,this.hsc.dtb.ln.h+1,!1),this.hsc.aIdx.am=t;let n=0;for(let e=0;e<12;e+=1){const e={ai:n,ci:t,cn:-1,na:-1,sb:[],ss:[],sv:[],sy:[],sm:[],sd:[],lmnp:[],lynp:0,lmpt:[],aid:0,dv:0,cni:[[],[],[],[]],cnw:[[],[],[],[]],cno:[],th1:[[0,0,0],[],[],[0,0]],ys:[],que:[],stlk:[],zolk:[]};this.hsc.ars[t]=e,this.hsc.aIdx[`ai${n}`]=t,n=this.hsc.jumbDown(n),t=this.hsc.jumbUp(t)}let r=0,i=2;for(;r<12;){const t=this.hsc.dtb.m12[r][0];this.hsc.ars[i].cn=t,this.hsc.ars[i].na=Gc.indexOf(`${be[t]} ${Gt[i]}`),r+=1,i=this.hsc.jumbUp(i)}this.hsc.am=this.hsc.aIdx.am,this.hsc.at=this.hsc.aIdx.at,this.hsc.cid=di[this.hsc.ars[this.hsc.aIdx.am].na],1===this.hsc.cfg[bt.tcpb]&&(this.hsc.cid=di[this.hsc.ars[this.hsc.aIdx.at].na]),2===this.hsc.cfg[bt.tcpb]&&(this.hsc.cid=di[this.hsc.ars[this.hsc.aIdx.ai10].na]),this.hsc.adme=mc[this.hsc.ars[this.hsc.aIdx.am].ci];const s=1===this.hsc.adme?1:-1;this.hsc.adye=mc[this.hsc.dtb.bs.y[1]],this.hsc.adyetk=mc[this.hsc.dtb.tk.y[1]];const a=1===this.hsc.adye?1:-1;this.hsc.ad=s*a>0?1:0}fillBaseMenhThan(){this.hsc.mctc={0:[8,55],1:[9,10],2:[27,11],3:[63,4],4:[5,62],5:[3,1],6:[13,54],7:[3,10],8:[5,11],9:[63,4],10:[27,62],11:[9,1]}[this.hsc.dtb.bs.y[1]]}fillPhiHoa(){for(let t=0;t<=11;t+=1){const e=this.hsc.HOA[this.hsc.ars[t].cn];this.hsc.ars[t].cno=[this.hsc.aIdx[`s${e[nt.L]}`],this.hsc.aIdx[`s${e[nt.Q]}`],this.hsc.aIdx[`s${e[nt.Z]}`],this.hsc.aIdx[`s${e[nt.K]}`]];for(let e=0;e<=11;e+=1){const n=this.hsc.HOA[this.hsc.ars[e].cn];for(let r=0;r<4;r+=1)this.hsc.aIdx[`s${n[r]}`]===t&&(this.hsc.ars[t].cni[r].push(e),this.hsc.ars[t].cnw[r].push(n[r]))}}this.setLocKiStatic();const t=[[],[],[],[],[],[],[],[],[],[],[],[]],e=[[],[],[],[],[],[],[],[],[],[],[],[]],n=[[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[]]];for(let r=0;r<12;r+=1){this.hsc.countLoop=0,this.countMoveKi(r),this.hsc.countLoop=0,this.countMoveLoc(r),this.hsc.countLoop=0;const i=this.checkTuanHoan(3,r);this.checkPeriodicRepetition(i)&&(t[r]=this.getUniquePeriodicElements(i)),this.hsc.countLoop=0;const s=this.checkTuanHoan(0,r);this.checkPeriodicRepetition(s)&&(e[r]=this.getUniquePeriodicElements(s));for(let t=0;t<4;t++){this.hsc.countLoop=0;const e=this.checkTuanHoanPT(t,r);this.checkPeriodicRepetition(e)&&(n[t][r]=this.getUniquePeriodicElements(e))}}this.hsc.loopLP[nt.L]=this.getUniqueRepresentatives(e),this.hsc.loopLP[nt.K]=this.getUniqueRepresentatives(t);for(let t=0;t<4;t++)this.hsc.loopPT[t]=this.getUniqueRepresentatives(n[t]);this.hsc.loopLP[nt.L].length>0&&this.hsc.loopLP[nt.L].forEach(((t,e)=>{t.length>0&&!this.isTuanHoanLocLuongPhai(t)&&(this.hsc.loopLP[nt.L][e]=[])})),this.addBatQuai()}isTuanHoanLocLuongPhai(t){let e=!0;return t.forEach(((n,r)=>{const i=n;let s=r+1;s>t.length-1&&(s=0);const a=t[s];if(this.hsc.ars[i].cno[nt.K]!==a)return e=!1,!1;const o=this.hsc.HOA[this.hsc.ars[i].cn][3];return 0===this.hsc.ars[a].stlk[o][ie.isMoveLoc]?(e=!1,!1):void 0})),e}arraysEqual(t,e){return JSON.stringify(t)===JSON.stringify(e)}rotateArray(t,e){return[...t.slice(e,t.length),...t.slice(0,e)]}getUniqueRepresentatives(t){const e=[],n=Array(t.length).fill(!1);for(let r=0;r<t.length;r++){if(n[r]||0===t[r].length)continue;const i=t[r];n[r]=!0;for(let e=r+1;e<t.length;e++)if(0!==t[e].length)for(let r=0;r<t[e].length;r++)if(this.arraysEqual(this.rotateArray(t[e],r),i)){n[e]=!0;break}e.push(i)}return e}listStarHoaInZone(t){const e=[],n=this.hsc.ars[t],r=n.ss.filter((t=>[60,61,62,63].includes(t)));return n.sb.concat(r).forEach((t=>{this.hsc.str2u.includes(t)&&e.push({ids:t,vl:this.hsc.str2hc[t]})})),e}isNienLoc(t){return this.hsc.aIdx.s64===t}isNienKi(t){return this.hsc.aIdx.s67===t}isMenhLocNienLoc(t){const e=this.hsc.aIdx.s64,n=this.hsc.ars[this.hsc.am].cno[nt.L];return e===t||n===t}isMenhKiNienKi(t){const e=this.hsc.aIdx.s67,n=this.hsc.ars[this.hsc.am].cno[nt.K];return e===t||n===t}isMenhKi(t){return this.hsc.ars[this.hsc.am].cno[nt.K]===t}setLocKiStatic(){for(let t=0;t<12;t+=1){let e=0,n=0,r=0;e+=this.isNienLoc(t)?1:0,r+=this.isNienKi(t)?1:0;let i=this.isMenhLocNienLoc(t)?1:0,s=this.isMenhLocNienLoc(t)?1:0,a=this.isMenhKiNienKi(t)?1:0;const o=this.hsc.ars[t].cno[nt.K]===t,l=this.hsc.ars[t].cno[nt.L]===t,c=this.listStarHoaInZone(t);c.length<=0?(this.hsc.ars[t].zolk[nt.L]=[0,-1,0,0,0,0],this.hsc.ars[t].zolk[nt.K]=[0,-1,0]):(c.forEach((i=>{const s=this.hsc.ars[t].cnw,a=s[nt.L].filter((t=>t===i.ids)).length,l=s[nt.K].filter((t=>t===i.ids)).length;if(a>0||l>0){let s=0;this.hsc.ars[t].stlk[i.ids]=[0,0,0,0,0,0,0],this.hsc.ars[t].stlk[i.ids][ie.numLoc]=a,this.hsc.ars[t].stlk[i.ids][ie.numKi]=l,this.hsc.ars[t].stlk[i.ids][ie.currentLoc]=a,this.hsc.ars[t].stlk[i.ids][ie.isMoveLoc]=o?0:a>=2?1:0,this.hsc.ars[t].stlk[i.ids][ie.isMoveKi]=o?0:l>=2?1:0,this.hsc.ars[t].stlk[i.ids][ie.isTruyLoc]=0,this.hsc.ars[t].stlk[i.ids][ie.isTruyKi]=0,s=o?a:a>=2?0:a,n+=s,e+=a,r+=l}})),i=l?1:i,s=l?1:s,i=this.checkMoveLoc(i,e,t),s=this.checkMoveAll(s,t,i),a=this.checkMoveKi(a,r),i=o?0:i,s=o?0:s,a=o?0:a,this.updateZoneLocKi(t,i,e,n,s,a,r))}this.truyLocKi(),this.countKiStatic()}checkMoveLoc(t,e,n){if(0===t){const r=this.hsc.ars[n].stlk.some((t=>1===t[ie.isMoveLoc]));t=e>=2&&r?1:t}return t}checkMoveAll(t,e,n){return 0===t&&1===this.hsc.ars[e].stlk.length&&1===n&&(t=1),t}checkMoveKi(t,e){return 0===t&&e>=2?1:t}updateZoneLocKi(t,e,n,r,i,s,a){this.hsc.ars[t].zolk[nt.L]=[0,0,0,0,0,0,0],this.hsc.ars[t].zolk[nt.L][Nt.isMoveLoc]=e,this.hsc.ars[t].zolk[nt.L][Nt.totalLoc]=n,this.hsc.ars[t].zolk[nt.L][Nt.currentLoc]=n,this.hsc.ars[t].zolk[nt.L][Nt.isMoveAllLoc]=i,this.hsc.ars[t].zolk[nt.L][Nt.locKeep]=1===i?0:r,this.hsc.ars[t].zolk[nt.L][Nt.isMoveNienLoc]=this.isNienLoc(t)?1:0,this.hsc.ars[t].zolk[nt.K]=[0,0,0,0,0,0,0],this.hsc.ars[t].zolk[nt.K][Nt.isMoveKi]=s,this.hsc.ars[t].zolk[nt.K][Nt.totalKi]=a,this.hsc.ars[t].zolk[nt.K][Nt.currentKi]=0}checkZoneTruyLoc(t){const e=this.hsc.ars[t].cno[nt.K]===t;if(!e){const e=this.hsc.ars[t].zolk[nt.L][Nt.isMoveAllLoc];let n=0;this.hsc.ars[t].stlk.forEach(((r,i)=>{1===e&&r[ie.currentLoc]>0&&0===r[ie.isMoveLoc]?(this.hsc.ars[t].stlk[i][ie.isMoveLoc]=1,this.hsc.ars[t].zolk[nt.L][Nt.isMoveLoc]=1):r[ie.currentLoc]>0&&0===r[ie.isMoveLoc]&&r[ie.numKi]>0&&r[ie.numLoc]>0&&this.hsc.ars[t].cni[3].forEach(((e,n)=>{this.hsc.ars[t].cnw[3][n]===i&&this.hsc.ars[e].zolk[nt.L][Nt.isMoveLoc]>0&&(this.hsc.ars[t].zolk[nt.L][Nt.isMoveLoc]=1,this.hsc.ars[t].stlk[i][ie.isMoveLoc]=1,this.hsc.ars[t].stlk[i][ie.isTruyLoc]=1)})),n+=r[ie.currentLoc]})),this.hsc.ars[t].zolk[nt.L][Nt.currentLoc]=n}!e&&1===this.hsc.ars[t].stlk.length&&1===this.hsc.ars[t].zolk[nt.L][Nt.isMoveLoc]&&(this.hsc.ars[t].zolk[nt.L][Nt.isMoveAllLoc]=1)}checkZoneTruyKi(t){const e=this.hsc.ars[t].cno[nt.K]===t;let n=0;this.hsc.ars[t].cni[nt.K].forEach((t=>{1===this.hsc.ars[t].zolk[nt.K][Nt.isMoveKi]&&!e&&(n+=1)})),1===this.hsc.ars[t].zolk[nt.K][Nt.isMoveKi]&&n===this.hsc.ars[t].cni[nt.K].length&&!this.isMenhKiNienKi(t)&&(this.hsc.ars[t].zolk[nt.K][Nt.isMoveKi]=0),0===this.hsc.ars[t].zolk[nt.K][Nt.isMoveKi]&&this.hsc.ars[t].cni[nt.K].length>1&&n<this.hsc.ars[t].cni[nt.K].length&&!e&&(this.hsc.ars[t].zolk[nt.K][Nt.isMoveKi]=1)}truyLocKi(){for(let t=0;t<12;t+=1)this.checkZoneTruyLoc(t),this.checkZoneTruyKi(t)}countKiStatic(){for(let t=0;t<12;t++){let e=0;this.isNienKi(t)&&e++,this.hsc.ars[t].cni[nt.K].forEach((n=>{(0===this.hsc.ars[n].zolk[nt.K][Nt.isMoveKi]||this.isMenhKi(t)&&1===this.hsc.ars[n].zolk[nt.K][Nt.isMoveKi])&&e++})),this.hsc.ars[t].zolk[nt.K][Nt.currentKi]=e}}countMoveKi(t){if(this.hsc.countLoop>=11)return;const e=this.hsc.ars[t].zolk[nt.K];if(this.hsc.ars[t].cno[nt.K]!==t&&-1!==e[Nt.totalKi]&&(this.hsc.countLoop+=1,this.isZoneMove2(t))){const n=this.hsc.ars[t].cno[nt.K],r=this.hsc.ars[n].zolk[nt.K],i=e[Nt.currentKi],s=r[Nt.currentKi];r[Nt.currentKi]=s+i,e[Nt.currentKi]=0,this.isZoneMove2(n)&&this.countMoveKi(n)}}countMoveLoc(t){if(this.hsc.countLoop>=11)return;const e=this.hsc.ars[t].zolk[nt.L];if(-1===e[Nt.totalLoc]||this.hsc.ars[t].cno[nt.K]===t)return;this.hsc.countLoop+=1;const n=this.hsc.ars[t].stlk;let r=0;n.forEach(((n,i)=>{const s=n[ie.currentLoc],a=n[ie.isMoveLoc];(1===e[Nt.isMoveAllLoc]&&s>0||s>0&&1===a)&&(r+=s,e[Nt.currentLoc]-=s,this.hsc.ars[t].stlk[i][ie.currentLoc]=0)})),this.isNienLoc(t)&&1===e[Nt.isMoveNienLoc]&&(r+=1,e[Nt.isMoveNienLoc]=0);const i=this.hsc.ars[t].cno[nt.K],s=this.hsc.ars[t].cn,a=this.hsc.HOA[s][nt.K],o=this.hsc.ars[i].zolk[nt.L],l=this.hsc.ars[i].stlk[a];o[Nt.currentLoc]+=r,l[ie.currentLoc]+=r,this.checkZoneTruyLoc(i),this.isZoneMove2(i,0)&&this.countMoveLoc(i)}checkTuanHoan(t,e,n=[]){let r=n;if(this.hsc.countLoop>=24)return r;if(this.hsc.countLoop+=1,this.isZoneMove2(e,t)){r.push(e);const n=this.hsc.ars[e].cno[nt.K];this.isZoneMove2(n,t)?r=this.checkTuanHoan(t,n,r):r.push(n)}return r}checkTuanHoanPT(t,e,n=[]){let r=n;if(this.hsc.countLoop>=12||this.hsc.ars[e].cno[t]===e)return r;this.hsc.countLoop+=1,r.push(e);const i=this.hsc.ars[e].cno[t];return i===e?(r.push(e),r):(r=this.checkTuanHoanPT(t,i,r),r)}isZoneMove2(t,e=3){return 0===e?1===this.hsc.ars[t].zolk[nt.L][Nt.isMoveLoc]:1===this.hsc.ars[t].zolk[nt.K][Nt.isMoveKi]}checkPeriodicRepetition(t){const e=t.length;for(let n=1;n<=e/2;n++){let r=!0;for(let i=0;i<e;i++)if(t[i]!==t[i%n]){r=!1;break}if(r)return!0}return!1}getUniquePeriodicElements(t){for(let e=1;e<=t.length/2;e++){const n=t.slice(0,e),r=Array(Math.ceil(t.length/e)).fill(n).flat().slice(0,t.length);if(JSON.stringify(r)===JSON.stringify(t))return[...new Set(n)]}return[]}isExitQueByCung(t,e){const n=this.hsc.ars[t].que;let r=!1;return n.forEach((t=>{if(e===t[0])return r=!0,r})),r}addBatQuai(){const t=[this.hsc.aIdx.s64,this.hsc.aIdx.s65,this.hsc.aIdx.s66,this.hsc.aIdx.s67];for(let e=0;e<4;e+=1){const n=e,r=t[e],i=this.hsc.ars[r];i.cno.forEach(((t,s)=>{if(t===r){const t=s;i.cni.forEach(((i,a)=>{for(let o=0;o<i.length;o+=1){const l=i[o];if(l===r&&a===s)continue;const c=Zr([n,t,a]);this.isExitQueByCung(l,c)||this.hsc.ars[l].que.push([c,[e,s,a],[r,r,l]])}}))}}));const s=An[r].x;i.cno.forEach(((t,a)=>{if(t===s){const t=a;this.hsc.ars[s].cni.forEach(((i,o)=>{for(let l=0;l<i.length;l+=1){const c=i[l];if(c===r&&o===a)continue;const h=Zr([n,t,o]);this.isExitQueByCung(c,h)||this.hsc.ars[c].que.push([h,[e,a,o],[r,s,c]])}})),i.cni.forEach(((i,s)=>{for(let o=0;o<i.length;o+=1){const l=i[o];if(l===r)continue;const c=Zr([n,t,s]);this.isExitQueByCung(l,c)||this.hsc.ars[l].que.push([c,[e,a,s],[r,r,l]])}}))}})),this.hsc.ars[s].cno.forEach(((t,a)=>{if(t===r){const t=a;this.hsc.ars[s].cni.forEach(((i,o)=>{for(let l=0;l<i.length;l+=1){const c=i[l],h=Zr([n,t,o]);this.isExitQueByCung(c,h)||this.hsc.ars[c].que.push([h,[e,a,o],[r,s,c]])}})),i.cni.forEach(((i,o)=>{for(let l=0;l<i.length;l+=1){const c=i[l];if(c===s&&o===a||c===r)continue;const h=Zr([n,t,o]);this.isExitQueByCung(c,h)||this.hsc.ars[c].que.push([h,[e,a,o],[r,r,c]])}}))}}))}}}var mt=(t=>(t.BigStar="sb",t.SmallStar="ss",t.YearStar="sy",t.MonthStar="sm",t.DayStar="sd",t.TenYearStar="sv",t))(mt||{});class C9{search;cid=2;at=1;am=1;yeo=1;dtb;dtv;dtc;aIdx={};adye=1;adyetk=1;adme=1;ad=1;sx=1;ttr={0:[],1:[],2:[]};ars=[];sks=5;istc=!1;tpCan=0;cfg=[...Wn];dvidx=0;idxCheckZone=0;mctc=[];cach={};rad=0;tutru={cot:[{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1},{cht:-1,cn:-1,ci:-1,ctg:[],pht:[],tsctg:[],ts:-1,na:-1}],dv:[],dvt:[]};starPlacer;circlePlacer;zoneBuilder;calculationHelper;arrIdxChuyenLoc=[];str2hc={};str2u=[];arrCkZone=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]];loopLP=[[],[],[],[]];loopPT=[[],[],[],[]];countLoop=0;HOA=x6;numberStarCol1=[0,0,0,0,0,0,0,0,0,0,0,0];numberStarCol2=[0,0,0,0,0,0,0,0,0,0,0,0];css=0;constructor(t){t&&t.cfg&&Object.assign(this.cfg,t.cfg);const e=qt(),n=is(e.year(),e.month()+1,e.date(),e.hour(),e.minute());this.dtc=pa(n);const r=is(t.born.year(),t.born.month()+1,t.born.date(),t.born.hour(),t.born.minute());this.dtb=pa(r),this.dtv=this.dtc,void 0!==t.view&&(this.dtv=pa(is(t.view.year(),t.view.month()+1,t.view.date(),t.view.hour(),t.view.minute()))),this.yeo=this.dtv.sn.y-this.dtb.sn.y+1,this.sx=t.sex,this.istc=[6,7,8].includes(this.cfg[bt.typeLs]),this.HOA=_6(this.cfg[bt.lsCanType]),this.istc||(this.cfg[bt.tcpb]=0),this.str2hc=S6(this.HOA),this.str2u=C6(this.HOA),this.starPlacer=new _9(this),this.circlePlacer=new x9(this),this.zoneBuilder=new S9(this),this.calculationHelper=new v9,this.initializeHoroscope()}removePrivateProperties(){delete this.starPlacer,delete this.circlePlacer,delete this.zoneBuilder,delete this.calculationHelper,this.arrIdxChuyenLoc=[],this.str2hc={},this.str2u=[],this.arrCkZone=[],this.countLoop=0,this.HOA={},this.numberStarCol1=[],this.numberStarCol2=[],this.idxCheckZone=0,this.tpCan=0,this.adyetk=1,delete this.dtc}initializeHoroscope(){this.zoneBuilder.buildZoneName(),this.starPlacer.fillBigStar();const t=this.dtb.bs.y[0];this.starPlacer.fillSixAssassin([8,9,11,0,2,3,5,6,5,6][t],"ss"),this.starPlacer.fillSixBuffer(this.dtb.bs.y[0],"ss",this.dtb.ln.h),this.starPlacer.fillBig4(this.dtb.bs.y[0],"ss"),this.circlePlacer.fillKingCircle(this.dtb.bs.y[1],"ss"),this.circlePlacer.fillDoctorCircle(this.dtb.bs.y[0],"ss"),this.circlePlacer.fillGrowCircle(),this.starPlacer.fillTuanTriet(this.dtb.bs.y[0],this.dtb.bs.y[1]),this.starPlacer.fillQuangQuyThaiToa(),this.starPlacer.fillThaiCaoAnDuong(),this.starPlacer.fillDargon(),this.starPlacer.fillTangMaKhocHu(this.dtb.bs.y[1],"ss"),this.starPlacer.fillHinhRieuHaSatToai(),this.starPlacer.fillDaoHongHiCoQua(this.dtb.bs.y[1],"ss"),this.starPlacer.fillQuanPhucNienTru(this.dtb.bs.y[0],"ss"),this.starPlacer.fillThienNguyetDiaThanTaiTho(),this.starPlacer.fillDauThuongSuLaVong(),this.skyAreaSK(),this.istc&&this.starPlacer.fillTuViTrungChauPhai(),this.circlePlacer.fillCircleBigTime(),this.circlePlacer.fillCircleSmallTime(),this.fillStarRepeatByLoop(),this.addAgeToAreas(),this.zoneBuilder.fillBaseMenhThan(),this.zoneBuilder.fillPhiHoa(),this.tuTruBuildBigTime(),this.tuTruBuildCot(0,this.dtb.tk.y,this.dtb.tk.d),this.tuTruBuildCot(1,this.dtb.tk.m,this.dtb.tk.d),this.tuTruBuildCot(2,this.dtb.tk.d,this.dtb.tk.d,!0),this.tuTruBuildCot(3,this.dtb.tk.h,this.dtb.tk.d),this.css=Math.max(Math.max(...this.numberStarCol1),Math.max(...this.numberStarCol2))}addStar(t,e,n){if("sb"!==n&&"ss"!==n&&void 0!==Ut[e][`is${n}`]&&!1===Ut[e][`is${n}`])return;this.ars[t][n].push(e);const r=this.ars[t][n];switch(r.sort(((t,e)=>1===Ut[t].zone&&1!==Ut[e].zone||3===Ut[t].zone&&1!==Ut[e].zone&&3!==Ut[e].zone?-1:1)),this.ars[t][n]=r,n){case"sb":case"ss":this.aIdx[`s${e}`]=t;break;default:this.aIdx[`${n}${e}`]=t}const i="sb"!==n&&"ss"!==n;if(("ss"===n||"sv"===n&&1===this.cfg[bt.dvStar]&&![64,65,66,67].includes(e)||"sy"===n&&this.cfg[bt.currentStar]>0&&![64,65,66,67].includes(e))&&e>13){const r=Ut[e];if(void 0===r.cir||"vts"!==r.cir){const s=this.cfg[bt.showHideStar];if(s>0&&!i&&(1===s&&!ma.includes(e)||2===s&&!ma.includes(e)&&!vc.includes(e)||3===s&&!ma.includes(e)&&!vc.includes(e)&&!Lf.includes(e)||4===s&&!ma.includes(e)&&!vc.includes(e)&&!Lf.includes(e)&&!T6.includes(e)))return;const a=1===this.cfg[bt.dvStar],o=this.cfg[bt.currentStar]>0;if("sv"===n&&!a||"sy"===n&&!o)return;1===r.typ&&(this.numberStarCol1[t]+=1),2===r.typ&&(this.numberStarCol2[t]+=1)}}}jumbDown(t){return this.calculationHelper.jumpDown(t)}jumbUp(t){return this.calculationHelper.jumpUp(t)}jumbByYinBoyYanGirl(t){return this.sx===this.adye?this.jumbUp(t):this.jumbDown(t)}jumbByYinBoyYanGirlTietKhi(t){return this.sx===this.adyetk?this.jumbUp(t):this.jumbDown(t)}idxAfterMove(t,e,n=!0){return this.calculationHelper.idxAfterMove(t,e,n)}canJumpDown(t){return this.calculationHelper.canJumpDown(t)}canJumpUp(t){return this.calculationHelper.canJumpUp(t)}canJumbByYinBoyYanGirl(t){return this.sx===this.adye?this.canJumpUp(t):this.canJumpDown(t)}canJumbByYinBoyYanGirlTietKhi(t){return this.sx===this.adyetk?this.canJumpUp(t):this.canJumpDown(t)}skyAreaSK(){this.sks={2:{2:5,3:4,4:3,6:6,5:7},3:{3:5,6:4,2:3,5:6,4:7},4:{4:5,2:4,5:3,3:6,6:7},5:{5:5,4:4,6:3,2:6,3:7},6:{6:5,5:4,3:3,4:6,2:7}}[di[this.dtb.bs.y[2]]][di[this.ars[this.aIdx.am].na]]}fillStarRepeatByLoop(){const t=this.aIdx[`aid${this.idxCheckZone}`],e=this.ars[t].cn;this.addStar([8,9,11,0,2,3,5,6,5,6][e],27,"sv"),this.starPlacer.fillSixAssassin(this.aIdx.sv27,"sv"),this.starPlacer.fillSixBuffer(e,"sv"),this.starPlacer.fillBig4(e,"sv"),this.circlePlacer.fillKingCircle(this.dtv.bs.y[1],"sy"),this.circlePlacer.fillDoctorCircle(this.dtv.bs.y[0],"sy"),this.starPlacer.fillSixAssassin(this.aIdx.sy27,"sy"),this.starPlacer.fillSixBuffer(this.dtv.bs.y[0],"sy"),this.starPlacer.fillBig4(this.dtv.bs.y[0],"sy"),this.starPlacer.fillTangMaKhocHu(this.dtv.bs.y[1],"sy"),this.starPlacer.fillHinhRieuHaSatToai(this.dtv.bs.y[0],this.dtv.bs.y[1],"sy"),this.starPlacer.fillDaoHongHiCoQua(this.dtv.bs.y[1],"sy"),this.starPlacer.fillDargon(this.dtv.bs.y[1],"sy"),this.starPlacer.fillTuanTriet(this.dtv.bs.y[0],this.dtv.bs.y[1],"sy")}addAgeToAreas(){let t=this.dtb.bs.y[1],e=0;for(let n=1;n<=84;n+=1){const n=e+this.dtb.ln.y;if(n>2099)break;const r=pa(is(n,6,6,6,6));this.ars[t].ys.push([e+1,n,r.bs.y[2],r.bs.y[0]]),t=this.jumbUp(t),e+=1}}tuTruBuildBigTime(){const t=qt(this.dtb.sn.y+"-"+this.dtb.sn.m+"-"+this.dtb.sn.d+" "+this.dtb.sn.h+":"+this.dtb.sn.i),e=this.dtb.tki,n=this.sx===this.adyetk;let r,i;n?(r=qt(e[4]),i=r.diff(t,"day",!0)):(r=qt(e[3]),i=t.diff(r,"day",!0));const s=Number(i.toFixed(10)),a=Math.floor(s),o=24*(s-a),l=Math.ceil(o),c=s/3,h=Math.floor(c),d=365*(c-h)/30,u=Math.floor(d),f=30*(d-u),p=Math.floor(f);let g=t.add(h,"year").add(u,"month").add(p,"day"),m=this.dtb.tk.m[0],v=this.dtb.tk.m[1];for(let t=0;t<10;t++)m=this.canJumbByYinBoyYanGirlTietKhi(m),v=this.jumbByYinBoyYanGirlTietKhi(v),this.tutru.dv.push([m,v,g.unix()]),g=g.add(10,"year");this.tutru.dvt=[n,a,l,h,u,p]}tuTruBuildCot(t,e,n,r=!1){const i=n[0];this.tutru.cot[t].cht=r?-1:n0(i,e[0]),this.tutru.cot[t].cn=e[0],this.tutru.cot[t].ci=e[1];const s=P6[e[1]];this.tutru.cot[t].ctg=s;const a=[];s.forEach(((t,e)=>{a[e]=n0(i,t)})),this.tutru.cot[t].pht=a,this.tutru.cot[t].ts=vw(n[0],e[1]),this.tutru.cot[t].na=e[2]}}class T9{ls;aIdx;mIdx;diaban;constructor(t){this.ls=t,this.diaban=t.ars,this.aIdx=t.aIdx,this.mIdx=t.am}tuChinh(t){return[t,An[t].x,An[t].t[0],An[t].t[1]]}tamPhuong(t){return[t,An[t].t[0],An[t].t[1]]}xungChieu(t){return[An[t].x]}giapCung(t){return[An[t].g[0],An[t].g[1]]}isGiap(t,e){return this.giapCung(e).includes(this.aIdx[`s${t}`])}isXung(t,e){return this.xungChieu(e).includes(this.aIdx[`s${t}`])}isStar4(t,e){return this.tuChinh(e).includes(this.aIdx[`s${t}`])}isStar3(t,e){return this.tamPhuong(e).includes(this.aIdx[`s${t}`])}isStar(t,e){return this.aIdx[`s${t}`]===e}isKo(t,e=0){return 3===e?this.isStar3(52,t):4===e?this.isStar4(52,t):this.isStar(52,t)}isKiep(t,e=0){return 3===e?this.isStar3(53,t):4===e?this.isStar4(53,t):this.isStar(53,t)}isKoKiep(t,e=0){return this.isKo(t,e)||this.isKiep(t,e)}isHoa(t,e=0){return 3===e?this.isStar3(54,t):4===e?this.isStar4(54,t):this.isStar(54,t)}isLinh(t,e=0){return 3===e?this.isStar3(55,t):4===e?this.isStar4(55,t):this.isStar(55,t)}isHoaLinh(t,e=0){return this.isHoa(t,e)||this.isLinh(t,e)}isKinh(t,e=0){return 3===e?this.isStar3(56,t):4===e?this.isStar4(56,t):this.isStar(56,t)}isDa(t,e=0){return 3===e?this.isStar3(57,t):4===e?this.isStar4(57,t):this.isStar(57,t)}isKinhDa(t,e=0){return this.isKinh(t,e)||this.isDa(t,e)}isLucSatTinh(t,e=0){return this.isKoKiep(t,e)||this.isKinhDa(t,e)||this.isHoaLinh(t,e)}isKhoi(t,e=0){return 3===e?this.isStar3(58,t):4===e?this.isStar4(58,t):this.isStar(58,t)}isViet(t,e=0){return 3===e?this.isStar3(59,t):4===e?this.isStar4(59,t):this.isStar(59,t)}isKhoiViet(t,e=0){return this.isKhoi(t,e)||this.isViet(t,e)}isTa(t,e=0){return 3===e?this.isStar3(60,t):4===e?this.isStar4(60,t):this.isStar(60,t)}isHuu(t,e=0){return 3===e?this.isStar3(61,t):4===e?this.isStar4(61,t):this.isStar(61,t)}isTaHuu(t,e=0){return this.isTa(t,e)||this.isHuu(t,e)}isXuong(t,e=0){return 3===e?this.isStar3(62,t):4===e?this.isStar4(62,t):this.isStar(62,t)}isKhuc(t,e=0){return 3===e?this.isStar3(63,t):4===e?this.isStar4(63,t):this.isStar(63,t)}isXuongKhuc(t,e=0){return this.isXuong(t,e)||this.isKhuc(t,e)}isGiapKhoi(t){return this.isGiap(58,t)}isGiapViet(t){return this.isGiap(59,t)}isGiapTa(t){return this.isGiap(60,t)}isGiapHuu(t){return this.isGiap(61,t)}isGiapXuong(t){return this.isGiap(62,t)}isGiapKhuc(t){return this.isGiap(63,t)}isTangTueDieu(t){return this.isStar(17,t)||this.isStar(21,t)||this.isStar(25,t)}isThaiTueCircle(t){return this.isStar(15,t)||this.isStar(23,t)||this.isStar(19,t)}isLocTonCircle(t){return this.isStar(27,t)||this.isStar(32,t)||this.isStar(74,t)}isTruongSinhCircle(t){return this.isStar(40,t)||this.isStar(44,t)||this.isStar(48,t)}isTuanChieu(t){return this.isTuan(this.xungChieu(t)[0])}isTrietChieu(t){return this.isTriet(this.xungChieu(t)[0])}isTuan(t){return this.ls.ttr[0].includes(t)}isTriet(t){return this.ls.ttr[1].includes(t)}}let gn;function P9(t){const e=t.am,n=t.ars[e];return gn.isStar3(0,e)&&[0,2,4,6,8,10].includes(e)?2:gn.isStar3(12,e)&&gn.isStar3(13,e)&&gn.isStar3(8,e)?3:0===n.sb.length?4:gn.isStar4(2,e)||gn.isStar4(7,e)?5:[5,9,1,11,3,7].includes(e)&&gn.isStar3(6,e)&&gn.isStar3(10,e)?6:gn.isStar3(1,e)&&gn.isStar3(4,e)&&gn.isStar3(9,e)?7:1}async function A9(t){const e=P9(t),n={};return n.name={1:"Mặc định",2:"Tử Phủ Vũ Tướng",3:"Sát Phá Tham",4:"Vô Chính Diệu",5:"Nhật Nguyệt",6:"Phủ Tướng",7:"Cơ Đồng Cự"}[e],n.good=[],n.bad=[],n}function N9(t,e=new Date,n=1,r=[...Wn]){const i=r,s=new C9({sex:n,born:qt(t),view:qt(e),cfg:i});return delete s.starPlacer,delete s.circlePlacer,delete s.zoneBuilder,delete s.calculationHelper,delete s.arrIdxChuyenLoc,delete s.str2hc,delete s.str2u,delete s.arrCkZone,delete s.countLoop,delete s.HOA,delete s.numberStarCol1,delete s.numberStarCol2,delete s.idxCheckZone,delete s.tpCan,delete s.adyetk,delete s.dtc,s}async function L9(t,e=new Date,n=1,r=[...Wn]){const i=N9(t,e,n,r);try{gn=new T9(i),i.cach.base=await A9(i)}catch{i.cach.base={}}return i}const k9={name:"Tinh Mệnh Đồ",site:"https://tinhmenhdo.github.io",base:"/",trailingSlash:!1,googleSiteVerificationId:"orcPx1I47GSa-cRvY11tUe6iGg2IO_RsPvnA1q95iEM3M_111"},l0=t=>t.map((t=>Ut[t].name)).join(", "),E9=t=>t.filter((t=>t<40||t>51)).map((t=>Ut[t].name)).join(", "),M9=t=>t.filter((t=>t>=40&&t<=51)).map((t=>Ut[t].name)).join(", "),R9=(t,e)=>e[0][0].includes(t)&&e[0][1].includes(t)?", Tuần, Triệt":e[0][0].includes(t)?", Tuần":e[0][1].includes(t)?", Triệt":"";function j9(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Tc=(t,e=0)=>{const n=[];return t.ars.forEach((r=>{let i=r.sb.length>0?l0(r.sb)+", ":`VCD xung (${l0(t.ars[An[r.ci].x].sb).replace(","," -")}), `;i+=E9(r.ss)+", ",i+=M9(r.ss),i+=R9(r.ci,t.ttr),t.cid;const s=0===e?Ke[r.ai]:1===e?Ke[r.aid]:Ke[r.ail];let a=[`${s.toString()} phi Lộc đến `,`${s.toString()} phi Quyền đến `,`${s.toString()} phi Khoa đến `,`${s.toString()} phi Kị đến `];for(let e=0;e<=3;e+=1){let n=`${j9(Ke[t.ars[r.cno[e]].ai].toLowerCase())}`;a[e]+=n}a=a.join(", "),a=`"${a}"`,n.push({name:s.toString(),cc:`${be[r.cn]} ${Gt[r.ci]}`,phi:a,dv:`${r.dv} đến ${r.dv+9} tuổi tại cung ${s.toString()}`,star:i})})),n};function Pc(t){return[["Tên cung","Can cung","Phi hóa","Đại vận","Tên sao"].join(","),...t.map((t=>{const e=t.star.includes(",")?`"${t.star}"`:t.star;return`${t.name},${t.cc},${t.phi},${t.dv},${e}`}))].join("\n")}const I9=({title:t,content:e,btnId:n,onCopy:r,backgroundColor:i})=>d.jsx("pre",{children:d.jsxs("div",{className:`border-token-border-medium dark rounded-md border-[0.5px] ${i}`,children:[d.jsxs("div",{className:"relative flex items-center justify-between rounded-t-md bg-[#2f2f2f] px-4 py-2 font-sans text-xs text-[#b4b4b4]",children:[d.jsx("span",{children:t}),d.jsx("div",{className:"flex items-center",children:d.jsxs("button",{className:"flex items-center gap-1",onClick:()=>r(e,n),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",className:"icon-sm",children:d.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1zM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1z",clipRule:"evenodd"})}),d.jsx("span",{id:n,className:"pl-2 cursor-pointer",children:"Ấn để Copy (Sao chép)"})]})})]}),d.jsx("div",{className:"p-4 overflow-y-auto text-left",dir:"ltr",children:d.jsx("code",{className:"hljs language-markdown !whitespace-pre",children:e})})]})}),O9=({ls:t})=>{W.useState("nguyenBan");const[e,n]=W.useState(""),[r,i]=W.useState(""),[s,a]=W.useState(""),o=Tc(t),l=Tc(t,1),c=Tc(t,2),h=U1(t);let u="Luận tổng quát lá số sau: ";u+=`Giới tính ${h.adage}, ${h.ad} mệnh ${h.hmenh} cục ${h.cuc}, ${h.sk}, mùa sinh ${h.mua}, ${h.okmua} và thân cư ${h.tcu}`,W.useEffect((()=>{n(u+"\n\n\n"+Pc(o)),i(Pc(l)),a(Pc(c))}),[o,l,c]);return d.jsx(d.Fragment,{children:d.jsx(I9,{title:"Dữ liệu sao dạng text",content:e,btnId:"btnCopy",onCopy:(t,e)=>{const n=document.getElementById(e);if(!n)return;const r=n.innerText;navigator.clipboard.writeText(t).then((()=>{n.innerText="Đã copy",setTimeout((()=>{n.innerText=r}),2e3)}))},backgroundColor:(t=>{switch(t){case"nguyenBan":default:return"bg-gray-950";case"daiVan":return"bg-gray-800";case"luuNien":return"bg-gray-700"}})("nguyenBan")})})};var Rh={exports:{}},eo={},jh={},Pt={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;t.glob=typeof Ii<"u"?Ii:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.16",isBrowser:typeof window<"u"&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:n=>t.Konva.angleDeg?n*e:n,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>t.Konva.DD.isDragging,isTransforming(){var e;return null===(e=t.Konva.Transformer)||void 0===e?void 0:e.isTransforming()},isDragReady:()=>!!t.Konva.DD.node,releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(e){t.glob.Konva=e}};t._registerNode=e=>{t.Konva[e.prototype.getClassName()]=e},t.Konva._injectGlobal(t.Konva)}(Pt);var le={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Pt;class n{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){const e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,s=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){const n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,s=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this}multiply(t){const e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=s,this.m[5]=a,this}invert(){const t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=e*i-n*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=n){const t=Math.sqrt(e*e+n*n);a.rotation=n>0?Math.acos(e/t):-Math.acos(e/t),a.scaleX=t,a.scaleY=s/t,a.skewX=(e*r+n*i)/s,a.skewY=0}else if(0!=r||0!=i){const t=Math.sqrt(r*r+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-r/t):-Math.acos(r/t)),a.scaleX=s/t,a.scaleY=t,a.skewX=0,a.skewY=(e*r+n*i)/s}return a.rotation=t.Util._getRotation(a.rotation),a}}t.Transform=n;let r=Math.PI/180,i=180/Math.PI,s="Konva error: ",a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},o=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,l=[];const c=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)};t.Util={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;const e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){l.push(t),1===l.length&&c((function(){const t=l;l=[],t.forEach((function(t){t()}))}))},createCanvasElement(){const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(e,n){const r=t.Util.createImageElement();r.onload=function(){n(r)},r.src=e},_rgbToHex:(t,e,n)=>((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){let t=(16777215*Math.random()|0).toString(16);for(;t.length<6;)t="0"+t;return"#"+t},getRGB(t){let e;return t in a?(e=a[t],{r:e[0],g:e[1],b:e[2]}):"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=o.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",t.Util._namedColorToRBA(e)||t.Util._hex3ColorToRGBA(e)||t.Util._hex4ColorToRGBA(e)||t.Util._hex6ColorToRGBA(e)||t.Util._hex8ColorToRGBA(e)||t.Util._rgbColorToRGBA(e)||t.Util._rgbaColorToRGBA(e)||t.Util._hslColorToRGBA(e)),_namedColorToRBA(t){const e=a[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){const e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){const e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((t,e)=>"%"===t.slice(-1)?3===e?parseInt(t)/100:parseInt(t)/100*255:Number(t)));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if("#"===t[0]&&9===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if("#"===t[0]&&5===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let a,o,l;if(0===i)return l=255*s,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};a=s<.5?s*(1+i):s+i-s*i;const c=2*s-a,h=[0,0,0];for(let t=0;t<3;t++)o=r+1/3*-(t-1),o<0&&o++,o>1&&o--,l=6*o<1?c+6*(a-c)*o:2*o<1?a:3*o<2?c+(a-c)*(2/3-o)*6:c,h[t]=255*l;return{r:Math.round(h[0]),g:Math.round(h[1]),b:Math.round(h[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*r,radToDeg:t=>t*i,_degToRad:e=>(t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(e)),_radToDeg:e=>(t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(e)),_getRotation:n=>e.Konva.angleDeg?t.Util.radToDeg(n):n,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(s+t)},error(t){console.error(s+t)},warn(t){e.Konva.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange:(t,e,n)=>e<=t&&t<n,_getProjectionToSegment(t,e,n,r,i,s){let a,o,l;const c=(t-n)*(t-n)+(e-r)*(e-r);if(0==c)a=t,o=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{const h=((i-t)*(n-t)+(s-e)*(r-e))/c;h<0?(a=t,o=e,l=(t-i)*(t-i)+(e-s)*(e-s)):h>1?(a=n,o=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(a=t+h*(n-t),o=e+h*(r-e),l=(a-i)*(a-i)+(o-s)*(o-s))}return[a,o,l]},_getProjectionToLine(e,n,r){const i=t.Util.cloneObject(e);let s=Number.MAX_VALUE;return n.forEach((function(a,o){if(!r&&o===n.length-1)return;const l=n[(o+1)%n.length],c=t.Util._getProjectionToSegment(a.x,a.y,l.x,l.y,e.x,e.y),h=c[0],d=c[1],u=c[2];u<s&&(i.x=h,i.y=d,s=u)})),i},_prepareArrayForTween(e,n,r){let i,s=[],a=[];if(e.length>n.length){const t=n;n=e,e=t}for(i=0;i<e.length;i+=2)s.push({x:e[i],y:e[i+1]});for(i=0;i<n.length;i+=2)a.push({x:n[i],y:n[i+1]});const o=[];return a.forEach((function(e){const n=t.Util._getProjectionToLine(e,s,r);o.push(n.x),o.push(n.y)})),o},_prepareToStringify(e){let n;e.visitedByCircularReferenceRemoval=!0;for(const r in e)if(e.hasOwnProperty(r)&&e[r]&&"object"==typeof e[r])if(n=Object.getOwnPropertyDescriptor(e,r),e[r].visitedByCircularReferenceRemoval||t.Util._isElement(e[r])){if(!n.configurable)return null;delete e[r]}else if(null===t.Util._prepareToStringify(e[r])){if(!n.configurable)return null;delete e[r]}return delete e.visitedByCircularReferenceRemoval,e},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999,releaseCanvas(...t){e.Konva.releaseCanvasOnDestroy&&t.forEach((t=>{t.width=0,t.height=0}))},drawRoundedRectPath(t,e,n,r){let i=0,s=0,a=0,o=0;"number"==typeof r?i=s=a=o=Math.min(r,e/2,n/2):(i=Math.min(r[0]||0,e/2,n/2),s=Math.min(r[1]||0,e/2,n/2),o=Math.min(r[2]||0,e/2,n/2),a=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i,0),t.lineTo(e-s,0),t.arc(e-s,s,s,3*Math.PI/2,0,!1),t.lineTo(e,n-o),t.arc(e-o,n-o,o,0,Math.PI/2,!1),t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}}}(le);var re={},At={},pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.RGBComponent=B9,pt.alphaComponent=D9,pt.getNumberValidator=F9,pt.getNumberOrArrayOfNumbersValidator=$9,pt.getNumberOrAutoValidator=G9,pt.getStringValidator=H9,pt.getStringOrGradientValidator=U9,pt.getFunctionValidator=K9,pt.getNumberArrayValidator=V9,pt.getBooleanValidator=W9,pt.getComponentValidator=z9;const Yn=Pt,he=le;function qn(t){return he.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||he.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function B9(t){return t>255?255:t<0?0:Math.round(t)}function D9(t){return t>1?1:t<1e-4?1e-4:t}function F9(){if(Yn.Konva.isUnminified)return function(t,e){return he.Util._isNumber(t)||he.Util.warn(qn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function $9(t){if(Yn.Konva.isUnminified)return function(e,n){const r=he.Util._isNumber(e),i=he.Util._isArray(e)&&e.length==t;return!r&&!i&&he.Util.warn(qn(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function G9(){if(Yn.Konva.isUnminified)return function(t,e){return he.Util._isNumber(t)||"auto"===t||he.Util.warn(qn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function H9(){if(Yn.Konva.isUnminified)return function(t,e){return he.Util._isString(t)||he.Util.warn(qn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function U9(){if(Yn.Konva.isUnminified)return function(t,e){const n=he.Util._isString(t),r="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return n||r||he.Util.warn(qn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function K9(){if(Yn.Konva.isUnminified)return function(t,e){return he.Util._isFunction(t)||he.Util.warn(qn(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function V9(){if(Yn.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(he.Util._isArray(t)?t.forEach((function(t){he.Util._isNumber(t)||he.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):he.Util.warn(qn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function W9(){if(Yn.Konva.isUnminified)return function(t,e){return!0===t||!1===t||he.Util.warn(qn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function z9(t){if(Yn.Konva.isUnminified)return function(e,n){return null==e||he.Util.isObject(e)||he.Util.warn(qn(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=le,n=pt,r="get",i="set";t.Factory={addGetterSetter(e,n,r,i,s){t.Factory.addGetter(e,n,r),t.Factory.addSetter(e,n,i,s),t.Factory.addOverloadedGetterSetter(e,n)},addGetter(t,n,i){const s=r+e.Util._capitalize(n);t.prototype[s]=t.prototype[s]||function(){const t=this.attrs[n];return void 0===t?i:t}},addSetter(n,r,s,a){const o=i+e.Util._capitalize(r);n.prototype[o]||t.Factory.overWriteSetter(n,r,s,a)},overWriteSetter(t,n,r,s){const a=i+e.Util._capitalize(n);t.prototype[a]=function(t){return r&&null!=t&&(t=r.call(this,t,n)),this._setAttr(n,t),s&&s.call(this),this}},addComponentsGetterSetter(s,a,o,l,c){let h,d,u=o.length,f=e.Util._capitalize,p=r+f(a),g=i+f(a);s.prototype[p]=function(){const t={};for(h=0;h<u;h++)d=o[h],t[d]=this.getAttr(a+f(d));return t};const m=(0,n.getComponentValidator)(o);s.prototype[g]=function(t){let e,n=this.attrs[a];for(e in l&&(t=l.call(this,t)),m&&m.call(this,t,a),t)t.hasOwnProperty(e)&&this._setAttr(a+f(e),t[e]);return t||o.forEach((t=>{this._setAttr(a+f(t),void 0)})),this._fireChangeEvent(a,n,t),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(t,n){const s=e.Util._capitalize(n),a=i+s,o=r+s;t.prototype[n]=function(){return arguments.length?(this[a](arguments[0]),this):this[o]()}},addDeprecatedGetterSetter(n,i,s,a){e.Util.error("Adding deprecated "+i);const o=r+e.Util._capitalize(i),l=i+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[o]=function(){e.Util.error(l);const t=this.attrs[i];return void 0===t?s:t},t.Factory.addSetter(n,i,a,(function(){e.Util.error(l)})),t.Factory.addOverloadedGetterSetter(n,i)},backCompat(t,n){e.Util.each(n,(function(n,s){const a=t.prototype[s],o=r+e.Util._capitalize(n),l=i+e.Util._capitalize(n);function c(){a.apply(this,arguments),e.Util.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+s+'" instead.')}t.prototype[n]=c,t.prototype[o]=c,t.prototype[l]=c}))},afterSetFilter(){this._filterUpToDate=!1}}}(At);var _n={},zn={};Object.defineProperty(zn,"__esModule",{value:!0}),zn.HitContext=zn.SceneContext=zn.Context=void 0;const Y1=le,Y9=Pt;function q9(t){let e,n,r=[],i=t.length,s=Y1.Util;for(e=0;e<i;e++)n=t[e],s._isNumber(n)?n=Math.round(1e3*n)/1e3:s._isString(n)||(n+=""),r.push(n);return r}const c0=",",X9="(",Z9=")",Q9="([",J9="])",t7=";",e7="()",n7="=",h0=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],i7=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],r7=100;class no{constructor(t){this.canvas=t,Y9.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){let n,r,i,s,a=this.traceArr,o=a.length,l="";for(n=0;n<o;n++)r=a[n],i=r.method,i?(s=r.args,l+=i,t?l+=e7:Y1.Util._isArray(s[0])?l+=Q9+s.join(c0)+J9:(e&&(s=s.map((t=>"number"==typeof t?Math.floor(t):t))),l+=X9+s.join(c0)+Z9)):(l+=r.property,t||(l+=n7+r.val)),l+=t7;return l}clearTrace(){this.traceArr=[]}_trace(t){let e,n=this.traceArr;n.push(t),e=n.length,e>=r7&&n.shift()}reset(){const t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){const e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){const e=t.attrs.lineCap;e&&this.setAttr("lineCap",e)}_applyOpacity(t){const e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){const e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,n,r,i,s){this._context.arc(t,e,n,r,i,s)}arcTo(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,n,r,i,s){this._context.bezierCurveTo(t,e,n,r,i,s)}clearRect(t,e,n,r){this._context.clearRect(t,e,n,r)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,e){const n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,n,r,i,s){return this._context.createRadialGradient(t,e,n,r,i,s)}drawImage(t,e,n,r,i,s,a,o,l){const c=arguments,h=this._context;3===c.length?h.drawImage(t,e,n):5===c.length?h.drawImage(t,e,n,r,i):9===c.length&&h.drawImage(t,e,n,r,i,s,a,o,l)}ellipse(t,e,n,r,i,s,a,o){this._context.ellipse(t,e,n,r,i,s,a,o)}isPointInPath(t,e,n,r){return n?this._context.isPointInPath(n,t,e,r):this._context.isPointInPath(t,e,r)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,e,n,r){this._context.fillRect(t,e,n,r)}strokeRect(t,e,n,r){this._context.strokeRect(t,e,n,r)}fillText(t,e,n,r){r?this._context.fillText(t,e,n,r):this._context.fillText(t,e,n)}measureText(t){return this._context.measureText(t)}getImageData(t,e,n,r){return this._context.getImageData(t,e,n,r)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,n,r){this._context.rect(t,e,n,r)}roundRect(t,e,n,r,i){this._context.roundRect(t,e,n,r,i)}putImageData(t,e,n){this._context.putImageData(t,e,n)}quadraticCurveTo(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,n,r,i,s){this._context.setTransform(t,e,n,r,i,s)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,n,r){this._context.strokeText(t,e,n,r)}transform(t,e,n,r,i,s){this._context.transform(t,e,n,r,i,s)}translate(t,e){this._context.translate(t,e)}_enableTrace(){let t,e,n=this,r=h0.length,i=this.setAttr;const s=function(t){let r,i=n[t];n[t]=function(){return e=q9(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)s(h0[t]);n.setAttr=function(){i.apply(n,arguments);const t=arguments[0];let e=arguments[1];("shadowOffsetX"===t||"shadowOffsetY"===t||"shadowBlur"===t)&&(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}zn.Context=no,i7.forEach((function(t){Object.defineProperty(no.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));class s7 extends no{constructor(t,{willReadFrequently:e=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:e})}_fillColor(t){const e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){const e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){const e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){const e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)return void this._fillColor(t);const r=t.getFillPatternImage();if(r&&"pattern"===n)return void this._fillPattern(t);const i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)return void this._fillLinearGradient(t);const s=t.getFillRadialGradientColorStops();s&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):i?this._fillLinearGradient(t):s&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(let t=0;t<r.length;t+=2)i.addColorStop(r[t],r[t+1]);this.setAttr("strokeStyle",i)}}_stroke(t){const e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();const t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}}_applyShadow(t){var e,n,r;const i=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",s=null!==(n=t.getShadowBlur())&&void 0!==n?n:5,a=null!==(r=t.getShadowOffset())&&void 0!==r?r:{x:0,y:0},o=t.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=o.x*l,h=o.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(c),Math.abs(h))),this.setAttr("shadowOffsetX",a.x*c),this.setAttr("shadowOffsetY",a.y*h)}}zn.SceneContext=s7;class a7 extends no{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const e=t.getStrokeScaleEnabled();if(!e){this.save();const t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(t);const n=t.hitStrokeWidth(),r="auto"===n?t.strokeWidth():n;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}}zn.HitContext=a7,Object.defineProperty(_n,"__esModule",{value:!0}),_n.HitCanvas=_n.SceneCanvas=_n.Canvas=void 0;const Ga=le,q1=zn,X1=Pt,o7=At,l7=pt;let wa;function c7(){if(wa)return wa;const t=Ga.Util.createCanvasElement(),e=t.getContext("2d");return wa=(X1.Konva._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),Ga.Util.releaseCanvas(t),wa}class io{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const e=(t||{}).pixelRatio||X1.Konva.pixelRatio||c7();this.pixelRatio=e,this._canvas=Ga.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){const e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";const e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";const e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch{try{return this._canvas.toDataURL()}catch(t){return Ga.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}_n.Canvas=io,o7.Factory.addGetterSetter(io,"pixelRatio",void 0,(0,l7.getNumberValidator)());class h7 extends io{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new q1.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}_n.SceneCanvas=h7;class u7 extends io{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new q1.HitContext(this),this.setSize(t.width,t.height)}}_n.HitCanvas=u7;var ro={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Pt,n=le;t.DD={get isDragging(){let e=!1;return t.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){let e;return t.DD._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const r=[];t.DD._dragElements.forEach(((t,i)=>{const{node:s}=t,a=s.getStage();a.setPointersPositions(e),void 0===t.pointerId&&(t.pointerId=n.Util._getFirstPointerId(e));const o=a._changedPointerPositions.find((e=>e.id===t.pointerId));if(o){if("dragging"!==t.dragStatus){const n=s.dragDistance();if(Math.max(Math.abs(o.x-t.startPointerPos.x),Math.abs(o.y-t.startPointerPos.y))<n||(s.startDrag({evt:e}),!s.isDragging()))return}s._setDragPosition(e,t),r.push(s)}})),r.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(n){const r=[];t.DD._dragElements.forEach((i=>{const{node:s}=i,a=s.getStage();if(n&&a.setPointersPositions(n),!a._changedPointerPositions.find((t=>t.id===i.pointerId)))return;("dragging"===i.dragStatus||"stopped"===i.dragStatus)&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,i.dragStatus="stopped");const o=i.node.getLayer()||i.node instanceof e.Konva.Stage&&i.node;o&&-1===r.indexOf(o)&&r.push(o)})),r.forEach((t=>{t.draw()}))},_endDragAfter(e){t.DD._dragElements.forEach(((n,r)=>{"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:e},!0),"dragging"!==n.dragStatus&&t.DD._dragElements.delete(r)}))}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(ro),Object.defineProperty(re,"__esModule",{value:!0}),re.Node=void 0;const Mt=le,xs=At,Jr=_n,oi=Pt,fn=ro,ye=pt,La="absoluteOpacity",xa="allEventListeners",Kn="absoluteTransform",u0="absoluteScale",Ri="canvas",d7="Change",f7="children",g7="konva",ah="listening",d0="mouseenter",f0="mouseleave",g0="set",p0="Shape",ka=" ",m0="stage",li="transform",p7="Stage",oh="visible",m7=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ka);let v7=1;class vt{constructor(t){this._id=v7++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==li&&t!==Kn||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){let n=this._cache.get(t);return(void 0===n||(t===li||t===Kn)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n}_calculate(t,e,n){if(!this._attachedDepsListeners.get(t)){const n=e.map((t=>t+"Change.konva")).join(ka);this.on(n,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)}_getCanvasCache(){return this._cache.get(Ri)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Kn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ri)){const{scene:t,filter:e,hit:n}=this._cache.get(Ri);Mt.Util.releaseCanvas(t,e,n),this._cache.delete(Ri)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){const e=t||{};let n={};(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(e.width||n.width),i=Math.ceil(e.height||n.height),s=e.pixelRatio,a=void 0===e.x?Math.floor(n.x):e.x,o=void 0===e.y?Math.floor(n.y):e.y,l=e.offset||0,c=e.drawBorder||!1,h=e.hitCanvasPixelRatio||1;if(!r||!i)return void Mt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");r+=2*l+(Math.abs(Math.round(n.x)-a)>.5?1:0),i+=2*l+(Math.abs(Math.round(n.y)-o)>.5?1:0),a-=l,o-=l;const d=new Jr.SceneCanvas({pixelRatio:s,width:r,height:i}),u=new Jr.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),f=new Jr.HitCanvas({pixelRatio:h,width:r,height:i}),p=d.getContext(),g=f.getContext();return f.isCache=!0,d.isCache=!0,this._cache.delete(Ri),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,u.getContext()._context.imageSmoothingEnabled=!1),p.save(),g.save(),p.translate(-a,-o),g.translate(-a,-o),this._isUnderCache=!0,this._clearSelfAndDescendantCache(La),this._clearSelfAndDescendantCache(u0),this.drawScene(d,this),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),g.restore(),c&&(p.save(),p.beginPath(),p.rect(0,0,r,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(Ri,{scene:d,filter:u,hit:f,x:a,y:o}),this._requestDraw(),this}isCached(){return this._cache.has(Ri)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){const n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];let r=1/0,i=1/0,s=-1/0,a=-1/0;const o=this.getAbsoluteTransform(e);return n.forEach((function(t){const e=o.point(t);void 0===r&&(r=s=e.x,i=a=e.y),r=Math.min(r,e.x),i=Math.min(i,e.y),s=Math.max(s,e.x),a=Math.max(a,e.y)})),{x:r,y:i,width:s-r,height:a-i}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);const n=this._getCachedSceneCanvas(),r=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/r,n.height/r),t.restore()}_drawCachedHitCanvas(t){const e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),t.restore()}_getCachedSceneCanvas(){let t,e,n,r,i=this.filters(),s=this._getCanvasCache(),a=s.scene,o=s.filter,l=o.getContext();if(i){if(!this._filterUpToDate){const s=a.pixelRatio;o.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(t=i.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/s,a.getHeight()/s),e=l.getImageData(0,0,o.getWidth(),o.getHeight()),n=0;n<t;n++)r=i[n],"function"==typeof r?(r.call(this,e),l.putImageData(e,0,0)):Mt.Util.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(t){Mt.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return o}return a}on(t,e){if(this._cache&&this._cache.delete(xa),3===arguments.length)return this._delegate.apply(this,arguments);let n,r,i,s,a,o=t.split(ka),l=o.length;for(n=0;n<l;n++)r=o[n],i=r.split("."),s=i[0],a=i[1]||"",this.eventListeners[s]||(this.eventListeners[s]=[]),this.eventListeners[s].push({name:a,handler:e});return this}off(t,e){let n,r,i,s,a,o,l=(t||"").split(ka),c=l.length;if(this._cache&&this._cache.delete(xa),!t)for(r in this.eventListeners)this._off(r);for(n=0;n<c;n++)if(i=l[n],s=i.split("."),a=s[0],o=s[1],a)this.eventListeners[a]&&this._off(a,o,e);else for(r in this.eventListeners)this._off(r,o,e);return this}dispatchEvent(t){const e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,n){const r=this;this.on(t,(function(t){const i=t.target.findAncestors(e,!0,r);for(let e=0;e<i.length;e++)(t=Mt.Util.cloneObject(t)).currentTarget=i[e],n.call(i[e],t)}))}remove(){return this.isDragging()&&this.stopDrag(),fn.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Kn),this._clearSelfAndDescendantCache(La),this._clearSelfAndDescendantCache(u0),this._clearSelfAndDescendantCache(m0),this._clearSelfAndDescendantCache(oh),this._clearSelfAndDescendantCache(ah)}_remove(){this._clearCaches();const t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){const e="get"+Mt.Util._capitalize(t);return Mt.Util._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){let t=this.getParent(),e=[];for(;t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{let e,n;if(!t)return this;for(e in t)e!==f7&&(n=g0+Mt.Util._capitalize(e),Mt.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache(ah,this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache(oh,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);const n=this.getLayer();let r=!1;fn.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(r=!0)}));const i=!e&&!oi.Konva.hitOnDragEnabled&&(r||oi.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let t,e,n,r,i=this.getDepth(),s=this,a=0;const o=this.getStage();return s.nodeType!==p7&&o&&function o(l){for(t=[],e=l.length,n=0;n<e;n++)r=l[n],a++,r.nodeType!==p0&&(t=t.concat(r.getChildren().slice())),r._id===s._id&&(n=e);t.length>0&&t[0].getDepth()<=i&&o(t)}(o.getChildren()),a}getDepth(){let t=0,e=this.parent;for(;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(li),this._clearSelfAndDescendantCache(Kn)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;const e=t.getPointerPosition();if(!e)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(t){let e=!1,n=this.parent;for(;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);const r=this.getAbsoluteTransform(t).getMatrix(),i=new Mt.Transform,s=this.offset();return i.m=r.slice(),i.translate(s.x,s.y),i.getTranslation()}setAbsolutePosition(t){const{x:e,y:n,...r}=this._clearTransform();this.attrs.x=e,this.attrs.y=n,this._clearCache(li);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(r),this.setPosition({x:t.x,y:t.y}),this._clearCache(li),this._clearSelfAndDescendantCache(Kn),this}_setTransform(t){let e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){const t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){let e=t.x,n=t.y,r=this.x(),i=this.y();return void 0!==e&&(r+=e),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}_eachAncestorReverse(t,e){let n,r,i=[],s=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);s&&(!e||s._id!==e._id);)i.unshift(s),s=s.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return Mt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return Mt.Util.warn("Node has no parent. moveUp function is ignored."),!1;const t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return Mt.Util.warn("Node has no parent. moveDown function is ignored."),!1;const t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return Mt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return Mt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&Mt.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(La,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let t=this.opacity();const e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){let t,e,n,r,i,s=this.getAttrs();const a={attrs:{},className:this.getClassName()};for(t in s)e=s[t],i=Mt.Util.isObject(e)&&!Mt.Util._isPlainObject(e)&&!Mt.Util._isArray(e),!i&&(n="function"==typeof this[t]&&this[t],delete s[t],r=n?n.call(this):null,s[t]=e,r!==e&&(a.attrs[t]=e));return Mt.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,n){const r=[];e&&this._isMatch(t)&&r.push(this);let i=this.parent;for(;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r}isAncestorOf(t){return!1}findAncestor(t,e,n){return this.findAncestors(t,e,n)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);let e,n,r=t.replace(/ /g,"").split(","),i=r.length;for(e=0;e<i;e++)if(n=r[e],Mt.Util.isValidSelector(n)||(Mt.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Mt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Mt.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){const t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(m0,this._getStage)}_getStage(){const t=this.getParent();return t?t.getStage():null}fire(t,e={},n){return e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Kn,this._getAbsoluteTransform)}_getAbsoluteTransform(t){let e;if(t)return e=new Mt.Transform,this._eachAncestorReverse((function(t){const n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;{e=this._cache.get(Kn)||new Mt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();const t=this.transformsEnabled();if("all"===t)e.multiply(this.getTransform());else if("position"===t){const t=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,i=this.attrs.offsetY||0;e.translate(t-r,n-i)}return e.dirty=!1,e}}getAbsoluteScale(t){let e=this;for(;e;)e._isUnderCache&&(t=e),e=e.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(li,this._getTransform)}_getTransform(){var t,e;const n=this._cache.get(li)||new Mt.Transform;n.reset();const r=this.x(),i=this.y(),s=oi.Konva.getAngle(this.rotation()),a=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,o=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,l=this.attrs.skewX||0,c=this.attrs.skewY||0,h=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return(0!==r||0!==i)&&n.translate(r,i),0!==s&&n.rotate(s),(0!==l||0!==c)&&n.skew(l,c),(1!==a||1!==o)&&n.scale(a,o),(0!==h||0!==d)&&n.translate(-1*h,-1*d),n.dirty=!1,n}clone(t){let e,n,r,i,s,a=Mt.Util.cloneObject(this.attrs);for(e in t)a[e]=t[e];const o=new this.constructor(a);for(e in this.eventListeners)for(n=this.eventListeners[e],r=n.length,i=0;i<r;i++)s=n[i],s.name.indexOf(g7)<0&&(o.eventListeners[e]||(o.eventListeners[e]=[]),o.eventListeners[e].push(s));return o}_toKonvaCanvas(t){t=t||{};const e=this.getClientRect(),n=this.getStage(),r=void 0!==t.x?t.x:Math.floor(e.x),i=void 0!==t.y?t.y:Math.floor(e.y),s=t.pixelRatio||1,a=new Jr.SceneCanvas({width:t.width||Math.ceil(e.width)||(n?n.width():0),height:t.height||Math.ceil(e.height)||(n?n.height():0),pixelRatio:s}),o=a.getContext(),l=new Jr.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(r),height:a.height/a.pixelRatio+Math.abs(i),pixelRatio:a.pixelRatio});return!1===t.imageSmoothingEnabled&&(o._context.imageSmoothingEnabled=!1),o.save(),(r||i)&&o.translate(-1*r,-1*i),this.drawScene(a,void 0,l),o.restore(),a}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){const e=(t=t||{}).mimeType||null,n=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(r),r}toImage(t){return new Promise(((e,n)=>{try{const n=t?.callback;n&&delete t.callback,Mt.Util._urlToImage(this.toDataURL(t),(function(t){e(t),n?.(t)}))}catch(t){n(t)}}))}toBlob(t){return new Promise(((e,n)=>{try{const n=t?.callback;n&&delete t.callback,this.toCanvas(t).toBlob((t=>{e(t),n?.(t)}),t?.mimeType,t?.quality)}catch(t){n(t)}}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():oi.Konva.dragDistance}_off(t,e,n){let r,i,s,a=this.eventListeners[t];for(r=0;r<a.length;r++)if(i=a[r].name,s=a[r].handler,!("konva"===i&&"konva"!==e||e&&i!==e||n&&n!==s)){if(a.splice(r,1),0===a.length){delete this.eventListeners[t];break}r--}}_fireChangeEvent(t,e,n){this._fire(t+d7,{oldVal:e,newVal:n})}addName(t){if(!this.hasName(t)){const e=this.name(),n=e?e+" "+t:t;this.name(n)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){const e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.name(e.join(" "))),this}setAttr(t,e){const n=this[g0+Mt.Util._capitalize(t)];return Mt.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(oi.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();t?.batchDraw()}}_setAttr(t,e){const n=this.attrs[t];n===e&&!Mt.Util.isObject(e)||(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e),this._requestDraw())}_setComponentAttr(t,e,n){let r;void 0!==n&&(r=this.attrs[t],r||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))}_fireAndBubble(t,e,n){if(e&&this.nodeType===p0&&(e.target=this),t!==d0&&t!==f0||!(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)){this._fire(t,e);const r=(t===d0||t===f0)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){var e,n,r;const i=null!==(e=this._cache.get(xa))&&void 0!==e?e:{};let s=i?.[t];if(void 0===s){s=[];let e=Object.getPrototypeOf(this);for(;e;){const i=null!==(r=null===(n=e.eventListeners)||void 0===n?void 0:n[t])&&void 0!==r?r:[];s.push(...i),e=Object.getPrototypeOf(e)}i[t]=s,this._cache.set(xa,i)}return s}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const n=this._getProtoListeners(t);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,e);const i=this.eventListeners[t];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){const e=t?t.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition();if(!n)return;const i=n._getPointerById(e)||n._changedPointerPositions[0]||r;fn.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){fn.DD._dragElements.has(this._id)||this._createDragElement(t);fn.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const n=this.getStage()._getPointerById(e.pointerId);if(!n)return;let r={x:n.x-e.offset.x,y:n.y-e.offset.y};const i=this.dragBoundFunc();if(void 0!==i){const e=i.call(this,r,t);e?r=e:Mt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(t){const e=fn.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),fn.DD._endDragBefore(t),fn.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=fn.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if(!(void 0===t.evt.button||oi.Konva.dragButtons.indexOf(t.evt.button)>=0)||this.isDragging())return;let e=!1;fn.DD._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=fn.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&fn.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const n={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return Mt.Util.haveIntersection(n,this.getClientRect())}static create(t,e){return Mt.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){let n,r,i,s=vt.prototype.getClassName.call(t),a=t.children;e&&(t.attrs.container=e),oi.Konva[s]||(Mt.Util.warn('Can not find a node with class name "'+s+'". Fallback to "Shape".'),s="Shape");if(n=new(0,oi.Konva[s])(t.attrs),a)for(r=a.length,i=0;i<r;i++)n.add(vt._createNode(a[i]));return n}}re.Node=vt,vt.prototype.nodeType="Node",vt.prototype._attrsAffectingSize=[],vt.prototype.eventListeners={},vt.prototype.on.call(vt.prototype,m7,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(li),this._clearSelfAndDescendantCache(Kn))})),vt.prototype.on.call(vt.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(oh)})),vt.prototype.on.call(vt.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(ah)})),vt.prototype.on.call(vt.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(La)}));const Xt=xs.Factory.addGetterSetter;Xt(vt,"zIndex"),Xt(vt,"absolutePosition"),Xt(vt,"position"),Xt(vt,"x",0,(0,ye.getNumberValidator)()),Xt(vt,"y",0,(0,ye.getNumberValidator)()),Xt(vt,"globalCompositeOperation","source-over",(0,ye.getStringValidator)()),Xt(vt,"opacity",1,(0,ye.getNumberValidator)()),Xt(vt,"name","",(0,ye.getStringValidator)()),Xt(vt,"id","",(0,ye.getStringValidator)()),Xt(vt,"rotation",0,(0,ye.getNumberValidator)()),xs.Factory.addComponentsGetterSetter(vt,"scale",["x","y"]),Xt(vt,"scaleX",1,(0,ye.getNumberValidator)()),Xt(vt,"scaleY",1,(0,ye.getNumberValidator)()),xs.Factory.addComponentsGetterSetter(vt,"skew",["x","y"]),Xt(vt,"skewX",0,(0,ye.getNumberValidator)()),Xt(vt,"skewY",0,(0,ye.getNumberValidator)()),xs.Factory.addComponentsGetterSetter(vt,"offset",["x","y"]),Xt(vt,"offsetX",0,(0,ye.getNumberValidator)()),Xt(vt,"offsetY",0,(0,ye.getNumberValidator)()),Xt(vt,"dragDistance",null,(0,ye.getNumberValidator)()),Xt(vt,"width",0,(0,ye.getNumberValidator)()),Xt(vt,"height",0,(0,ye.getNumberValidator)()),Xt(vt,"listening",!0,(0,ye.getBooleanValidator)()),Xt(vt,"preventDefault",!0,(0,ye.getBooleanValidator)()),Xt(vt,"filters",null,(function(t){return this._filterUpToDate=!1,t})),Xt(vt,"visible",!0,(0,ye.getBooleanValidator)()),Xt(vt,"transformsEnabled","all",(0,ye.getStringValidator)()),Xt(vt,"size"),Xt(vt,"dragBoundFunc"),Xt(vt,"draggable",!1,(0,ye.getBooleanValidator)()),xs.Factory.backCompat(vt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Container=void 0;const Ar=At,Ac=re,so=pt;class Hi extends Ac.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[],n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(0===t.length)return this;if(t.length>1){for(let e=0;e<t.length;e++)this.add(t[e]);return this}const e=t[0];return e.getParent()?(e.moveTo(this),this):(this._validateAdd(e),e.index=this.getChildren().length,e.parent=this,e._clearCaches(),this.getChildren().push(e),this._fire("add",{child:e}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){const e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){const n=[];return this._descendants((r=>{const i=r._isMatch(t);return i&&n.push(r),!(!i||!e)})),n}_descendants(t){let e=!1;const n=this.getChildren();for(const r of n){if(e=t(r),e)return!0;if(r.hasChildren()&&(e=r._descendants(t),e))return!0}return!1}toObject(){const t=Ac.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){let e=t.getParent();for(;e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){const e=Ac.Node.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){const e=[];return this.find("Shape").forEach((n=>{n.isVisible()&&n.intersects(t)&&e.push(n)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),!this.isCached()&&(null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)})))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e,n){const r=this.getLayer(),i=t||r&&r.getCanvas(),s=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(o){s.save();const t=this.getAbsoluteTransform(e).getMatrix();s.transform(t[0],t[1],t[2],t[3],t[4],t[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,e,n);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;const n=this.getLayer(),r=t||n&&n.hitCanvas,i=r&&r.getContext(),s=this._getCanvasCache();if(s&&s.hit){i.save();const t=this.getAbsoluteTransform(e).getMatrix();i.transform(t[0],t[1],t[2],t[3],t[4],t[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,e);return this}_drawChildren(t,e,n,r){var i;const s=e&&e.getContext(),a=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),c="number"==typeof a&&"number"==typeof o||l,h=n===this;if(c){s.save();const t=this.getAbsoluteTransform(n);let e,r=t.getMatrix();if(s.transform(r[0],r[1],r[2],r[3],r[4],r[5]),s.beginPath(),l)e=l.call(this,s,this);else{const t=this.clipX(),e=this.clipY();s.rect(t||0,e||0,a,o)}s.clip.apply(s,e),r=t.copy().invert().getMatrix(),s.transform(r[0],r[1],r[2],r[3],r[4],r[5])}const d=!h&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;d&&(s.save(),s._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach((function(i){i[t](e,n,r)})),d&&s.restore(),c&&s.restore()}getClientRect(t={}){var e;const n=t.skipTransform,r=t.relativeTo;let i,s,a,o,l={x:1/0,y:1/0,width:0,height:0};const c=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(!e.visible())return;const n=e.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===n.width&&0===n.height||(void 0===i?(i=n.x,s=n.y,a=n.x+n.width,o=n.y+n.height):(i=Math.min(i,n.x),s=Math.min(s,n.y),a=Math.max(a,n.x+n.width),o=Math.max(o,n.y+n.height)))}));const h=this.find("Shape");let d=!1;for(let t=0;t<h.length;t++)if(h[t]._isVisible(this)){d=!0;break}return l=d&&void 0!==i?{x:i,y:s,width:a-i,height:o-s}:{x:0,y:0,width:0,height:0},n?l:this._transformedRect(l,r)}}Gi.Container=Hi,Ar.Factory.addComponentsGetterSetter(Hi,"clip",["x","y","width","height"]),Ar.Factory.addGetterSetter(Hi,"clipX",void 0,(0,so.getNumberValidator)()),Ar.Factory.addGetterSetter(Hi,"clipY",void 0,(0,so.getNumberValidator)()),Ar.Factory.addGetterSetter(Hi,"clipWidth",void 0,(0,so.getNumberValidator)()),Ar.Factory.addGetterSetter(Hi,"clipHeight",void 0,(0,so.getNumberValidator)()),Ar.Factory.addGetterSetter(Hi,"clipFunc");var Z1={},gi={};Object.defineProperty(gi,"__esModule",{value:!0}),gi.getCapturedShape=b7,gi.createEvent=Ih,gi.hasPointerCapture=w7,gi.setPointerCapture=x7,gi.releaseCapture=J1;const y7=Pt,us=new Map,Q1=void 0!==y7.Konva._global.PointerEvent;function b7(t){return us.get(t)}function Ih(t){return{evt:t,pointerId:t.pointerId}}function w7(t,e){return us.get(t)===e}function x7(t,e){J1(t),e.getStage()&&(us.set(t,e),Q1&&e._fire("gotpointercapture",Ih(new PointerEvent("gotpointercapture"))))}function J1(t,e){const n=us.get(t);if(!n)return;const r=n.getStage();r&&r.content,us.delete(t),Q1&&n._fire("lostpointercapture",Ih(new PointerEvent("lostpointercapture")))}!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=le,n=At,r=Gi,i=Pt,s=_n,a=ro,o=Pt,l=gi,c="mouseleave",h="mouseover",d="mouseenter",u="mousemove",f="mousedown",p="mouseup",g="pointermove",m="pointerdown",v="pointerup",y="pointercancel",b="pointerout",x="pointerleave",w="pointerover",_="pointerenter",S="contextmenu",C="touchstart",T="touchend",k="touchmove",j="touchcancel",P="wheel",N=[[d,"_pointerenter"],[f,"_pointerdown"],[u,"_pointermove"],[p,"_pointerup"],[c,"_pointerleave"],[C,"_pointerdown"],[k,"_pointermove"],[T,"_pointerup"],[j,"_pointercancel"],[h,"_pointerover"],[P,"_wheel"],[S,"_contextmenu"],[m,"_pointerdown"],[g,"_pointermove"],[v,"_pointerup"],[y,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],A={mouse:{[b]:"mouseout",[x]:c,[w]:h,[_]:d,[g]:u,[m]:f,[v]:p,[y]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[b]:"touchout",[x]:"touchleave",[w]:"touchover",[_]:"touchenter",[g]:k,[m]:C,[v]:T,[y]:j,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[b]:b,[x]:x,[w]:w,[_]:_,[g]:g,[m]:m,[v]:v,[y]:y,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},L=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",M=t=>{const e=L(t);return"pointer"===e?i.Konva.pointerEventsEnabled&&A.pointer:"touch"===e?A.touch:"mouse"===e?A.mouse:void 0};function E(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}t.stages=[];class D extends r.Container{constructor(e){super(E(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{E(this.attrs)})),this._checkVisibility()}_validateAdd(t){const n="Layer"===t.getType(),r="FastLayer"===t.getType();n||r||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){const e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var e;e="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(e)}if(!t)throw"Can not find container in document with id "+e}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,t)}destroy(){super.destroy();const n=this.content;n&&e.Util._isInDocument(n)&&this.container().removeChild(n);const r=t.stages.indexOf(this);return r>-1&&t.stages.splice(r,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(e.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();const e=new s.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,r=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),r.forEach((function(e){if(!e.isVisible())return;const r=e._toKonvaCanvas(t);n.drawImage(r._canvas,t.x,t.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())})),e}getIntersection(t){if(!t)return null;let e,n=this.children;for(e=n.length-1;e>=0;e--){const r=n[e].getIntersection(t);if(r)return r}return null}_resizeDOM(){const t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((n=>{n.setSize({width:t,height:e}),n.draw()}))}add(t,...n){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}super.add(t);const r=this.children.length;return r>5&&e.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),i.Konva.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return l.hasPointerCapture(t,this)}setPointerCapture(t){l.setPointerCapture(t,this)}releaseCapture(t){l.releaseCapture(t,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&N.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}),{passive:!1})}))}_pointerenter(t){this.setPointersPositions(t);const e=M(t.type);e&&this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=M(t.type);e&&this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=M(t.type),n=L(t.type);if(!e)return;this.setPointersPositions(t);const r=this._getTargetShape(n),s=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;r&&s?(r._fireAndBubble(e.pointerout,{evt:t}),r._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[n+"targetShape"]=null):s&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(t){const e=M(t.type),n=L(t.type);if(!e)return;this.setPointersPositions(t);let r=!1;this._changedPointerPositions.forEach((s=>{const o=this.getIntersection(s);if(a.DD.justDragged=!1,i.Konva["_"+n+"ListenClick"]=!0,!o||!o.isListening())return void(this[n+"ClickStartShape"]=void 0);i.Konva.capturePointerEventsEnabled&&o.setPointerCapture(s.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(e.pointerdown,{evt:t,pointerId:s.id}),r=!0;const l=t.type.indexOf("touch")>=0;o.preventDefault()&&t.cancelable&&l&&t.preventDefault()})),r||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(t){const e=M(t.type),n=L(t.type);if(!e||(i.Konva.isDragging()&&a.DD.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),(i.Konva.isDragging()||i.Konva.isTransforming())&&!i.Konva.hitOnDragEnabled))return;const r={};let s=!1;const o=this._getTargetShape(n);this._changedPointerPositions.forEach((i=>{const a=l.getCapturedShape(i.id)||this.getIntersection(i),c=i.id,h={evt:t,pointerId:c},d=o!==a;if(d&&o&&(o._fireAndBubble(e.pointerout,{...h},a),o._fireAndBubble(e.pointerleave,{...h},a)),a){if(r[a._id])return;r[a._id]=!0}a&&a.isListening()?(s=!0,d&&(a._fireAndBubble(e.pointerover,{...h},o),a._fireAndBubble(e.pointerenter,{...h},o),this[n+"targetShape"]=a),a._fireAndBubble(e.pointermove,{...h})):o&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:c}),this[n+"targetShape"]=null)})),s||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=M(t.type),n=L(t.type);if(!e)return;this.setPointersPositions(t);const r=this[n+"ClickStartShape"],s=this[n+"ClickEndShape"],o={};let c=!1;this._changedPointerPositions.forEach((h=>{const d=l.getCapturedShape(h.id)||this.getIntersection(h);if(d){if(d.releaseCapture(h.id),o[d._id])return;o[d._id]=!0}const u=h.id,f={evt:t,pointerId:u};let p=!1;i.Konva["_"+n+"InDblClickWindow"]?(p=!0,clearTimeout(this[n+"DblTimeout"])):a.DD.justDragged||(i.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){i.Konva["_"+n+"InDblClickWindow"]=!1}),i.Konva.dblClickWindow),d&&d.isListening()?(c=!0,this[n+"ClickEndShape"]=d,d._fireAndBubble(e.pointerup,{...f}),i.Konva["_"+n+"ListenClick"]&&r&&r===d&&(d._fireAndBubble(e.pointerclick,{...f}),p&&s&&s===d&&d._fireAndBubble(e.pointerdblclick,{...f}))):(this[n+"ClickEndShape"]=null,i.Konva["_"+n+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:u}),p&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:u}))})),c||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+n+"ListenClick"]=!1,t.cancelable&&"touch"!==n&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);const e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(S,{evt:t}):this._fire(S,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);const e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(P,{evt:t}):this._fire(P,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=l.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(v,l.createEvent(t)),l.releaseCapture(t.pointerId)}_lostpointercapture(t){l.releaseCapture(t.pointerId)}setPointersPositions(t){let n=this._getContentPosition(),r=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})}))):(r=(t.clientX-n.left)/n.scaleX,i=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:e.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:i,id:e.Util._getFirstPointerId(t)}])}_setPointerPosition(t){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}t.Stage=D,D.prototype.nodeType="Stage",(0,o._registerNode)(D),n.Factory.addGetterSetter(D,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",(()=>{t.stages.forEach((t=>{t.batchDraw()}))}))}(Z1);var _s={},Ce={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Pt,n=le,r=At,i=re,s=pt,a=Pt,o=gi,l="hasShadow",c="shadowRGBA",h="patternImage",d="linearGradient",u="radialGradient";let f;function p(){return f||(f=n.Util.createCanvasElement().getContext("2d"),f)}t.shapes={};class g extends i.Node{constructor(e){let r;for(super(e);r=n.Util.getRandomColor(),!r||r in t.shapes;);this.colorKey=r,t.shapes[r]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=p().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const r=new n.Transform;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(e.Konva.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);t.setTransform(s)}return t}}_getLinearGradient(){return this._getCache(d,this.__getLinearGradient)}__getLinearGradient(){const t=this.fillLinearGradientColorStops();if(t){const e=p(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y);for(let e=0;e<t.length;e+=2)i.addColorStop(t[e],t[e+1]);return i}}_getRadialGradient(){return this._getCache(u,this.__getRadialGradient)}__getRadialGradient(){const t=this.fillRadialGradientColorStops();if(t){const e=p(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let e=0;e<t.length;e+=2)i.addColorStop(t[e],t[e+1]);return i}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const t=n.Util.colorToRGBA(this.shadowColor());return t?"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){const e=this.getStage();if(!e)return!1;const n=e.bufferHitCanvas;return n.getContext().clear(),this.drawHit(n,void 0,!0),n.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(null!==(e=this.attrs.perfectDrawEnabled)&&void 0!==e&&!e)return!1;const n=t||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;const s=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&s&&a)}setStrokeHitEnabled(t){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){let e=!1,n=this.getParent();for(;n;){if(n.isCached()){e=!0;break}n=n.getParent()}const r=t.skipTransform,i=t.relativeTo||e&&this.getStage()||void 0,s=this.getSelfRect(),a=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=s.width+a,l=s.height+a,c=!t.skipShadow&&this.hasShadow(),h=c?this.shadowOffsetX():0,d=c?this.shadowOffsetY():0,u=o+Math.abs(h),f=l+Math.abs(d),p=c&&this.shadowBlur()||0,g={width:u+2*p,height:f+2*p,x:-(a/2+p)+Math.min(h,0)+s.x,y:-(a/2+p)+Math.min(d,0)+s.y};return r?g:this._transformedRect(g,i)}drawScene(t,e,n){const r=this.getLayer();let i,s,a=t||r.getCanvas(),o=a.getContext(),l=this._getCanvasCache(),c=this.getSceneFunc(),h=this.hasShadow();const d=a.isCache,u=e===this;if(!this.isVisible()&&!u)return this;if(l){o.save();const t=this.getAbsoluteTransform(e).getMatrix();return o.transform(t[0],t[1],t[2],t[3],t[4],t[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!c)return this;if(o.save(),this._useBufferCanvas()&&!d){i=this.getStage();const t=n||i.bufferCanvas;s=t.getContext(),s.clear(),s.save(),s._applyLineJoin(this);var f=this.getAbsoluteTransform(e).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),c.call(this,s,this),s.restore();const r=t.pixelRatio;h&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(t._canvas,0,0,t.width/r,t.height/r)}else{if(o._applyLineJoin(this),!u){f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}h&&o._applyShadow(this),c.call(this,o,this)}return o.restore(),this}drawHit(t,e,r=!1){if(!this.shouldDrawHit(e,r))return this;const i=this.getLayer(),s=t||i.hitCanvas,a=s&&s.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){a.save();const t=this.getAbsoluteTransform(e).getMatrix();return a.transform(t[0],t[1],t[2],t[3],t[4],t[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),a._applyLineJoin(this),this!==e){const t=this.getAbsoluteTransform(e).getMatrix();a.transform(t[0],t[1],t[2],t[3],t[4],t[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(t=0){let e,r,i,s,a,o,l=this._getCanvasCache(),c=this._getCachedSceneCanvas(),h=l.hit,d=h.getContext(),u=h.getWidth(),f=h.getHeight();d.clear(),d.drawImage(c._canvas,0,0,u,f);try{for(e=d.getImageData(0,0,u,f),r=e.data,i=r.length,s=n.Util._hexToRgb(this.colorKey),a=0;a<i;a+=4)o=r[a+3],o>t?(r[a]=s.r,r[a+1]=s.g,r[a+2]=s.b,r[a+3]=255):r[a+3]=0;d.putImageData(e,0,0)}catch(t){n.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}hasPointerCapture(t){return o.hasPointerCapture(t,this)}setPointerCapture(t){o.setPointerCapture(t,this)}releaseCapture(t){o.releaseCapture(t,this)}}t.Shape=g,g.prototype._fillFunc=function(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()},g.prototype._strokeFunc=function(t){t.stroke()},g.prototype._fillFuncHit=function(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()},g.prototype._strokeFuncHit=function(t){t.stroke()},g.prototype._centroid=!1,g.prototype.nodeType="Shape",(0,a._registerNode)(g),g.prototype.eventListeners={},g.prototype.on.call(g.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(l)})),g.prototype.on.call(g.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(c)})),g.prototype.on.call(g.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(h)})),g.prototype.on.call(g.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(d)})),g.prototype.on.call(g.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(u)})),r.Factory.addGetterSetter(g,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(g,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(g,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(g,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(g,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(g,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(g,"lineJoin"),r.Factory.addGetterSetter(g,"lineCap"),r.Factory.addGetterSetter(g,"sceneFunc"),r.Factory.addGetterSetter(g,"hitFunc"),r.Factory.addGetterSetter(g,"dash"),r.Factory.addGetterSetter(g,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(g,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(g,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(g,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"fillPatternImage"),r.Factory.addGetterSetter(g,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(g,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(g,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(g,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(g,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(g,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(g,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(g,"fillEnabled",!0),r.Factory.addGetterSetter(g,"strokeEnabled",!0),r.Factory.addGetterSetter(g,"shadowEnabled",!0),r.Factory.addGetterSetter(g,"dashEnabled",!0),r.Factory.addGetterSetter(g,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(g,"fillPriority","color"),r.Factory.addComponentsGetterSetter(g,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(g,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(g,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(g,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(g,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(g,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(g,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(g,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(g,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(g,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(g,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(g,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(g,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(g,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(g,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(g,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(g,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(g,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(g,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(g,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(g,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(g,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(g,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(g,"fillPatternRotation",0),r.Factory.addGetterSetter(g,"fillRule",void 0,(0,s.getStringValidator)()),r.Factory.backCompat(g,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Ce),Object.defineProperty(_s,"__esModule",{value:!0}),_s.Layer=void 0;const Un=le,Nc=Gi,ur=re,Oh=At,v0=_n,_7=pt,S7=Ce,C7=Pt,T7="#",P7="beforeDraw",A7="draw",tg=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],N7=tg.length;class Nr extends Nc.Container{constructor(t){super(t),this.canvas=new v0.SceneCanvas,this.hitCanvas=new v0.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){ur.Node.prototype.moveToTop.call(this);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!ur.Node.prototype.moveUp.call(this))return!1;const t=this.getStage();return!(!t||!t.content)&&(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(ur.Node.prototype.moveDown.call(this)){const t=this.getStage();if(t){const e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(ur.Node.prototype.moveToBottom.call(this)){const t=this.getStage();if(t){const e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const t=this.getNativeCanvasElement();return ur.Node.prototype.remove.call(this),t&&t.parentNode&&Un.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){const e=t.getType();"Group"!==e&&"Shape"!==e&&Un.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),ur.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Un.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Un.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Un.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;let e=1,n=!1;for(;;){for(let r=0;r<N7;r++){const i=tg[r],s=this._getIntersection({x:t.x+i.x*e,y:t.y+i.y*e}),a=s.shape;if(a)return a;if(n=!!s.antialiased,!s.antialiased)break}if(!n)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,r=n[3];if(255===r){const t=Un.Util._rgbToHex(n[0],n[1],n[2]),e=S7.shapes[T7+t];return e?{shape:e}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}drawScene(t,e){const n=this.getLayer(),r=t||n&&n.getCanvas();return this._fire(P7,{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),Nc.Container.prototype.drawScene.call(this,r,e),this._fire(A7,{node:this}),this}drawHit(t,e){const n=this.getLayer(),r=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Nc.Container.prototype.drawHit.call(this,r,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){Un.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return Un.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const t=this.parent;this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}destroy(){return Un.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}_s.Layer=Nr,Nr.prototype.nodeType="Layer",(0,C7._registerNode)(Nr),Oh.Factory.addGetterSetter(Nr,"imageSmoothingEnabled",!0),Oh.Factory.addGetterSetter(Nr,"clearBeforeDraw",!0),Oh.Factory.addGetterSetter(Nr,"hitGraphEnabled",!0,(0,_7.getBooleanValidator)());var ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.FastLayer=void 0;const L7=le,k7=_s,E7=Pt;class Bh extends k7.Layer{constructor(t){super(t),this.listening(!1),L7.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}ao.FastLayer=Bh,Bh.prototype.nodeType="FastLayer",(0,E7._registerNode)(Bh);var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Group=void 0;const M7=le,R7=Gi,j7=Pt;class Dh extends R7.Container{_validateAdd(t){const e=t.getType();"Group"!==e&&"Shape"!==e&&M7.Util.throw("You may only add groups and shapes to groups.")}}Lr.Group=Dh,Dh.prototype.nodeType="Group",(0,j7._registerNode)(Dh);var kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.Animation=void 0;const Lc=Pt,y0=le,kc=Lc.glob.performance&&Lc.glob.performance.now?function(){return Lc.glob.performance.now()}:function(){return(new Date).getTime()};class Ln{constructor(t,e){this.id=Ln.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:kc(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){let e=[];return t&&(e=Array.isArray(t)?t:[t]),this.layers=e,this}getLayers(){return this.layers}addLayer(t){const e=this.layers,n=e.length;for(let r=0;r<n;r++)if(e[r]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const t=Ln.animations,e=t.length;for(let n=0;n<e;n++)if(t[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=kc(),Ln._addAnimation(this),this}stop(){return Ln._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const e=t.id,n=this.animations,r=n.length;for(let t=0;t<r;t++)if(n[t].id===e){this.animations.splice(t,1);break}}static _runFrames(){const t={},e=this.animations;for(let n=0;n<e.length;n++){const r=e[n],i=r.layers,s=r.func;r._updateFrameObject(kc());const a=i.length;let o;if(o=!s||!1!==s.call(r,r.frame),o)for(let e=0;e<a;e++){const n=i[e];void 0!==n._id&&(t[n._id]=n)}}for(const e in t)t.hasOwnProperty(e)&&t[e].batchDraw()}static _animationLoop(){const t=Ln;t.animations.length?(t._runFrames(),y0.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,y0.Util.requestAnimFrame(this._animationLoop))}}kr.Animation=Ln,Ln.animations=[],Ln.animIdCounter=0,Ln.animRunning=!1;var eg={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=le,n=kr,r=re,i=Pt;let s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=0,o=["fill","stroke","shadowColor"];class l{constructor(t,e,n,r,i,s,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}fire(t){const e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class c{constructor(r){let o,h,d=this,u=r.node,f=u._id,p=r.easing||t.Easings.Linear,g=!!r.yoyo;o=typeof r.duration>"u"?.3:0===r.duration?.001:r.duration,this.node=u,this._id=a++;const m=u.getLayer()||(u instanceof i.Konva.Stage?u.getLayers():null);for(h in m||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation((function(){d.tween.onEnterFrame()}),m),this.tween=new l(h,(function(t){d._tweenFunc(t)}),p,0,1,1e3*o,g),this._addListeners(),c.attrs[f]||(c.attrs[f]={}),c.attrs[f][this._id]||(c.attrs[f][this._id]={}),c.tweens[f]||(c.tweens[f]={}),r)void 0===s[h]&&this._addAttr(h,r[h]);this.reset(),this.onFinish=r.onFinish,this.onReset=r.onReset,this.onUpdate=r.onUpdate}_addAttr(t,n){let r,i,s,a,l,h,d,u,f=this.node,p=f._id;if(s=c.tweens[p][t],s&&delete c.attrs[p][s][t],r=f.getAttr(t),e.Util._isArray(n))if(i=[],l=Math.max(n.length,r.length),"points"===t&&n.length!==r.length&&(n.length>r.length?(d=r,r=e.Util._prepareArrayForTween(r,n,f.closed())):(h=n,n=e.Util._prepareArrayForTween(n,r,f.closed()))),0===t.indexOf("fill"))for(a=0;a<l;a++)if(a%2==0)i.push(n[a]-r[a]);else{const t=e.Util.colorToRGBA(r[a]);u=e.Util.colorToRGBA(n[a]),r[a]=t,i.push({r:u.r-t.r,g:u.g-t.g,b:u.b-t.b,a:u.a-t.a})}else for(a=0;a<l;a++)i.push(n[a]-r[a]);else-1!==o.indexOf(t)?(r=e.Util.colorToRGBA(r),u=e.Util.colorToRGBA(n),i={r:u.r-r.r,g:u.g-r.g,b:u.b-r.b,a:u.a-r.a}):i=n-r;c.attrs[p][this._id][t]={start:r,diff:i,end:n,trueEnd:h,trueStart:d},c.tweens[p][t]=this._id}_tweenFunc(t){let n,r,i,s,a,l,h,d,u=this.node,f=c.attrs[u._id][this._id];for(n in f){if(r=f[n],i=r.start,s=r.diff,d=r.end,e.Util._isArray(i))if(a=[],h=Math.max(i.length,d.length),0===n.indexOf("fill"))for(l=0;l<h;l++)l%2==0?a.push((i[l]||0)+s[l]*t):a.push("rgba("+Math.round(i[l].r+s[l].r*t)+","+Math.round(i[l].g+s[l].g*t)+","+Math.round(i[l].b+s[l].b*t)+","+(i[l].a+s[l].a*t)+")");else for(l=0;l<h;l++)a.push((i[l]||0)+s[l]*t);else a=-1!==o.indexOf(n)?"rgba("+Math.round(i.r+s.r*t)+","+Math.round(i.g+s.g*t)+","+Math.round(i.b+s.b*t)+","+(i.a+s.a*t)+")":i+s*t;u.setAttr(n,a)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const t=this.node,e=c.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const t=this.node,e=c.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let t,e=this.node._id,n=this._id,r=c.tweens[e];for(t in this.pause(),r)delete c.tweens[e][t];delete c.attrs[e][n]}}t.Tween=c,c.attrs={},c.tweens={},r.Node.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new c(t).play()},t.Easings={BackEaseIn:(t,e,n,r)=>n*(t/=r)*t*(2.70158*t-1.70158)+e,BackEaseOut:(t,e,n,r)=>n*((t=t/r-1)*t*(2.70158*t+1.70158)+1)+e,BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){let a=0;return 0===t?e:1==(t/=r)?e+n:(s||(s=.3*r),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)+e)},ElasticEaseOut(t,e,n,r,i,s){let a=0;return 0===t?e:1==(t/=r)?e+n:(s||(s=.3*r),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){let a=0;return 0===t?e:2==(t/=r/2)?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut:(t,e,n,r)=>(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(e,n,r,i)=>r-t.Easings.BounceEaseOut(i-e,0,r,i)+n,BounceEaseInOut:(e,n,r,i)=>e<i/2?.5*t.Easings.BounceEaseIn(2*e,0,r,i)+n:.5*t.Easings.BounceEaseOut(2*e-i,0,r,i)+.5*r+n,EaseIn:(t,e,n,r)=>n*(t/=r)*t+e,EaseOut:(t,e,n,r)=>-n*(t/=r)*(t-2)+e,EaseInOut:(t,e,n,r)=>(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,n,r)=>n*(t/=r)*t*t*t*t+e,StrongEaseOut:(t,e,n,r)=>n*((t=t/r-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,n,r)=>(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,n,r)=>n*t/r+e}}(eg),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Pt,n=le,r=re,i=Gi,s=Z1,a=_s,o=ao,l=Lr,c=ro,h=Ce,d=kr,u=eg,f=zn,p=_n;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:c.DD,Shape:h.Shape,shapes:h.shapes,Animation:d.Animation,Tween:u.Tween,Easings:u.Easings,Context:f.Context,Canvas:p.Canvas}),t.default=t.Konva}(jh);const JS=fs(jh);var oo={};Object.defineProperty(oo,"__esModule",{value:!0}),oo.Arc=void 0;const lo=At,I7=Ce,b0=Pt,co=pt,O7=Pt;class Xn extends I7.Shape{_sceneFunc(t){const e=b0.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),n=this.clockwise(),r=b0.Konva.getAngle(n?360-this.angle():this.angle()),i=Math.cos(Math.min(r,Math.PI)),s=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),a=Math.sin(Math.min(r,Math.PI/2)),o=i*(i>0?t:e),l=s*(s>0?t:e),c=a*(a>0?e:t);return{x:o,y:n?-1*c:l,width:1*e-o,height:c-l}}}oo.Arc=Xn,Xn.prototype._centroid=!0,Xn.prototype.className="Arc",Xn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,O7._registerNode)(Xn),lo.Factory.addGetterSetter(Xn,"innerRadius",0,(0,co.getNumberValidator)()),lo.Factory.addGetterSetter(Xn,"outerRadius",0,(0,co.getNumberValidator)()),lo.Factory.addGetterSetter(Xn,"angle",0,(0,co.getNumberValidator)()),lo.Factory.addGetterSetter(Xn,"clockwise",!1,(0,co.getBooleanValidator)());var ho={},Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});var B7=Ss.Line=void 0;const uo=At,D7=Pt,F7=Ce,ng=pt;function lh(t,e,n,r,i,s,a){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=a*o/(o+l),h=a*l/(o+l);return[n-c*(i-t),r-c*(s-e),n+h*(i-t),r+h*(s-e)]}function w0(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const n=lh(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(n[0])||(r.push(n[0]),r.push(n[1]),r.push(t[i]),r.push(t[i+1]),r.push(n[2]),r.push(n[3]))}return r}class pi extends F7.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){let e,n,r,i=this.points(),s=i.length,a=this.tension(),o=this.closed(),l=this.bezier();if(s){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&s>4){for(e=this.getTensionPoints(),n=e.length,r=o?0:4,o||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);o||t.quadraticCurveTo(e[n-2],e[n-1],i[s-2],i[s-1])}else if(l)for(r=2;r<s;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<s;r+=2)t.lineTo(i[r],i[r+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():w0(this.points(),this.tension())}_getTensionPointsClosed(){const t=this.points(),e=t.length,n=this.tension(),r=lh(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=lh(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),s=w0(t,n);return[r[2],r[3]].concat(s).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points();let e,n,r=t[0],i=t[0],s=t[1],a=t[1];for(let o=0;o<t.length/2;o++)e=t[2*o],n=t[2*o+1],r=Math.min(r,e),i=Math.max(i,e),s=Math.min(s,n),a=Math.max(a,n);return{x:r,y:s,width:i-r,height:a-s}}}B7=Ss.Line=pi,pi.prototype.className="Line",pi.prototype._attrsAffectingSize=["points","bezier","tension"],(0,D7._registerNode)(pi),uo.Factory.addGetterSetter(pi,"closed",!1),uo.Factory.addGetterSetter(pi,"bezier",!1),uo.Factory.addGetterSetter(pi,"tension",0,(0,ng.getNumberValidator)()),uo.Factory.addGetterSetter(pi,"points",[],(0,ng.getNumberArrayValidator)());var Er={},ig={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];t.getCubicArcLength=(n,r,i)=>{let s,a;const o=i/2;s=0;for(let i=0;i<20;i++)a=o*t.tValues[20][i]+o,s+=t.cValues[20][i]*e(n,r,a);return o*s};function e(t,e,r){const i=n(1,r,t),s=n(1,r,e),a=i*i+s*s;return Math.sqrt(a)}t.getQuadraticArcLength=(t,e,n)=>{void 0===n&&(n=1);const r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],s=2*t[1]-2*t[0],a=2*e[1]-2*e[0],o=4*(r*r+i*i),l=4*(r*s+i*a),c=s*s+a*a;if(0===o)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const h=l/(2*o),d=n+h,u=c/o-h*h,f=d*d+u>0?Math.sqrt(d*d+u):0,p=h*h+u>0?Math.sqrt(h*h+u):0,g=h+Math.sqrt(h*h+u)!==0?u*Math.log(Math.abs((d+f)/(h+p))):0;return Math.sqrt(o)/2*(d*f-h*p+g)};const n=(e,r,i)=>{const s=i.length-1;let a,o;if(0===s)return 0;if(0===e){o=0;for(let e=0;e<=s;e++)o+=t.binomialCoefficients[s][e]*Math.pow(1-r,s-e)*Math.pow(r,e)*i[e];return o}a=new Array(s);for(let t=0;t<s;t++)a[t]=s*(i[t+1]-i[t]);return n(e-1,r,a)};t.t2length=(t,e,n)=>{let r=1,i=t/e,s=(t-n(i))/e,a=0;for(;r>.001;){const o=n(i+s),l=Math.abs(t-o)/e;if(l<r)r=l,i+=s;else{const a=n(i-s),o=Math.abs(t-a)/e;o<r?(r=o,i-=s):s/=2}if(a++,a>500)break}return i}}(ig),Object.defineProperty(Er,"__esModule",{value:!0}),Er.Path=void 0;const $7=At,G7=Ce,H7=Pt,dr=ig;class _e extends G7.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=_e.parsePathData(this.data()),this.pathLength=_e.getPathLength(this.dataArray)}_sceneFunc(t){const e=this.dataArray;t.beginPath();let n=!1;for(let p=0;p<e.length;p++){const g=e[p].command,m=e[p].points;switch(g){case"L":t.lineTo(m[0],m[1]);break;case"M":t.moveTo(m[0],m[1]);break;case"C":t.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5]);break;case"Q":t.quadraticCurveTo(m[0],m[1],m[2],m[3]);break;case"A":var r=m[0],i=m[1],s=m[2],a=m[3],o=m[4],l=m[5],c=m[6],h=m[7],d=s>a?s:a,u=s>a?1:s/a,f=s>a?a/s:1;t.translate(r,i),t.rotate(c),t.scale(u,f),t.arc(0,0,d,o,o+l,1-h),t.scale(1/u,1/f),t.rotate(-c),t.translate(-r,-i);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){let t=[];this.dataArray.forEach((function(e){if("A"===e.command){const n=e.points[4],r=e.points[5],i=e.points[4]+r;let s=Math.PI/180;if(Math.abs(n-i)<s&&(s=Math.abs(n-i)),r<0)for(let r=n-s;r>i;r-=s){const n=_e.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],r,0);t.push(n.x,n.y)}else for(let r=n+s;r<i;r+=s){const n=_e.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],r,0);t.push(n.x,n.y)}}else if("C"===e.command)for(let n=0;n<=1;n+=.01){const r=_e.getPointOnCubicBezier(n,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(r.x,r.y)}else t=t.concat(e.points)}));let e,n,r=t[0],i=t[0],s=t[1],a=t[1];for(let o=0;o<t.length/2;o++)e=t[2*o],n=t[2*o+1],isNaN(e)||(r=Math.min(r,e),i=Math.max(i,e)),isNaN(n)||(s=Math.min(s,n),a=Math.max(a,n));return{x:r,y:s,width:i-r,height:a-s}}getLength(){return this.pathLength}getPointAtLength(t){return _e.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}static getPathLength(t){let e=0;for(let n=0;n<t.length;++n)e+=t[n].pathLength;return e}static getPointAtLengthOfDataArray(t,e){let n,r=0,i=e.length;if(!i)return null;for(;r<i&&t>e[r].pathLength;)t-=e[r].pathLength,++r;if(r===i)return n=e[r-1].points.slice(-2),{x:n[0],y:n[1]};if(t<.01)return n=e[r].points.slice(0,2),{x:n[0],y:n[1]};const s=e[r],a=s.points;switch(s.command){case"L":return _e.getPointOnLine(t,s.start.x,s.start.y,a[0],a[1]);case"C":return _e.getPointOnCubicBezier((0,dr.t2length)(t,_e.getPathLength(e),(t=>(0,dr.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],t))),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return _e.getPointOnQuadraticBezier((0,dr.t2length)(t,_e.getPathLength(e),(t=>(0,dr.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],t))),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],l=a[1],c=a[2],h=a[3],d=a[4],u=a[5],f=a[6];return d+=u*t/s.pathLength,_e.getPointOnEllipticalArc(o,l,c,h,d,f)}return null}static getPointOnLine(t,e,n,r,i,s,a){s=s??e,a=a??n;const o=this.getLineLength(e,n,r,i);if(o<1e-10)return{x:e,y:n};if(r===e)return{x:s,y:a+(i>n?t:-t)};const l=(i-n)/(r-e),c=Math.sqrt(t*t/(1+l*l))*(r<e?-1:1),h=l*c;if(Math.abs(a-n-l*(s-e))<1e-10)return{x:s+c,y:a+h};const d=((s-e)*(r-e)+(a-n)*(i-n))/(o*o),u=e+d*(r-e),f=n+d*(i-n),p=this.getLineLength(s,a,u,f),g=Math.sqrt(t*t-p*p),m=Math.sqrt(g*g/(1+l*l))*(r<e?-1:1);return{x:u+m,y:f+l*m}}static getPointOnCubicBezier(t,e,n,r,i,s,a,o,l){function c(t){return t*t*t}function h(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:o*c(t)+s*h(t)+r*d(t)+e*u(t),y:l*c(t)+a*h(t)+i*d(t)+n*u(t)}}static getPointOnQuadraticBezier(t,e,n,r,i,s,a){function o(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:s*o(t)+r*l(t)+e*c(t),y:a*o(t)+i*l(t)+n*c(t)}}static getPointOnEllipticalArc(t,e,n,r,i,s){const a=Math.cos(s),o=Math.sin(s),l=n*Math.cos(i),c=r*Math.sin(i);return{x:t+(l*a-c*o),y:e+(l*o+c*a)}}static parsePathData(t){if(!t)return[];let e=t;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)e=e.replace(new RegExp(n[r],"g"),"|"+n[r]);const i=e.split("|"),s=[],a=[];let o=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let h;for(r=1;r<i.length;r++){let t=i[r],e=t.charAt(0);for(t=t.slice(1),a.length=0;h=c.exec(t);)a.push(h[0]);const n=[];for(let t=0,e=a.length;t<e;t++){if("00"===a[t]){n.push(0,0);continue}const e=parseFloat(a[t]);isNaN(e)?n.push(0):n.push(e)}for(;n.length>0&&!isNaN(n[0]);){let t="",r=[];const i=o,a=l;var d,u,f,p,g,m,v,y,b,x;switch(e){case"l":o+=n.shift(),l+=n.shift(),t="L",r.push(o,l);break;case"L":o=n.shift(),l=n.shift(),r.push(o,l);break;case"m":var w=n.shift(),_=n.shift();if(o+=w,l+=_,t="M",s.length>2&&"z"===s[s.length-1].command)for(let t=s.length-2;t>=0;t--)if("M"===s[t].command){o=s[t].points[0]+w,l=s[t].points[1]+_;break}r.push(o,l),e="l";break;case"M":o=n.shift(),l=n.shift(),t="M",r.push(o,l),e="L";break;case"h":o+=n.shift(),t="L",r.push(o,l);break;case"H":o=n.shift(),t="L",r.push(o,l);break;case"v":l+=n.shift(),t="L",r.push(o,l);break;case"V":l=n.shift(),t="L",r.push(o,l);break;case"C":r.push(n.shift(),n.shift(),n.shift(),n.shift()),o=n.shift(),l=n.shift(),r.push(o,l);break;case"c":r.push(o+n.shift(),l+n.shift(),o+n.shift(),l+n.shift()),o+=n.shift(),l+=n.shift(),t="C",r.push(o,l);break;case"S":u=o,f=l,"C"===(d=s[s.length-1]).command&&(u=o+(o-d.points[2]),f=l+(l-d.points[3])),r.push(u,f,n.shift(),n.shift()),o=n.shift(),l=n.shift(),t="C",r.push(o,l);break;case"s":u=o,f=l,"C"===(d=s[s.length-1]).command&&(u=o+(o-d.points[2]),f=l+(l-d.points[3])),r.push(u,f,o+n.shift(),l+n.shift()),o+=n.shift(),l+=n.shift(),t="C",r.push(o,l);break;case"Q":r.push(n.shift(),n.shift()),o=n.shift(),l=n.shift(),r.push(o,l);break;case"q":r.push(o+n.shift(),l+n.shift()),o+=n.shift(),l+=n.shift(),t="Q",r.push(o,l);break;case"T":u=o,f=l,"Q"===(d=s[s.length-1]).command&&(u=o+(o-d.points[0]),f=l+(l-d.points[1])),o=n.shift(),l=n.shift(),t="Q",r.push(u,f,o,l);break;case"t":u=o,f=l,"Q"===(d=s[s.length-1]).command&&(u=o+(o-d.points[0]),f=l+(l-d.points[1])),o+=n.shift(),l+=n.shift(),t="Q",r.push(u,f,o,l);break;case"A":p=n.shift(),g=n.shift(),m=n.shift(),v=n.shift(),y=n.shift(),b=o,x=l,o=n.shift(),l=n.shift(),t="A",r=this.convertEndpointToCenterParameterization(b,x,o,l,v,y,p,g,m);break;case"a":p=n.shift(),g=n.shift(),m=n.shift(),v=n.shift(),y=n.shift(),b=o,x=l,o+=n.shift(),l+=n.shift(),t="A",r=this.convertEndpointToCenterParameterization(b,x,o,l,v,y,p,g,m)}s.push({command:t||e,points:r,start:{x:i,y:a},pathLength:this.calcLength(i,a,t||e,r)})}("z"===e||"Z"===e)&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(t,e,n,r){let i,s,a,o;const l=_e;switch(n){case"L":return l.getLineLength(t,e,r[0],r[1]);case"C":return(0,dr.getCubicArcLength)([t,r[0],r[2],r[4]],[e,r[1],r[3],r[5]],1);case"Q":return(0,dr.getQuadraticArcLength)([t,r[0],r[2]],[e,r[1],r[3]],1);case"A":i=0;var c=r[4],h=r[5],d=r[4]+h,u=Math.PI/180;if(Math.abs(c-d)<u&&(u=Math.abs(c-d)),s=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],c,0),h<0)for(o=c-u;o>d;o-=u)a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],o,0),i+=l.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(o=c+u;o<d;o+=u)a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],o,0),i+=l.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],d,0),i+=l.getLineLength(s.x,s.y,a.x,a.y),i}return 0}static convertEndpointToCenterParameterization(t,e,n,r,i,s,a,o,l){const c=l*(Math.PI/180),h=Math.cos(c)*(t-n)/2+Math.sin(c)*(e-r)/2,d=-1*Math.sin(c)*(t-n)/2+Math.cos(c)*(e-r)/2,u=h*h/(a*a)+d*d/(o*o);u>1&&(a*=Math.sqrt(u),o*=Math.sqrt(u));let f=Math.sqrt((a*a*(o*o)-a*a*(d*d)-o*o*(h*h))/(a*a*(d*d)+o*o*(h*h)));i===s&&(f*=-1),isNaN(f)&&(f=0);const p=f*a*d/o,g=f*-o*h/a,m=(t+n)/2+Math.cos(c)*p-Math.sin(c)*g,v=(e+r)/2+Math.sin(c)*p+Math.cos(c)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},x=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},w=x([1,0],[(h-p)/a,(d-g)/o]),_=[(h-p)/a,(d-g)/o],S=[(-1*h-p)/a,(-1*d-g)/o];let C=x(_,S);return b(_,S)<=-1&&(C=Math.PI),b(_,S)>=1&&(C=0),0===s&&C>0&&(C-=2*Math.PI),1===s&&C<0&&(C+=2*Math.PI),[m,v,a,o,w,C,c,s]}}Er.Path=_e,_e.prototype.className="Path",_e.prototype._attrsAffectingSize=["data"],(0,H7._registerNode)(_e),$7.Factory.addGetterSetter(_e,"data"),Object.defineProperty(ho,"__esModule",{value:!0});var U7=ho.Arrow=void 0;const fo=At,K7=Ss,rg=pt,V7=Pt,x0=Er;class Ui extends K7.Line{_sceneFunc(t){super._sceneFunc(t);const e=2*Math.PI,n=this.points();let r=n;const i=0!==this.tension()&&n.length>4;i&&(r=this.getTensionPoints());const s=this.pointerLength(),a=n.length;let o,l;if(i){const t=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],n[a-2],n[a-1]],e=x0.Path.calcLength(r[r.length-4],r[r.length-3],"C",t),i=x0.Path.getPointOnQuadraticBezier(Math.min(1,1-s/e),t[0],t[1],t[2],t[3],t[4],t[5]);o=n[a-2]-i.x,l=n[a-1]-i.y}else o=n[a-2]-n[a-4],l=n[a-1]-n[a-3];const c=(Math.atan2(l,o)+e)%e,h=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(n[a-2],n[a-1]),t.rotate(c),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(n[0],n[1]),i?(o=(r[0]+r[2])/2-n[0],l=(r[1]+r[3])/2-n[1]):(o=n[2]-n[0],l=n[3]-n[1]),t.rotate((Math.atan2(-l,-o)+e)%e),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){const e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}U7=ho.Arrow=Ui,Ui.prototype.className="Arrow",(0,V7._registerNode)(Ui),fo.Factory.addGetterSetter(Ui,"pointerLength",10,(0,rg.getNumberValidator)()),fo.Factory.addGetterSetter(Ui,"pointerWidth",10,(0,rg.getNumberValidator)()),fo.Factory.addGetterSetter(Ui,"pointerAtBeginning",!1),fo.Factory.addGetterSetter(Ui,"pointerAtEnding",!0);var go={};Object.defineProperty(go,"__esModule",{value:!0});var W7=go.Circle=void 0;const z7=At,Y7=Ce,q7=pt,X7=Pt;class Mr extends Y7.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}W7=go.Circle=Mr,Mr.prototype._centroid=!0,Mr.prototype.className="Circle",Mr.prototype._attrsAffectingSize=["radius"],(0,X7._registerNode)(Mr),z7.Factory.addGetterSetter(Mr,"radius",0,(0,q7.getNumberValidator)());var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.Ellipse=void 0;const Fh=At,Z7=Ce,sg=pt,Q7=Pt;class mi extends Z7.Shape{_sceneFunc(t){const e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}po.Ellipse=mi,mi.prototype.className="Ellipse",mi.prototype._centroid=!0,mi.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,Q7._registerNode)(mi),Fh.Factory.addComponentsGetterSetter(mi,"radius",["x","y"]),Fh.Factory.addGetterSetter(mi,"radiusX",0,(0,sg.getNumberValidator)()),Fh.Factory.addGetterSetter(mi,"radiusY",0,(0,sg.getNumberValidator)());var mo={};Object.defineProperty(mo,"__esModule",{value:!0}),mo.Image=void 0;const Ec=le,Ki=At,J7=Ce,tx=Pt,Cs=pt;class pn extends J7.Shape{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){const t=!!this.cornerRadius(),e=this.hasShadow();return!(!t||!e)||super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),n=this.getHeight(),r=this.cornerRadius(),i=this.attrs.image;let s;if(i){const t=this.attrs.cropWidth,r=this.attrs.cropHeight;s=t&&r?[i,this.cropX(),this.cropY(),t,r,0,0,e,n]:[i,0,0,e,n]}(this.hasFill()||this.hasStroke()||r)&&(t.beginPath(),r?Ec.Util.drawRoundedRectPath(t,e,n,r):t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)),i&&(r&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){const e=this.width(),n=this.height(),r=this.cornerRadius();t.beginPath(),r?Ec.Util.drawRoundedRectPath(t,e,n,r):t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e,n=null){const r=Ec.Util.createImageElement();r.onload=function(){const t=new pn({image:r});e(t)},r.onerror=n,r.crossOrigin="Anonymous",r.src=t}}mo.Image=pn,pn.prototype.className="Image",(0,tx._registerNode)(pn),Ki.Factory.addGetterSetter(pn,"cornerRadius",0,(0,Cs.getNumberOrArrayOfNumbersValidator)(4)),Ki.Factory.addGetterSetter(pn,"image"),Ki.Factory.addComponentsGetterSetter(pn,"crop",["x","y","width","height"]),Ki.Factory.addGetterSetter(pn,"cropX",0,(0,Cs.getNumberValidator)()),Ki.Factory.addGetterSetter(pn,"cropY",0,(0,Cs.getNumberValidator)()),Ki.Factory.addGetterSetter(pn,"cropWidth",0,(0,Cs.getNumberValidator)()),Ki.Factory.addGetterSetter(pn,"cropHeight",0,(0,Cs.getNumberValidator)());var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.Tag=br.Label=void 0;const vo=At,ex=Ce,nx=Lr,$h=pt,ag=Pt,og=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],ix="Change.konva",rx="none",ch="up",hh="right",uh="down",dh="left",sx=og.length;class Gh extends nx.Group{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){let e,n=this;const r=function(){n._sync()};for(e=0;e<sx;e++)t.on(og[e]+ix,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let t,e,n,r,i,s,a,o=this.getText(),l=this.getTag();if(o&&l){switch(t=o.width(),e=o.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,s=0,n){case ch:i=t/2,s=-1*a;break;case hh:i=t+r,s=e/2;break;case uh:i=t/2,s=e+a;break;case dh:i=-1*r,s=e/2}l.setAttrs({x:-1*i,y:-1*s,width:t,height:e}),o.setAttrs({x:-1*i,y:-1*s})}}}br.Label=Gh,Gh.prototype.className="Label",(0,ag._registerNode)(Gh);class Vi extends ex.Shape{_sceneFunc(t){const e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius();let o=0,l=0,c=0,h=0;"number"==typeof a?o=l=c=h=Math.min(a,e/2,n/2):(o=Math.min(a[0]||0,e/2,n/2),l=Math.min(a[1]||0,e/2,n/2),h=Math.min(a[2]||0,e/2,n/2),c=Math.min(a[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(o,0),r===ch&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*s),t.lineTo((e+i)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),r===hh&&(t.lineTo(e,(n-s)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+s)/2)),t.lineTo(e,n-h),t.arc(e-h,n-h,h,0,Math.PI/2,!1),r===uh&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+s),t.lineTo((e-i)/2,n)),t.lineTo(c,n),t.arc(c,n-c,c,Math.PI/2,Math.PI,!1),r===dh&&(t.lineTo(0,(n+s)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-s)/2)),t.lineTo(0,o),t.arc(o,o,o,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){let t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),s=this.width(),a=this.height();return i===ch?(e-=r,a+=r):i===uh?a+=r:i===dh?(t-=1.5*n,s+=n):i===hh&&(s+=1.5*n),{x:t,y:e,width:s,height:a}}}br.Tag=Vi,Vi.prototype.className="Tag",(0,ag._registerNode)(Vi),vo.Factory.addGetterSetter(Vi,"pointerDirection",rx),vo.Factory.addGetterSetter(Vi,"pointerWidth",0,(0,$h.getNumberValidator)()),vo.Factory.addGetterSetter(Vi,"pointerHeight",0,(0,$h.getNumberValidator)()),vo.Factory.addGetterSetter(Vi,"cornerRadius",0,(0,$h.getNumberOrArrayOfNumbersValidator)(4));var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});var ax=Ts.Rect=void 0;const ox=At,lx=Ce,cx=Pt,hx=le,ux=pt;class yo extends lx.Shape{_sceneFunc(t){const e=this.cornerRadius(),n=this.width(),r=this.height();t.beginPath(),e?hx.Util.drawRoundedRectPath(t,n,r,e):t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}}ax=Ts.Rect=yo,yo.prototype.className="Rect",(0,cx._registerNode)(yo),ox.Factory.addGetterSetter(yo,"cornerRadius",0,(0,ux.getNumberOrArrayOfNumbersValidator)(4));var bo={};Object.defineProperty(bo,"__esModule",{value:!0}),bo.RegularPolygon=void 0;const lg=At,dx=Ce,cg=pt,fx=Pt;class Wi extends dx.Shape{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,n=[];for(let r=0;r<t;r++)n.push({x:e*Math.sin(2*r*Math.PI/t),y:-1*e*Math.cos(2*r*Math.PI/t)});return n}getSelfRect(){const t=this._getPoints();let e=t[0].x,n=t[0].y,r=t[0].x,i=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.y)})),{x:e,y:r,width:n-e,height:i-r}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}bo.RegularPolygon=Wi,Wi.prototype.className="RegularPolygon",Wi.prototype._centroid=!0,Wi.prototype._attrsAffectingSize=["radius"],(0,fx._registerNode)(Wi),lg.Factory.addGetterSetter(Wi,"radius",0,(0,cg.getNumberValidator)()),lg.Factory.addGetterSetter(Wi,"sides",0,(0,cg.getNumberValidator)());var wo={};Object.defineProperty(wo,"__esModule",{value:!0}),wo.Ring=void 0;const hg=At,gx=Ce,ug=pt,px=Pt,_0=2*Math.PI;class zi extends gx.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,_0,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),_0,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}wo.Ring=zi,zi.prototype.className="Ring",zi.prototype._centroid=!0,zi.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,px._registerNode)(zi),hg.Factory.addGetterSetter(zi,"innerRadius",0,(0,ug.getNumberValidator)()),hg.Factory.addGetterSetter(zi,"outerRadius",0,(0,ug.getNumberValidator)());var xo={};Object.defineProperty(xo,"__esModule",{value:!0}),xo.Sprite=void 0;const Yi=At,mx=Ce,vx=kr,dg=pt,yx=Pt;class Mn extends mx.Shape{constructor(t){super(t),this._updated=!0,this.anim=new vx.Animation((()=>{const t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){const e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],s=this.frameOffsets(),a=i[r+0],o=i[r+1],l=i[r+2],c=i[r+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),h)if(s){const r=s[e],i=2*n;t.drawImage(h,a,o,l,c,r[i+0],r[i+1],l,c)}else t.drawImage(h,a,o,l,c,0,0,l,c)}_hitFunc(t){const e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],s=this.frameOffsets(),a=i[r+2],o=i[r+3];if(t.beginPath(),s){const r=s[e],i=2*n;t.rect(r[i+0],r[i+1],a,o)}else t.rect(0,0,a,o);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(this.isRunning())return;const t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}xo.Sprite=Mn,Mn.prototype.className="Sprite",(0,yx._registerNode)(Mn),Yi.Factory.addGetterSetter(Mn,"animation"),Yi.Factory.addGetterSetter(Mn,"animations"),Yi.Factory.addGetterSetter(Mn,"frameOffsets"),Yi.Factory.addGetterSetter(Mn,"image"),Yi.Factory.addGetterSetter(Mn,"frameIndex",0,(0,dg.getNumberValidator)()),Yi.Factory.addGetterSetter(Mn,"frameRate",17,(0,dg.getNumberValidator)()),Yi.Factory.backCompat(Mn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.Star=void 0;const Hh=At,bx=Ce,Uh=pt,wx=Pt;class vi extends bx.Shape{_sceneFunc(t){const e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(let i=1;i<2*r;i++){const s=i%2==0?n:e,a=s*Math.sin(i*Math.PI/r),o=-1*s*Math.cos(i*Math.PI/r);t.lineTo(a,o)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}_o.Star=vi,vi.prototype.className="Star",vi.prototype._centroid=!0,vi.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,wx._registerNode)(vi),Hh.Factory.addGetterSetter(vi,"numPoints",5,(0,Uh.getNumberValidator)()),Hh.Factory.addGetterSetter(vi,"innerRadius",0,(0,Uh.getNumberValidator)()),Hh.Factory.addGetterSetter(vi,"outerRadius",0,(0,Uh.getNumberValidator)());var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});var xx=Rr.Text=void 0;Rr.stringToArray=fg;const fh=le,Ie=At,_x=Ce,Mc=Pt,yi=pt,Sx=Pt;function fg(t){return[...t].reduce(((t,e,n,r)=>(/\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?(?:\u200D\p{Emoji_Presentation})+/u.test(e)?t.push(e):/\p{Regional_Indicator}{2}/u.test(e+(r[n+1]||""))?t.push(e+r[n+1]):n>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(e)?t[t.length-1]+=e:t.push(e),t)),[])}const fr="auto",Cx="center",gg="inherit",ts="justify",Tx="Change.konva",Px="2d",S0="-",pg="left",Ax="text",Nx="Text",Lx="top",kx="bottom",C0="middle",mg="normal",Ex="px ",_a=" ",Mx="right",T0="rtl",Rx="word",jx="char",P0="none",Rc="…",vg=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Ix=vg.length;function Ox(t){return t.split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t=`"${t}"`),t})).join(", ")}let Sa;function jc(){return Sa||(Sa=fh.Util.createCanvasElement().getContext(Px),Sa)}function Bx(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Dx(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Fx(t){return!(t=t||{}).fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class ue extends _x.Shape{constructor(t){super(Fx(t)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<Ix;t++)this.on(vg[t]+Tx,this._setTextData);this._setTextData()}_sceneFunc(t){const e=this.textArr,n=e.length;if(!this.text())return;let r,i=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=this.direction(),c=0,h=this.align(),d=this.getWidth(),u=this.letterSpacing(),f=this.fill(),p=this.textDecoration(),g=-1!==p.indexOf("underline"),m=-1!==p.indexOf("line-through");l=l===gg?t.direction:l;let v=a/2,y=C0;if(Mc.Konva._fixTextRendering){const t=this.measureSize("M");y="alphabetic",v=(t.fontBoundingBoxAscent-t.fontBoundingBoxDescent)/2+a/2}var b=0,x=0;for(l===T0&&t.setAttr("direction",l),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",y),t.setAttr("textAlign",pg),o===C0?c=(this.getHeight()-n*a-2*i)/2:o===kx&&(c=this.getHeight()-n*a-2*i),t.translate(i,c+i),r=0;r<n;r++){b=0,x=0;var w,_,S,C=e[r],T=C.text,k=C.width,j=C.lastInParagraph;if(t.save(),h===Mx?b+=d-k-2*i:h===Cx&&(b+=(d-k-2*i)/2),g){t.save(),t.beginPath();const e=b,n=v+x+(Mc.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2));t.moveTo(e,n),_=0===(w=T.split(" ").length-1),S=h!==ts||j?k:d-2*i,t.lineTo(e+Math.round(S),n),t.lineWidth=s/15;const r=this._getLinearGradient();t.strokeStyle=r||f,t.stroke(),t.restore()}if(m){t.save(),t.beginPath();const e=Mc.Konva._fixTextRendering?-Math.round(s/4):0;t.moveTo(b,v+x+e),_=0===(w=T.split(" ").length-1),S=h===ts&&j&&!_?d-2*i:k,t.lineTo(b+Math.round(S),v+x+e),t.lineWidth=s/15;const n=this._getLinearGradient();t.strokeStyle=n||f,t.stroke(),t.restore()}if(l===T0||0===u&&h!==ts)0!==u&&t.setAttr("letterSpacing",`${u}px`),this._partialTextX=b,this._partialTextY=v+x,this._partialText=T,t.fillStrokeShape(this);else{w=T.split(" ").length-1;const e=fg(T);for(let n=0;n<e.length;n++){const r=e[n];" "===r&&!j&&h===ts&&(b+=(d-2*i-k)/w),this._partialTextX=b,this._partialTextY=v+x,this._partialText=r,t.fillStrokeShape(this),b+=this.measureSize(r).width+u}}t.restore(),n>1&&(v+=a)}}_hitFunc(t){const e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}setText(t){const e=fh.Util._isString(t)?t:null==t?"":t+"";return this._setAttr(Ax,e),this}getWidth(){return this.attrs.width===fr||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===fr||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return fh.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,n,r,i,s,a,o,l,c,h,d;let u,f=jc(),p=this.fontSize();f.save(),f.font=this._getContextFont(),u=f.measureText(t),f.restore();const g=p/100;return{actualBoundingBoxAscent:null!==(e=u.actualBoundingBoxAscent)&&void 0!==e?e:71.58203125*g,actualBoundingBoxDescent:null!==(n=u.actualBoundingBoxDescent)&&void 0!==n?n:0,actualBoundingBoxLeft:null!==(r=u.actualBoundingBoxLeft)&&void 0!==r?r:-7.421875*g,actualBoundingBoxRight:null!==(i=u.actualBoundingBoxRight)&&void 0!==i?i:75.732421875*g,alphabeticBaseline:null!==(s=u.alphabeticBaseline)&&void 0!==s?s:0,emHeightAscent:null!==(a=u.emHeightAscent)&&void 0!==a?a:100*g,emHeightDescent:null!==(o=u.emHeightDescent)&&void 0!==o?o:-20*g,fontBoundingBoxAscent:null!==(l=u.fontBoundingBoxAscent)&&void 0!==l?l:91*g,fontBoundingBoxDescent:null!==(c=u.fontBoundingBoxDescent)&&void 0!==c?c:21*g,hangingBaseline:null!==(h=u.hangingBaseline)&&void 0!==h?h:72.80000305175781*g,ideographicBaseline:null!==(d=u.ideographicBaseline)&&void 0!==d?d:-21*g,width:u.width,height:p}}_getContextFont(){return this.fontStyle()+_a+this.fontVariant()+_a+(this.fontSize()+Ex)+Ox(this.fontFamily())}_addTextLine(t){this.align()===ts&&(t=t.trim());const e=this._getTextWidth(t);return this.textArr.push({text:t,width:e,lastInParagraph:!1})}_getTextWidth(t){const e=this.letterSpacing(),n=t.length;return jc().measureText(t).width+(n?e*(n-1):0)}_setTextData(){let t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,s=this.attrs.height,a=i!==fr&&void 0!==i,o=s!==fr&&void 0!==s,l=this.padding(),c=i-2*l,h=s-2*l,d=0,u=this.wrap(),f=u!==jx&&u!==P0,p=this.ellipsis();this.textArr=[],jc().font=this._getContextFont();const g=p?this._getTextWidth(Rc):0;for(let e=0,i=t.length;e<i;++e){let s=t[e],l=this._getTextWidth(s);if(a&&l>c)for(;s.length>0;){let t=0,e=s.length,i="",a=0;for(;t<e;){const n=t+e>>>1,r=s.slice(0,n+1),o=this._getTextWidth(r)+g;o<=c?(t=n+1,i=r,a=o):e=n}if(!i)break;if(f){var m;const e=s[i.length];(m=(e===_a||e===S0)&&a<=c?i.length:Math.max(i.lastIndexOf(_a),i.lastIndexOf(S0))+1)>0&&(t=m,i=i.slice(0,t),a=this._getTextWidth(i))}if(i=i.trimRight(),this._addTextLine(i),n=Math.max(n,a),d+=r,this._shouldHandleEllipsis(d)){this._tryToAddEllipsisToLastLine();break}if(s=s.slice(t),s=s.trimLeft(),s.length>0&&(l=this._getTextWidth(s),l<=c)){this._addTextLine(s),d+=r,n=Math.max(n,l);break}}else this._addTextLine(s),d+=r,n=Math.max(n,l),this._shouldHandleEllipsis(d)&&e<i-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),o&&d+r>h)break}this.textHeight=e,this.textWidth=n}_shouldHandleEllipsis(t){const e=+this.fontSize(),n=this.lineHeight()*e,r=this.attrs.height,i=r!==fr&&void 0!==r,s=r-2*this.padding();return!(this.wrap()!==P0)||i&&t+n>s}_tryToAddEllipsisToLastLine(){const t=this.attrs.width,e=t!==fr&&void 0!==t,n=t-2*this.padding(),r=this.ellipsis(),i=this.textArr[this.textArr.length-1];!i||!r||(e&&(this._getTextWidth(i.text+Rc)<n||(i.text=i.text.slice(0,i.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(i.text+Rc))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),e=this.hasShadow();return!(!t||!e)||super._useBufferCanvas()}}xx=Rr.Text=ue,ue.prototype._fillFunc=Bx,ue.prototype._strokeFunc=Dx,ue.prototype.className=Nx,ue.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,Sx._registerNode)(ue),Ie.Factory.overWriteSetter(ue,"width",(0,yi.getNumberOrAutoValidator)()),Ie.Factory.overWriteSetter(ue,"height",(0,yi.getNumberOrAutoValidator)()),Ie.Factory.addGetterSetter(ue,"direction",gg),Ie.Factory.addGetterSetter(ue,"fontFamily","Arial"),Ie.Factory.addGetterSetter(ue,"fontSize",12,(0,yi.getNumberValidator)()),Ie.Factory.addGetterSetter(ue,"fontStyle",mg),Ie.Factory.addGetterSetter(ue,"fontVariant",mg),Ie.Factory.addGetterSetter(ue,"padding",0,(0,yi.getNumberValidator)()),Ie.Factory.addGetterSetter(ue,"align",pg),Ie.Factory.addGetterSetter(ue,"verticalAlign",Lx),Ie.Factory.addGetterSetter(ue,"lineHeight",1,(0,yi.getNumberValidator)()),Ie.Factory.addGetterSetter(ue,"wrap",Rx),Ie.Factory.addGetterSetter(ue,"ellipsis",!1,(0,yi.getBooleanValidator)()),Ie.Factory.addGetterSetter(ue,"letterSpacing",0,(0,yi.getNumberValidator)()),Ie.Factory.addGetterSetter(ue,"text","",(0,yi.getStringValidator)()),Ie.Factory.addGetterSetter(ue,"textDecoration","");var So={};Object.defineProperty(So,"__esModule",{value:!0}),So.TextPath=void 0;const Ic=le,Sn=At,$x=Ce,es=Er,Oc=Rr,yg=pt,Gx=Pt,Hx="",bg="normal";function wg(t){t.fillText(this.partialText,0,0)}function xg(t){t.strokeText(this.partialText,0,0)}class Te extends $x.Shape{constructor(t){super(t),this.dummyCanvas=Ic.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return es.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;return t-1>this.pathLength?null:es.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=es.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();const e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(let n=0;n<i.length;n++){t.save();const s=i[n].p0;t.translate(s.x,s.y),t.rotate(i[n].rotation),this.partialText=i[n].text,t.fillStrokeShape(this),"underline"===e&&(0===n&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();const e=this.glyphInfo;if(e.length>=1){const n=e[0].p0;t.moveTo(n.x,n.y)}for(let n=0;n<e.length;n++){const r=e[n].p1;t.lineTo(r.x,r.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Ic.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return Oc.Text.prototype.setText.call(this,t)}_getContextFont(){return Oc.Text.prototype._getContextFont.call(this)}_getTextSize(t){const e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();const n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:e}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=e,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),r=this.align(),i=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let a=0;"center"===r&&(a=Math.max(0,this.pathLength/2-s/2)),"right"===r&&(a=Math.max(0,this.pathLength-s));const o=(0,Oc.stringToArray)(this.text());let l=a;for(let t=0;t<o.length;t++){const e=this._getPointAtLength(l);if(!e)return;let a=this._getTextSize(o[t]).width+n;if(" "===o[t]&&"justify"===r){const t=this.text().split(" ").length-1;a+=(this.pathLength-s)/t}const c=this._getPointAtLength(l+a);if(!c)return;const h=es.Path.getLineLength(e.x,e.y,c.x,c.y);let d=0;if(i)try{d=i(o[t-1],o[t])*this.fontSize()}catch{d=0}e.x+=d,c.x+=d,this.textWidth+=d;const u=es.Path.getPointOnLine(d+h/2,e.x,e.y,c.x,c.y),f=Math.atan2(c.y-e.y,c.x-e.x);this.glyphInfo.push({transposeX:u.x,transposeY:u.y,text:o[t],rotation:f,p0:e,p1:c}),l+=a}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));let e,n,r=t[0]||0,i=t[0]||0,s=t[1]||0,a=t[1]||0;for(let o=0;o<t.length/2;o++)e=t[2*o],n=t[2*o+1],r=Math.min(r,e),i=Math.max(i,e),s=Math.min(s,n),a=Math.max(a,n);const o=this.fontSize();return{x:r-o/2,y:s-o/2,width:i-r+o,height:a-s+o}}destroy(){return Ic.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}So.TextPath=Te,Te.prototype._fillFunc=wg,Te.prototype._strokeFunc=xg,Te.prototype._fillFuncHit=wg,Te.prototype._strokeFuncHit=xg,Te.prototype.className="TextPath",Te.prototype._attrsAffectingSize=["text","fontSize","data"],(0,Gx._registerNode)(Te),Sn.Factory.addGetterSetter(Te,"data"),Sn.Factory.addGetterSetter(Te,"fontFamily","Arial"),Sn.Factory.addGetterSetter(Te,"fontSize",12,(0,yg.getNumberValidator)()),Sn.Factory.addGetterSetter(Te,"fontStyle",bg),Sn.Factory.addGetterSetter(Te,"align","left"),Sn.Factory.addGetterSetter(Te,"letterSpacing",0,(0,yg.getNumberValidator)()),Sn.Factory.addGetterSetter(Te,"textBaseline","middle"),Sn.Factory.addGetterSetter(Te,"fontVariant",bg),Sn.Factory.addGetterSetter(Te,"text",""),Sn.Factory.addGetterSetter(Te,"textDecoration",null),Sn.Factory.addGetterSetter(Te,"kerningFunc",null);var Co={};Object.defineProperty(Co,"__esModule",{value:!0}),Co.Transformer=void 0;const zt=le,Ft=At,A0=re,Ux=Ce,Kx=Ts,N0=Lr,xn=Pt,bi=pt,Vx=Pt,_g="tr-konva",Wx=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map((t=>t+`.${_g}`)).join(" "),L0="nodesRect",zx=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Yx={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},qx="ontouchstart"in xn.Konva._global;function Xx(t,e,n){if("rotater"===t)return n;e+=zt.Util.degToRad(Yx[t]||0);const r=(zt.Util.radToDeg(e)%360+360)%360;return zt.Util._inRange(r,337.5,360)||zt.Util._inRange(r,0,22.5)?"ns-resize":zt.Util._inRange(r,22.5,67.5)?"nesw-resize":zt.Util._inRange(r,67.5,112.5)?"ew-resize":zt.Util._inRange(r,112.5,157.5)?"nwse-resize":zt.Util._inRange(r,157.5,202.5)?"ns-resize":zt.Util._inRange(r,202.5,247.5)?"nesw-resize":zt.Util._inRange(r,247.5,292.5)?"ew-resize":zt.Util._inRange(r,292.5,337.5)?"nwse-resize":(zt.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Ha=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],k0=1e8;function Zx(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Sg(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function Qx(t,e){return Sg(t,e,Zx(t))}function Jx(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=xn.Konva.getAngle(t[i]),a=Math.abs(s-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=s)}return r}let gh=0;class Ot extends N0.Group{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Wx,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return zt.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return _g+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const e=t.filter((t=>!t.isAncestorOf(this)||(zt.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));return this._nodes=t=e,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},n=t._attrsAffectingSize.map((t=>t+"Change."+this._getEventNamespace())).join(" ");t.on(n,e),t.on(zx.map((t=>t+`.${this._getEventNamespace()}`)).join(" "),e),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,e),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,(n=>{e=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(n,!1)})),t.on(`dragmove.${this._getEventNamespace()}`,(n=>{if(!e)return;const r=t.getAbsolutePosition(),i=r.x-e.x,s=r.y-e.y;this.nodes().forEach((e=>{if(e===t||e.isDragging())return;const r=e.getAbsolutePosition();e.setAbsolutePosition({x:r.x+i,y:r.y+s}),e.startDrag(n)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(L0),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(L0,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),n){const r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(n),s=t.getAbsolutePosition(n),a=r.x*i.x-t.offsetX()*i.x,o=r.y*i.y-t.offsetY()*i.y,l=(xn.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return Sg({x:s.x+a*Math.cos(l)+o*Math.sin(-l),y:s.y+o*Math.cos(l)+a*Math.sin(l),width:r.width*i.x,height:r.height*i.y,rotation:l},-xn.Konva.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-k0,y:-k0,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],i=e.getAbsoluteTransform();r.forEach((function(e){const n=i.point(e);t.push(n)}))}));const e=new zt.Transform;e.rotate(-xn.Konva.getAngle(this.rotation()));let n=1/0,r=1/0,i=-1/0,s=-1/0;t.forEach((function(t){const a=e.point(t);void 0===n&&(n=i=a.x,r=s=a.y),n=Math.min(n,a.x),r=Math.min(r,a.y),i=Math.max(i,a.x),s=Math.max(s,a.y)})),e.invert();const a=e.point({x:n,y:r});return{x:a.x,y:a.y,width:i-n,height:s-r,rotation:xn.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Ha.forEach((t=>{this._createAnchor(t)})),this._createAnchor("rotater")}_createAnchor(t){const e=new Kx.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:qx?10:"auto"}),n=this;e.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{const n=xn.Konva.getAngle(this.rotation()),r=this.rotateAnchorCursor(),i=Xx(t,n,r);e.getStage().content&&(e.getStage().content.style.cursor=i),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){const t=new Ux.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,e){const n=e.getParent(),r=n.padding();t.beginPath(),t.rect(-r,-r,e.width()+2*r,e.height()+2*r),t.moveTo(e.width()/2,-r),n.rotateEnabled()&&n.rotateLineVisible()&&t.lineTo(e.width()/2,-n.rotateAnchorOffset()*zt.Util._sign(e.height())-r),t.fillStrokeShape(e)},hitFunc:(t,e)=>{if(!this.shouldOverdrawWholeArea())return;const n=this.padding();t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e)}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){if(this._transforming)return;this._movingAnchorName=t.target.name().split(" ")[0];const e=this._getNodeRect(),n=e.width,r=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},gh++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t.evt,target:e})}))}_handleMouseMove(t){let e,n,r;const i=this.findOne("."+this._movingAnchorName),s=i.getStage();s.setPointersPositions(t);const a=s.getPointerPosition();let o={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const l=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(o=this.anchorDragBoundFunc()(l,o,t)),i.setAbsolutePosition(o);const c=i.getAbsolutePosition();if(l.x===c.x&&l.y===c.y)return;if("rotater"===this._movingAnchorName){const r=this._getNodeRect();e=i.x()-r.width/2,n=-i.y()+r.height/2;let s=Math.atan2(-n,e)+Math.PI/2;r.height<0&&(s-=Math.PI);const a=xn.Konva.getAngle(this.rotation())+s,o=xn.Konva.getAngle(this.rotationSnapTolerance()),l=Qx(r,Jx(this.rotationSnaps(),a,o)-r.rotation);return void this._fitNodesInto(l,t)}const h=this.shiftBehavior();let d;d="inverted"===h?this.keepRatio()&&!t.shiftKey:"none"===h?this.keepRatio():this.keepRatio()||t.shiftKey;var u=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(d){var f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(f.y-i.y(),2));var p=this.findOne(".top-left").x()>f.x?-1:1,g=this.findOne(".top-left").y()>f.y?-1:1;e=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(d){f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(f.y-i.y(),2));p=this.findOne(".top-right").x()<f.x?-1:1,g=this.findOne(".top-right").y()>f.y?-1:1;e=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-n)}var m=i.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(d){f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(i.y()-f.y,2));p=f.x<i.x()?-1:1,g=i.y()<f.y?-1:1;e=r*this.cos*p,n=r*this.sin*g,i.x(f.x-e),i.y(f.y+n)}m=i.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(d){f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(i.y()-f.y,2));p=this.findOne(".bottom-right").x()<f.x?-1:1,g=this.findOne(".bottom-right").y()<f.y?-1:1;e=r*this.cos*p,n=r*this.sin*g,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(u=this.centeredScaling()||t.altKey){const t=this.findOne(".top-left"),e=this.findOne(".bottom-right"),n=t.x(),r=t.y(),i=this.getWidth()-e.x(),s=this.getHeight()-e.y();e.move({x:-n,y:-r}),t.move({x:i,y:s})}const v=this.findOne(".top-left").getAbsolutePosition();e=v.x,n=v.y;const y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),b=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:y,height:b,rotation:xn.Konva.getAngle(this.rotation())},t)}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var e;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();gh--,this._fire("transformend",{evt:t,target:n}),null===(e=this.getLayer())||void 0===e||e.batchDraw(),n&&this._nodes.forEach((e=>{var n;e._fire("transformend",{evt:t,target:e}),null===(n=e.getLayer())||void 0===n||n.batchDraw()})),this._movingAnchorName=null}}_fitNodesInto(t,e){const n=this._getNodeRect();if(zt.Util._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(zt.Util._inRange(t.height,2*-this.padding()-1,1))return void this.update();const r=new zt.Transform;if(r.rotate(xn.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=r.point({x:2*-this.padding(),y:0});t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=r.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=r.point({x:0,y:2*-this.padding()});t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=r.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(n,t);e?t=e:zt.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const i=1e7,s=new zt.Transform;s.translate(n.x,n.y),s.rotate(n.rotation),s.scale(n.width/i,n.height/i);const a=new zt.Transform,o=t.width/i,l=t.height/i;!1===this.flipEnabled()?(a.translate(t.x,t.y),a.rotate(t.rotation),a.translate(t.width<0?t.width:0,t.height<0?t.height:0),a.scale(Math.abs(o),Math.abs(l))):(a.translate(t.x,t.y),a.rotate(t.rotation),a.scale(o,l));const c=a.multiply(s.invert());this._nodes.forEach((t=>{var e;const n=t.getParent().getAbsoluteTransform(),r=t.getTransform().copy();r.translate(t.offsetX(),t.offsetY());const i=new zt.Transform;i.multiply(n.copy().invert()).multiply(c).multiply(n).multiply(r);const s=i.decompose();t.setAttrs(s),null===(e=t.getLayer())||void 0===e||e.batchDraw()})),this.rotation(zt.Util._getRotation(t.rotation)),this._nodes.forEach((t=>{this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t})})),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t;const e=this._getNodeRect();this.rotation(zt.Util._getRotation(e.rotation));const n=e.width,r=e.height,i=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),o=this.anchorSize(),l=this.find("._anchor");l.forEach((t=>{t.setAttrs({width:o,height:o,offsetX:o/2,offsetY:o/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:o/2+a,offsetY:o/2+a,visible:s&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:o/2+a,visible:s&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:o/2-a,offsetY:o/2+a,visible:s&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:o/2+a,visible:s&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:o/2-a,visible:s&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:o/2+a,offsetY:o/2-a,visible:s&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:o/2-a,visible:s&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:o/2-a,offsetY:o/2-a,visible:s&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*zt.Util._sign(r)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const c=this.anchorStyleFunc();c&&l.forEach((t=>{c(t)})),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),N0.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return A0.Node.prototype.toObject.call(this)}clone(t){return A0.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function t_(t){return t instanceof Array||zt.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===Ha.indexOf(t)&&zt.Util.warn("Unknown anchor name: "+t+". Available names are: "+Ha.join(", "))})),t||[]}Co.Transformer=Ot,Ot.isTransforming=()=>gh>0,Ot.prototype.className="Transformer",(0,Vx._registerNode)(Ot),Ft.Factory.addGetterSetter(Ot,"enabledAnchors",Ha,t_),Ft.Factory.addGetterSetter(Ot,"flipEnabled",!0,(0,bi.getBooleanValidator)()),Ft.Factory.addGetterSetter(Ot,"resizeEnabled",!0),Ft.Factory.addGetterSetter(Ot,"anchorSize",10,(0,bi.getNumberValidator)()),Ft.Factory.addGetterSetter(Ot,"rotateEnabled",!0),Ft.Factory.addGetterSetter(Ot,"rotateLineVisible",!0),Ft.Factory.addGetterSetter(Ot,"rotationSnaps",[]),Ft.Factory.addGetterSetter(Ot,"rotateAnchorOffset",50,(0,bi.getNumberValidator)()),Ft.Factory.addGetterSetter(Ot,"rotateAnchorCursor","crosshair"),Ft.Factory.addGetterSetter(Ot,"rotationSnapTolerance",5,(0,bi.getNumberValidator)()),Ft.Factory.addGetterSetter(Ot,"borderEnabled",!0),Ft.Factory.addGetterSetter(Ot,"anchorStroke","rgb(0, 161, 255)"),Ft.Factory.addGetterSetter(Ot,"anchorStrokeWidth",1,(0,bi.getNumberValidator)()),Ft.Factory.addGetterSetter(Ot,"anchorFill","white"),Ft.Factory.addGetterSetter(Ot,"anchorCornerRadius",0,(0,bi.getNumberValidator)()),Ft.Factory.addGetterSetter(Ot,"borderStroke","rgb(0, 161, 255)"),Ft.Factory.addGetterSetter(Ot,"borderStrokeWidth",1,(0,bi.getNumberValidator)()),Ft.Factory.addGetterSetter(Ot,"borderDash"),Ft.Factory.addGetterSetter(Ot,"keepRatio",!0),Ft.Factory.addGetterSetter(Ot,"shiftBehavior","default"),Ft.Factory.addGetterSetter(Ot,"centeredScaling",!1),Ft.Factory.addGetterSetter(Ot,"ignoreStroke",!1),Ft.Factory.addGetterSetter(Ot,"padding",0,(0,bi.getNumberValidator)()),Ft.Factory.addGetterSetter(Ot,"node"),Ft.Factory.addGetterSetter(Ot,"nodes"),Ft.Factory.addGetterSetter(Ot,"boundBoxFunc"),Ft.Factory.addGetterSetter(Ot,"anchorDragBoundFunc"),Ft.Factory.addGetterSetter(Ot,"anchorStyleFunc"),Ft.Factory.addGetterSetter(Ot,"shouldOverdrawWholeArea",!1),Ft.Factory.addGetterSetter(Ot,"useSingleNodeRotation",!0),Ft.Factory.backCompat(Ot,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var To={};Object.defineProperty(To,"__esModule",{value:!0}),To.Wedge=void 0;const Po=At,e_=Ce,n_=Pt,Cg=pt,i_=Pt;class Zn extends e_.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,n_.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}To.Wedge=Zn,Zn.prototype.className="Wedge",Zn.prototype._centroid=!0,Zn.prototype._attrsAffectingSize=["radius"],(0,i_._registerNode)(Zn),Po.Factory.addGetterSetter(Zn,"radius",0,(0,Cg.getNumberValidator)()),Po.Factory.addGetterSetter(Zn,"angle",0,(0,Cg.getNumberValidator)()),Po.Factory.addGetterSetter(Zn,"clockwise",!1),Po.Factory.backCompat(Zn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.Blur=void 0;const E0=At,r_=re,s_=pt;function M0(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a_=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o_=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function l_(t,e){const n=t.data,r=t.width,i=t.height;let s,a,o,l,c,h,d,u,f,p,g,m,v,y,b,x,w,_,S,C,T,k,j,P,N=e+e+1,A=r-1,L=i-1,M=e+1,E=M*(M+1)/2,D=new M0,B=null,F=D,O=null,R=null,I=a_[e],K=o_[e];for(o=1;o<N;o++)F=F.next=new M0,o===M&&(B=F);for(F.next=D,d=h=0,a=0;a<i;a++){for(x=w=_=S=u=f=p=g=0,m=M*(C=n[h]),v=M*(T=n[h+1]),y=M*(k=n[h+2]),b=M*(j=n[h+3]),u+=E*C,f+=E*T,p+=E*k,g+=E*j,F=D,o=0;o<M;o++)F.r=C,F.g=T,F.b=k,F.a=j,F=F.next;for(o=1;o<M;o++)l=h+((A<o?A:o)<<2),u+=(F.r=C=n[l])*(P=M-o),f+=(F.g=T=n[l+1])*P,p+=(F.b=k=n[l+2])*P,g+=(F.a=j=n[l+3])*P,x+=C,w+=T,_+=k,S+=j,F=F.next;for(O=D,R=B,s=0;s<r;s++)n[h+3]=j=g*I>>K,0!==j?(j=255/j,n[h]=(u*I>>K)*j,n[h+1]=(f*I>>K)*j,n[h+2]=(p*I>>K)*j):n[h]=n[h+1]=n[h+2]=0,u-=m,f-=v,p-=y,g-=b,m-=O.r,v-=O.g,y-=O.b,b-=O.a,l=d+((l=s+e+1)<A?l:A)<<2,x+=O.r=n[l],w+=O.g=n[l+1],_+=O.b=n[l+2],S+=O.a=n[l+3],u+=x,f+=w,p+=_,g+=S,O=O.next,m+=C=R.r,v+=T=R.g,y+=k=R.b,b+=j=R.a,x-=C,w-=T,_-=k,S-=j,R=R.next,h+=4;d+=r}for(s=0;s<r;s++){for(w=_=S=x=f=p=g=u=0,h=s<<2,m=M*(C=n[h]),v=M*(T=n[h+1]),y=M*(k=n[h+2]),b=M*(j=n[h+3]),u+=E*C,f+=E*T,p+=E*k,g+=E*j,F=D,o=0;o<M;o++)F.r=C,F.g=T,F.b=k,F.a=j,F=F.next;for(c=r,o=1;o<=e;o++)h=c+s<<2,u+=(F.r=C=n[h])*(P=M-o),f+=(F.g=T=n[h+1])*P,p+=(F.b=k=n[h+2])*P,g+=(F.a=j=n[h+3])*P,x+=C,w+=T,_+=k,S+=j,F=F.next,o<L&&(c+=r);for(h=s,O=D,R=B,a=0;a<i;a++)l=h<<2,n[l+3]=j=g*I>>K,j>0?(j=255/j,n[l]=(u*I>>K)*j,n[l+1]=(f*I>>K)*j,n[l+2]=(p*I>>K)*j):n[l]=n[l+1]=n[l+2]=0,u-=m,f-=v,p-=y,g-=b,m-=O.r,v-=O.g,y-=O.b,b-=O.a,l=s+((l=a+M)<L?l:L)*r<<2,u+=x+=O.r=n[l],f+=w+=O.g=n[l+1],p+=_+=O.b=n[l+2],g+=S+=O.a=n[l+3],O=O.next,m+=C=R.r,v+=T=R.g,y+=k=R.b,b+=j=R.a,x-=C,w-=T,_-=k,S-=j,R=R.next,h+=r}}const c_=function(t){const e=Math.round(this.blurRadius());e>0&&l_(t,e)};Ao.Blur=c_,E0.Factory.addGetterSetter(r_.Node,"blurRadius",0,(0,s_.getNumberValidator)(),E0.Factory.afterSetFilter);var No={};Object.defineProperty(No,"__esModule",{value:!0}),No.Brighten=void 0;const R0=At,h_=re,u_=pt,d_=function(t){let e,n=255*this.brightness(),r=t.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=n,r[e+1]+=n,r[e+2]+=n};No.Brighten=d_,R0.Factory.addGetterSetter(h_.Node,"brightness",0,(0,u_.getNumberValidator)(),R0.Factory.afterSetFilter);var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.Contrast=void 0;const j0=At,f_=re,g_=pt,p_=function(t){const e=Math.pow((this.contrast()+100)/100,2);let n,r=t.data,i=r.length,s=150,a=150,o=150;for(n=0;n<i;n+=4)s=r[n],a=r[n+1],o=r[n+2],s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,o=o<0?0:o>255?255:o,r[n]=s,r[n+1]=a,r[n+2]=o};Lo.Contrast=p_,j0.Factory.addGetterSetter(f_.Node,"contrast",0,(0,g_.getNumberValidator)(),j0.Factory.afterSetFilter);var ko={};Object.defineProperty(ko,"__esModule",{value:!0}),ko.Emboss=void 0;const fi=At,Eo=re,m_=le,Tg=pt,v_=function(t){let e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),s=0,a=0,o=t.data,l=t.width,c=t.height,h=4*l,d=c;switch(r){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:m_.Util.error("Unknown emboss direction: "+r)}do{const t=(d-1)*h;let r=s;d+r<1&&(r=0),d+r>c&&(r=0);const u=(d-1+r)*l*4;let f=l;do{const r=t+4*(f-1);let s=a;f+s<1&&(s=0),f+s>l&&(s=0);const c=u+4*(f-1+s),h=o[r]-o[c],d=o[r+1]-o[c+1],p=o[r+2]-o[c+2];let g=h;const m=g>0?g:-g;if((d>0?d:-d)>m&&(g=d),(p>0?p:-p)>m&&(g=p),g*=e,i){const t=o[r]+g,e=o[r+1]+g,n=o[r+2]+g;o[r]=t>255?255:t<0?0:t,o[r+1]=e>255?255:e<0?0:e,o[r+2]=n>255?255:n<0?0:n}else{let t=n-g;t<0?t=0:t>255&&(t=255),o[r]=o[r+1]=o[r+2]=t}}while(--f)}while(--d)};ko.Emboss=v_,fi.Factory.addGetterSetter(Eo.Node,"embossStrength",.5,(0,Tg.getNumberValidator)(),fi.Factory.afterSetFilter),fi.Factory.addGetterSetter(Eo.Node,"embossWhiteLevel",.5,(0,Tg.getNumberValidator)(),fi.Factory.afterSetFilter),fi.Factory.addGetterSetter(Eo.Node,"embossDirection","top-left",null,fi.Factory.afterSetFilter),fi.Factory.addGetterSetter(Eo.Node,"embossBlend",!1,null,fi.Factory.afterSetFilter);var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.Enhance=void 0;const I0=At,y_=re,b_=pt;function Bc(t,e,n,r,i){let s,a=n-e,o=i-r;return 0===a?r+o/2:0===o?r:(s=(t-e)/a,s=o*s+r,s)}const w_=function(t){let e,n,r,i,s=t.data,a=s.length,o=s[0],l=o,c=s[1],h=c,d=s[2],u=d;const f=this.enhance();if(0===f)return;for(i=0;i<a;i+=4)e=s[i+0],e<o?o=e:e>l&&(l=e),n=s[i+1],n<c?c=n:n>h&&(h=n),r=s[i+2],r<d?d=r:r>u&&(u=r);let p,g,m,v,y,b,x,w,_;for(l===o&&(l=255,o=0),h===c&&(h=255,c=0),u===d&&(u=255,d=0),f>0?(g=l+f*(255-l),m=o-f*(o-0),y=h+f*(255-h),b=c-f*(c-0),w=u+f*(255-u),_=d-f*(d-0)):(p=.5*(l+o),g=l+f*(l-p),m=o+f*(o-p),v=.5*(h+c),y=h+f*(h-v),b=c+f*(c-v),x=.5*(u+d),w=u+f*(u-x),_=d+f*(d-x)),i=0;i<a;i+=4)s[i+0]=Bc(s[i+0],o,l,m,g),s[i+1]=Bc(s[i+1],c,h,b,y),s[i+2]=Bc(s[i+2],d,u,_,w)};Mo.Enhance=w_,I0.Factory.addGetterSetter(y_.Node,"enhance",0,(0,b_.getNumberValidator)(),I0.Factory.afterSetFilter);var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.Grayscale=void 0;const x_=function(t){let e,n,r=t.data,i=r.length;for(e=0;e<i;e+=4)n=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=n,r[e+1]=n,r[e+2]=n};Ro.Grayscale=x_;var jo={};Object.defineProperty(jo,"__esModule",{value:!0}),jo.HSL=void 0;const wr=At,Kh=re,Vh=pt;wr.Factory.addGetterSetter(Kh.Node,"hue",0,(0,Vh.getNumberValidator)(),wr.Factory.afterSetFilter),wr.Factory.addGetterSetter(Kh.Node,"saturation",0,(0,Vh.getNumberValidator)(),wr.Factory.afterSetFilter),wr.Factory.addGetterSetter(Kh.Node,"luminance",0,(0,Vh.getNumberValidator)(),wr.Factory.afterSetFilter);const __=function(t){let e,n=t.data,r=n.length,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=127*this.luminance();const o=1*i*Math.cos(s*Math.PI/180),l=1*i*Math.sin(s*Math.PI/180),c=.299+.701*o+.167*l,h=.587-.587*o+.33*l,d=.114-.114*o-.497*l,u=.299-.299*o-.328*l,f=.587+.413*o+.035*l,p=.114-.114*o+.293*l,g=.299-.3*o+1.25*l,m=.587-.586*o-1.05*l,v=.114+.886*o-.2*l;let y,b,x,w;for(e=0;e<r;e+=4)y=n[e+0],b=n[e+1],x=n[e+2],w=n[e+3],n[e+0]=c*y+h*b+d*x+a,n[e+1]=u*y+f*b+p*x+a,n[e+2]=g*y+m*b+v*x+a,n[e+3]=w};jo.HSL=__;var Io={};Object.defineProperty(Io,"__esModule",{value:!0}),Io.HSV=void 0;const xr=At,Wh=re,zh=pt,S_=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=r*i*Math.cos(s*Math.PI/180),o=r*i*Math.sin(s*Math.PI/180),l=.299*r+.701*a+.167*o,c=.587*r-.587*a+.33*o,h=.114*r-.114*a-.497*o,d=.299*r-.299*a-.328*o,u=.587*r+.413*a+.035*o,f=.114*r-.114*a+.293*o,p=.299*r-.3*a+1.25*o,g=.587*r-.586*a-1.05*o,m=.114*r+.886*a-.2*o;let v,y,b,x;for(let t=0;t<n;t+=4)v=e[t+0],y=e[t+1],b=e[t+2],x=e[t+3],e[t+0]=l*v+c*y+h*b,e[t+1]=d*v+u*y+f*b,e[t+2]=p*v+g*y+m*b,e[t+3]=x};Io.HSV=S_,xr.Factory.addGetterSetter(Wh.Node,"hue",0,(0,zh.getNumberValidator)(),xr.Factory.afterSetFilter),xr.Factory.addGetterSetter(Wh.Node,"saturation",0,(0,zh.getNumberValidator)(),xr.Factory.afterSetFilter),xr.Factory.addGetterSetter(Wh.Node,"value",0,(0,zh.getNumberValidator)(),xr.Factory.afterSetFilter);var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.Invert=void 0;const C_=function(t){let e,n=t.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]};Oo.Invert=C_;var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.Kaleidoscope=void 0;const Ua=At,Pg=re,O0=le,Ag=pt,T_=function(t,e,n){let r,i,s,a,o=t.data,l=e.data,c=t.width,h=t.height,d=n.polarCenterX||c/2,u=n.polarCenterY||h/2,f=0,p=0,g=0,m=0,v=Math.sqrt(d*d+u*u);i=c-d,s=h-u,a=Math.sqrt(i*i+s*s),v=a>v?a:v;let y,b,x,w,_=h,S=c,C=360/S*Math.PI/180;for(b=0;b<S;b+=1)for(x=Math.sin(b*C),w=Math.cos(b*C),y=0;y<_;y+=1)i=Math.floor(d+v*y/_*w),s=Math.floor(u+v*y/_*x),r=4*(s*c+i),f=o[r+0],p=o[r+1],g=o[r+2],m=o[r+3],r=4*(b+y*c),l[r+0]=f,l[r+1]=p,l[r+2]=g,l[r+3]=m},P_=function(t,e,n){let r,i,s,a,o,l,c=t.data,h=e.data,d=t.width,u=t.height,f=n.polarCenterX||d/2,p=n.polarCenterY||u/2,g=0,m=0,v=0,y=0,b=Math.sqrt(f*f+p*p);i=d-f,s=u-p,l=Math.sqrt(i*i+s*s),b=l>b?l:b;let x,w,_,S,C=u,T=d;for(i=0;i<d;i+=1)for(s=0;s<u;s+=1)a=i-f,o=s-p,x=Math.sqrt(a*a+o*o)*C/b,w=(180*Math.atan2(o,a)/Math.PI+360+0)%360,w=w*T/360,_=Math.floor(w),S=Math.floor(x),r=4*(S*d+_),g=c[r+0],m=c[r+1],v=c[r+2],y=c[r+3],r=4*(s*d+i),h[r+0]=g,h[r+1]=m,h[r+2]=v,h[r+3]=y},A_=function(t){const e=t.width,n=t.height;let r,i,s,a,o,l,c,h,d,u,f=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(e*(p%360)/360);if(f<1)return;const m=O0.Util.createCanvasElement();m.width=e,m.height=n;const v=m.getContext("2d").getImageData(0,0,e,n);O0.Util.releaseCanvas(m),T_(t,v,{polarCenterX:e/2,polarCenterY:n/2});let y=e/Math.pow(2,f);for(;y<=8;)y*=2,f-=1;y=Math.ceil(y);let b=y,x=0,w=b,_=1;for(g+y>e&&(x=b,w=0,_=-1),i=0;i<n;i+=1)for(r=x;r!==w;r+=_)s=Math.round(r+g)%e,d=4*(e*i+s),o=v.data[d+0],l=v.data[d+1],c=v.data[d+2],h=v.data[d+3],u=4*(e*i+r),v.data[u+0]=o,v.data[u+1]=l,v.data[u+2]=c,v.data[u+3]=h;for(i=0;i<n;i+=1)for(b=Math.floor(y),a=0;a<f;a+=1){for(r=0;r<b+1;r+=1)d=4*(e*i+r),o=v.data[d+0],l=v.data[d+1],c=v.data[d+2],h=v.data[d+3],u=4*(e*i+2*b-r-1),v.data[u+0]=o,v.data[u+1]=l,v.data[u+2]=c,v.data[u+3]=h;b*=2}P_(v,t,{polarRotation:0})};Bo.Kaleidoscope=A_,Ua.Factory.addGetterSetter(Pg.Node,"kaleidoscopePower",2,(0,Ag.getNumberValidator)(),Ua.Factory.afterSetFilter),Ua.Factory.addGetterSetter(Pg.Node,"kaleidoscopeAngle",0,(0,Ag.getNumberValidator)(),Ua.Factory.afterSetFilter);var Do={};Object.defineProperty(Do,"__esModule",{value:!0}),Do.Mask=void 0;const B0=At,N_=re,L_=pt;function Ca(t,e,n){let r=4*(n*t.width+e);const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function ns(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function k_(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function E_(t,e){const n=Ca(t,0,0),r=Ca(t,t.width-1,0),i=Ca(t,0,t.height-1),s=Ca(t,t.width-1,t.height-1),a=e||10;if(ns(n,r)<a&&ns(r,s)<a&&ns(s,i)<a&&ns(i,n)<a){const e=k_([r,n,s,i]),o=[];for(let n=0;n<t.width*t.height;n++){const r=ns(e,[t.data[4*n],t.data[4*n+1],t.data[4*n+2]]);o[n]=r<a?0:255}return o}}function M_(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function R_(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let h=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=o+a-s,u=l+c-s;if(d>=0&&d<n&&u>=0&&u<e){const n=r[a*i+c];h+=t[d*e+u]*n}}a[c]=2040===h?255:0}return a}function j_(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let h=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=o+a-s,u=l+c-s;if(d>=0&&d<n&&u>=0&&u<e){const n=r[a*i+c];h+=t[d*e+u]*n}}a[c]=h>=1020?255:0}return a}function I_(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let h=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=o+a-s,u=l+c-s;if(d>=0&&d<n&&u>=0&&u<e){const n=r[a*i+c];h+=t[d*e+u]*n}}a[c]=h}return a}const O_=function(t){let e=E_(t,this.threshold());return e&&(e=R_(e,t.width,t.height),e=j_(e,t.width,t.height),e=I_(e,t.width,t.height),M_(t,e)),t};Do.Mask=O_,B0.Factory.addGetterSetter(N_.Node,"threshold",0,(0,L_.getNumberValidator)(),B0.Factory.afterSetFilter);var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.Noise=void 0;const D0=At,B_=re,D_=pt,F_=function(t){const e=255*this.noise(),n=t.data,r=n.length,i=e/2;for(let t=0;t<r;t+=4)n[t+0]+=i-2*i*Math.random(),n[t+1]+=i-2*i*Math.random(),n[t+2]+=i-2*i*Math.random()};Fo.Noise=F_,D0.Factory.addGetterSetter(B_.Node,"noise",.2,(0,D_.getNumberValidator)(),D0.Factory.afterSetFilter);var $o={};Object.defineProperty($o,"__esModule",{value:!0}),$o.Pixelate=void 0;const F0=At,$_=le,G_=re,H_=pt,U_=function(t){let e,n,r,i,s,a,o,l,c,h,d,u,f,p,g=Math.ceil(this.pixelSize()),m=t.width,v=t.height,y=Math.ceil(m/g),b=Math.ceil(v/g),x=t.data;if(g<=0)$_.Util.error("pixelSize value can not be <= 0");else for(u=0;u<y;u+=1)for(f=0;f<b;f+=1){for(i=0,s=0,a=0,o=0,l=u*g,c=l+g,h=f*g,d=h+g,p=0,e=l;e<c;e+=1)if(!(e>=m))for(n=h;n<d;n+=1)n>=v||(r=4*(m*n+e),i+=x[r+0],s+=x[r+1],a+=x[r+2],o+=x[r+3],p+=1);for(i/=p,s/=p,a/=p,o/=p,e=l;e<c;e+=1)if(!(e>=m))for(n=h;n<d;n+=1)n>=v||(r=4*(m*n+e),x[r+0]=i,x[r+1]=s,x[r+2]=a,x[r+3]=o)}};$o.Pixelate=U_,F0.Factory.addGetterSetter(G_.Node,"pixelSize",8,(0,H_.getNumberValidator)(),F0.Factory.afterSetFilter);var Go={};Object.defineProperty(Go,"__esModule",{value:!0}),Go.Posterize=void 0;const $0=At,K_=re,V_=pt,W_=function(t){let e,n=Math.round(254*this.levels())+1,r=t.data,i=r.length,s=255/n;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/s)*s};Go.Posterize=W_,$0.Factory.addGetterSetter(K_.Node,"levels",.5,(0,V_.getNumberValidator)(),$0.Factory.afterSetFilter);var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.RGB=void 0;const Ka=At,Yh=re,z_=pt,Y_=function(t){let e,n,r=t.data,i=r.length,s=this.red(),a=this.green(),o=this.blue();for(e=0;e<i;e+=4)n=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=n*s,r[e+1]=n*a,r[e+2]=n*o,r[e+3]=r[e+3]};Ho.RGB=Y_,Ka.Factory.addGetterSetter(Yh.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Ka.Factory.addGetterSetter(Yh.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Ka.Factory.addGetterSetter(Yh.Node,"blue",0,z_.RGBComponent,Ka.Factory.afterSetFilter);var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.RGBA=void 0;const ds=At,Ko=re,q_=pt,X_=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a=this.alpha();for(let t=0;t<n;t+=4){const n=1-a;e[t]=r*a+e[t]*n,e[t+1]=i*a+e[t+1]*n,e[t+2]=s*a+e[t+2]*n}};Uo.RGBA=X_,ds.Factory.addGetterSetter(Ko.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),ds.Factory.addGetterSetter(Ko.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),ds.Factory.addGetterSetter(Ko.Node,"blue",0,q_.RGBComponent,ds.Factory.afterSetFilter),ds.Factory.addGetterSetter(Ko.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}));var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.Sepia=void 0;const Z_=function(t){let e,n,r,i,s=t.data,a=s.length;for(e=0;e<a;e+=4)n=s[e+0],r=s[e+1],i=s[e+2],s[e+0]=Math.min(255,.393*n+.769*r+.189*i),s[e+1]=Math.min(255,.349*n+.686*r+.168*i),s[e+2]=Math.min(255,.272*n+.534*r+.131*i)};Vo.Sepia=Z_;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.Solarize=void 0;const Q_=function(t){const e=t.data,n=t.width,r=4*n;let i=t.height;do{const t=(i-1)*r;let s=n;do{const n=t+4*(s-1);let r=e[n],i=e[n+1],a=e[n+2];r>127&&(r=255-r),i>127&&(i=255-i),a>127&&(a=255-a),e[n]=r,e[n+1]=i,e[n+2]=a}while(--s)}while(--i)};Wo.Solarize=Q_;var zo={};Object.defineProperty(zo,"__esModule",{value:!0}),zo.Threshold=void 0;const G0=At,J_=re,tS=pt,eS=function(t){const e=255*this.threshold(),n=t.data,r=n.length;for(let t=0;t<r;t+=1)n[t]=n[t]<e?0:255};zo.Threshold=eS,G0.Factory.addGetterSetter(J_.Node,"threshold",.5,(0,tS.getNumberValidator)(),G0.Factory.afterSetFilter),Object.defineProperty(eo,"__esModule",{value:!0}),eo.Konva=void 0;const H0=jh,nS=oo,iS=ho,rS=go,sS=po,aS=mo,U0=br,oS=Ss,lS=Er,cS=Ts,hS=bo,uS=wo,dS=xo,fS=_o,gS=Rr,pS=So,mS=Co,vS=To,yS=Ao,bS=No,wS=Lo,xS=ko,_S=Mo,SS=Ro,CS=jo,TS=Io,PS=Oo,AS=Bo,NS=Do,LS=Fo,kS=$o,ES=Go,MS=Ho,RS=Uo,jS=Vo,IS=Wo,OS=zo;eo.Konva=H0.Konva.Util._assign(H0.Konva,{Arc:nS.Arc,Arrow:iS.Arrow,Circle:rS.Circle,Ellipse:sS.Ellipse,Image:aS.Image,Label:U0.Label,Tag:U0.Tag,Line:oS.Line,Path:lS.Path,Rect:cS.Rect,RegularPolygon:hS.RegularPolygon,Ring:uS.Ring,Sprite:dS.Sprite,Star:fS.Star,Text:gS.Text,TextPath:pS.TextPath,Transformer:mS.Transformer,Wedge:vS.Wedge,Filters:{Blur:yS.Blur,Brighten:bS.Brighten,Contrast:wS.Contrast,Emboss:xS.Emboss,Enhance:_S.Enhance,Grayscale:SS.Grayscale,HSL:CS.HSL,HSV:TS.HSV,Invert:PS.Invert,Kaleidoscope:AS.Kaleidoscope,Mask:NS.Mask,Noise:LS.Noise,Pixelate:kS.Pixelate,Posterize:ES.Posterize,RGB:MS.RGB,RGBA:RS.RGBA,Sepia:jS.Sepia,Solarize:IS.Solarize,Threshold:OS.Threshold}});var BS=Rh.exports;Object.defineProperty(BS,"__esModule",{value:!0});const DS=eo;Rh.exports=DS.Konva;var FS=Rh.exports;const Ta=fs(FS),Pa=200,$S=["Tử Vi","Thiên Phủ","Thái Dương","Vũ Khúc","Thiên Đồng","Liêm Trinh"],GS=({fontName:t,onPreloadComplete:e})=>{const n=W.useRef(null),r=W.useRef(null);return W.useEffect((()=>(Array.from({length:3}).forEach(((e,n)=>{try{const e=document.createElement("div");e.id=`preload-canvas-${n}`,e.style.position="fixed",e.style.left="-1000px",e.style.top="-1000px",document.body.appendChild(e);const r=new Ta.Stage({container:e,width:Pa,height:Pa}),i=new Ta.Layer,s=new Ta.Rect({x:0,y:0,width:Pa,height:Pa,fill:"#ffffff"});i.add(s),$S.forEach(((e,n)=>{const r=Object.keys(Ut),s=Ut[r[Math.floor(Math.random()*r.length)]],a=new Ta.Text({x:10,y:20+30*n,text:`${e} ${s?.name||""}`,fontSize:16,fontFamily:t,fill:"#000000"});i.add(a)})),r.add(i),i.cache(),setTimeout((()=>{r.destroy(),document.body.removeChild(e)}),2e3)}catch(t){console.error(`Error creating preload canvas ${n}:`,t)}})),setTimeout(e,2e3),()=>{r.current&&r.current.destroy()})),[t,e]),d.jsx("div",{ref:n,style:{display:"none"}})},Dc=gw(Da);qt.locale("vi");const HS=t=>t>=6&&t<=8,Ng=742,US=960,ph=54,mh=1,KS=()=>d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 mx-auto",style:{maxWidth:"798px"},children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-yellow-700",children:[d.jsx("strong",{children:"Lưu ý:"})," đang là lá số Trung Châu Phái cẩn thận nhầm Thiên Bàn, Địa Bàn, Nhân Bàn"]})})]})}),Fc=t=>{const e=JSON.parse(t.lsServer),[n,r]=W.useState(0),[i,s]=W.useState(0),a=Ya().pathname,[o]=_y();let l=_c(a+"?"+o.toString());const c=Q0(),h=W.useRef(null),[u,f]=W.useState((()=>{if(l=_c(a+"?"+o.toString()),void 0!==t.defaultType&&!o.get("cf")){const e=[...l.cfg];return e[bt.typeLs]=t.defaultType,{vBorn:l.dtBorn,vView:l.dtView,sex:l.sex,cfgLs:e0(e),first:!1,noBlur:!0,copyState:!1,copyLS:!1,isEditLsOpen:!1}}return{vBorn:l.dtBorn,vView:l.dtView,sex:l.sex,cfgLs:e0(l.cfg),first:!1,noBlur:!0,copyState:!1,copyLS:!1,isEditLsOpen:!1}})),[p,g]=W.useState(e),[m,v]=W.useState({}),[y,b]=W.useState((()=>Qr(u.vBorn,u.vView,u.sex,u.cfgLs))),x=t=>{const e=new Date(t);return e.getFullYear()<1e3&&e.setFullYear(1e3),e.getFullYear()>2099&&e.setFullYear(2099),e},w=W.useCallback((()=>{let t=u.vBorn;return u.vView.getFullYear()>u.vBorn.getFullYear()+120&&(t=x(t),f((e=>({...e,vView:t})))),u.vView.getFullYear()<u.vBorn.getFullYear()&&f((t=>({...t,vView:u.vBorn}))),t=x(t),t}),[u.vBorn,u.vView]),[_,S]=W.useState(!1),C=W.useCallback((()=>{_||S(!0);const t=document.querySelector("#cv .konvajs-content canvas"),e=document.getElementById("lsArea");if(t&&e&&t.clientHeight!==e.clientHeight){const e=1.2725*t.clientWidth;v({height:`${e}px`})}}),[_]),T=W.useCallback((()=>{const t=Qr(u.vBorn,u.vView,u.sex,u.cfgLs),e=u.cfgLs[bt.typeLs];return(o.toString()!==t.url.substring(1)||a!==`/${zc[e]}`)&&(c(`/${zc[e]}${t.url}`),b(t)),t}),[u.vBorn,u.vView,u.sex,u.cfgLs,c,a,o]),k=W.useCallback(((t,e)=>{let n=e;Number.isNaN(n.year())&&(n=qt(new Date));let r=n.toDate();"dateTimeBorn"===t?(r=x(r),P({vBorn:r}),w()):P({vView:r}),u.first||P({first:!0})}),[w,u.first]),j=W.useCallback(((t,e)=>{k(t,e),C(),T()}),[k,C,T]),P=W.useCallback((t=>{f((e=>({...e,...t})))}),[]),N=W.useMemo((()=>t0.debounce(C,100)),[C]);W.useEffect((()=>{T()}),[u.vBorn,u.vView,u.sex,u.cfgLs,T]);const A=W.useCallback((async()=>{try{const t=await L9(u.vBorn,u.vView,u.sex,u.cfgLs);g(t)}catch(t){console.error(t)}}),[u.vBorn,u.vView,u.sex,u.cfgLs]);W.useEffect((()=>{const t=()=>{if(h.current){const t=I();h.current.style.height=`${t.height}px`}},e=new ResizeObserver(t);return h.current&&(e.observe(h.current),t()),()=>e.disconnect()}),[]),W.useEffect((()=>{A()}),[A]),W.useState(""),W.useState("");W.useEffect((()=>{if(h.current){const t=1.2725*h.current.clientWidth;v({height:`${t}px`})}}),[]);const L=W.useMemo((()=>{if(!p||!Ut)return null;const t=p.dtb.sn,e=Mh(p),n=Yc(p),r=((t,e,n,r,i)=>{const s=t.i||0;return`Lá số Tử Vi ${e} tuổi ${n.y} ${i[r.cfg[bt.typeLs]]} sinh ${t.d}/${t.m}/${t.y} ${t.h}h${s} , tử vi số mệnh, bát tự ${n.y.toUpperCase()} | ${n.m.toUpperCase()} | ${n.d.toUpperCase()} | ${n.h.toUpperCase()}`})(t,e,n,{cfg:{[bt.typeLs]:y.cfg[bt.typeLs]}},i0),i=0===p.ars[p.am].sb.length?"Vô Chính Diệu":1===p.ars[p.am].sb.length?Ut[p.ars[p.am].sb[0]]?.name||"":`${Ut[p.ars[p.am].sb[0]]?.name||""}, ${Ut[p.ars[p.am].sb[1]]?.name||""}`,s=((t,e,n,r,i,s,a,o,l,c)=>`Tu vi ${t.d}/${t.m}/${t.y} tử vi trọn đời ${i[r.cfg[bt.typeLs]-1]} ${e} tuổi ${n.y} ${t.y} mệnh tại ${Gt[s.ci]} có ${c}. Đại vn ${Gt[a.ci]}, lưu niên ${Gt[o.ci]}, tiểu vận ${Gt[l.ci]}`)({d:t.d,m:t.m,y:t.y,h:t.h,i:t.i||0},e,n,{cfg:{[bt.typeLs]:y.cfg[bt.typeLs]}},i0,p.ars[p.am],p.ars[p.aIdx.aid0],p.ars[p.dtv.bs.y[1]],p.ars[p.aIdx.lynpc],i);return{title:r,description:s}}),[p,y.cfg]);W.useEffect((()=>{if(L){document.title=L.title,M("og:title",L.title),M("description",L.description),M("og:description",L.description);const t=window.location.href;E("canonical",t),M("og:url",t)}}),[L]);const M=(t,e)=>{let n=document.querySelector(`meta[name="${t}"], meta[property="${t}"]`);n?n.setAttribute("content",e):(n=document.createElement("meta"),n.setAttribute(t.startsWith("og:")?"property":"name",t),n.setAttribute("content",e),document.head.appendChild(n))},E=(t,e)=>{let n=document.querySelector(`link[rel="${t}"]`);n?n.setAttribute("href",e):(n=document.createElement("link"),n.setAttribute("rel",t),n.setAttribute("href",e),document.head.appendChild(n))};W.useEffect((()=>{const t=t=>{const e=_c(window.location.search);P({cfgLs:[...Wn],vBorn:e.dtBorn,vView:e.dtView,sex:e.sex});const n=Qr(e.dtBorn,e.dtView,e.sex,[...Wn]);c(n.url),b(n)};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)}),[]),W.useState(!1);const D=W.useCallback((t=>{const e=Qr(t.toDate(),t.toDate(),u.sex,u.cfgLs);return{url:e.url,lunaInfo:e.luna}}),[u.sex,u.cfgLs]),B=W.useCallback((()=>{const t=qt(u.vBorn).subtract(2,"hour");return D(t)}),[u.vBorn,D]),F=W.useCallback((()=>{const t=qt(u.vBorn).add(2,"hour");return D(t)}),[u.vBorn,D]),O=W.useMemo((()=>[{href:B().url,title:`Lá số tử vi Khâm Thiên, Lương Phái năm ${B().lunaInfo.ycc.join(" ")} tháng ${B().lunaInfo.mcc.join(" ")} ngày ${B().lunaInfo.dcc.join(" ")} giờ ${B().lunaInfo.h12cc[B().lunaInfo.h].join(" ")}`,text:"Lá số tử vi trước"},{href:y.urlArr[0],title:`Lá số tử vi ${1===u.sex?"nam":"nu"} tuổi ${be[p.dtb.bs.y[0]]} ${Gt[p.dtb.bs.y[1]]} ${p.dtb.sn.y}`,text:"Lá số tử vi mặc định"},{href:y.urlArr[1],title:`Lá số Phi Tinh Lương Phái + Nam Phái ${1===u.sex?"nam":"nu"} tuổi ${be[p.dtb.bs.y[0]]} ${Gt[p.dtb.bs.y[1]]} ${p.dtb.sn.y}`,text:"Lương Phái + Nam Phái"},{href:y.urlArr[2],title:`Lá số Khâm Thiên Tứ Hóa + Nam Phái ${1===u.sex?"nam":"nu"} tuổi ${be[p.dtb.bs.y[0]]} ${Gt[p.dtb.bs.y[1]]} ${p.dtb.sn.y}`,text:"Khâm Thiên Tứ Hóa + Nam Phái"},{href:y.urlArr[3],title:`Lá số tử vi Nam Phái ${1===u.sex?"nam":"nu"} tuổi ${be[p.dtb.bs.y[0]]} ${Gt[p.dtb.bs.y[1]]} ${p.dtb.sn.y}`,text:"Lá số Nam Phái"},{href:y.urlArr[4],title:`Lá số Phi Tinh Lương Phái ${1===u.sex?"nam":"nu"} tuổi ${be[p.dtb.bs.y[0]]} ${Gt[p.dtb.bs.y[1]]} ${p.dtb.sn.y}`,text:"Lá số Phi Tinh Lương Phái"},{href:y.urlArr[5],title:`Lá số Khâm Thiên Tứ Hóa ${1===u.sex?"nam":"nu"} tuổi ${be[p.dtb.bs.y[0]]} ${Gt[p.dtb.bs.y[1]]} ${p.dtb.sn.y}`,text:"Lá số Khâm Thiên Tứ Hóa"},{href:F().url,title:`Lá số tử vi Khâm Thiên, Lương Phái năm ${F().lunaInfo.ycc.join(" ")} tháng ${F().lunaInfo.mcc.join(" ")} ngày ${F().lunaInfo.dcc.join(" ")} giờ ${F().lunaInfo.h12cc[F().lunaInfo.h].join(" ")}`,text:"Lá số tử vi tiếp theo"}]),[B,F,u.sex,p.dtb.bs.y,p.dtb.sn.y,y.urlArr]);W.useCallback((()=>{if(!u.first){let t=qt(u.vView);t=t.add(1,"second"),P({vView:t.toDate(),first:!0})}}),[u.first,u.vView]),W.useState(!1);const R=W.lazy((()=>Ty((()=>import("./BWqUbjOM.js")),__vite__mapDeps([0,1,2,3,4,5,6])))),I=()=>{const t={width:798,height:1016};if(window.innerWidth<768){const e=window.innerWidth-32;return{width:e,height:e/t.width*t.height,isMobile:!0}}return{width:t.width,height:t.height,isMobile:!1}},[K,G]=W.useState(!1),U=W.useCallback((()=>{G(!0)}),[]),$=W.useMemo((()=>{const e=I();return d.jsx("div",{className:"horoscope-container relative mx-auto",style:{width:"100%",maxWidth:`${e.width}px`},children:_&&K?d.jsx("div",{className:"konva-container",style:{width:"100%",height:`${e.height}px`},children:d.jsx(R,{ls:p,fontName:t.fontName,fnDownloadCall:n,fnCopyLs:i,version:t.version},`client-${u.vBorn.getTime()}`)}):d.jsx("div",{className:"flex items-center justify-center bg-gray-100",style:{width:"100%",height:`${e.height}px`},onMouseEnter:()=>S(!0),onTouchStart:()=>S(!0),children:d.jsxs("div",{className:"text-center px-4",children:[d.jsx("h1",{className:"text-lg font-medium mb-2",children:"TinhMenhDo.com"}),d.jsxs("div",{className:"text-sm mb-4",children:[d.jsxs("span",{className:"block",children:[1===u.sex?"Nam":"Nữ"," sinh năm ",p.dtb.ln.y," âm lịch ",be[p.dtb.bs.y[0]]," ",Gt[p.dtb.bs.y[1]]," tháng ",be[p.dtb.bs.m[0]]," ",Gt[p.dtb.bs.m[1]]," ngày ",be[p.dtb.bs.d[0]]," ",Gt[p.dtb.bs.d[1]]," giờ ",Gt[p.dtb.bs.h[1]]]}),d.jsxs("span",{className:"block",children:["Tiết khí ",$c[p.dtb.tki[0]]," - ",qt(u.vBorn).format("YYYY/MM/DD")," lúc ",qt(u.vBorn).format("HH:mm")]})]}),d.jsx("button",{className:"bg-orange-300 text-black px-4 py-2 rounded hover:bg-orange-400 transition-colors",onClick:()=>S(!0),children:"Click hoặc di chuột để hiện lá số"})]})})},`horoscope-${u.vBorn.getTime()}-${u.vView.getTime()}-${u.sex}-${JSON.stringify(u.cfgLs)}`)}),[u.vBorn,u.vView,u.sex,u.cfgLs,p,t.fontName,n,i,t.version,_,K]);W.useEffect((()=>{T()}),[u.vBorn,u.vView,u.sex,u.cfgLs,T]),W.useCallback(((t,e)=>{switch(t){case"sex":P({sex:Number(e),first:!0});break;case"can":P({cfgLs:{...u.cfgLs,[bt.lsCanType]:Number(e)},first:!0})}T()}),[u.cfgLs,T]),W.useMemo((()=>t0.throttle(((t,e)=>{j(t,e)}),100)),[j]),W.useEffect((()=>{T()}),[u.cfgLs,T]);const[H,V]=W.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(GS,{fontName:t.fontName,onPreloadComplete:U}),d.jsx(u6,{lsUrl:y,rightDom:"",children:d.jsxs("div",{className:"lsContentGrp relative max-w-7xl mx-auto px-2 sm:px-6 dark:text-slate-300 pb-24",onClick:N,onTouchStart:N,children:[d.jsxs("h1",{className:"pageMainTitle",children:["Tử vi ",1===u.sex?"Nam":"Nữ"," ",p.dtb.sn.y,"/",p.dtb.sn.m,"/",p.dtb.sn.d," ",p.dtb.sn.h,"h",p.dtb.sn.i," - Âm lịch ngày ",p.dtb.ln.d," tháng ",p.dtb.ln.m," năm ",Yc(p).y," "]}),HS(u.cfgLs[bt.typeLs])&&d.jsx(KS,{}),d.jsxs("div",{className:"lsContGrpInner",children:[d.jsx("div",{id:"lsArea",className:`lsAreaMain ${t.fontClass}`,ref:h,children:d.jsx(W.Suspense,{fallback:d.jsx(kw,{}),children:(()=>{const t=I();return _&&K?$:d.jsx("div",{className:"flex items-center justify-center bg-gray-100",style:{width:"100%",height:`${t.height}px`},onMouseEnter:()=>S(!0),onTouchStart:()=>S(!0),children:d.jsxs("div",{className:"text-center px-4",children:[d.jsx("h1",{className:"text-lg font-medium mb-2",children:"TinhMenhDo.com"}),d.jsxs("div",{className:"text-sm mb-4",children:[d.jsxs("span",{className:"block",children:[1===u.sex?"Nam":"Nữ"," sinh năm ",p.dtb.ln.y," âm lịch ",be[p.dtb.bs.y[0]]," ",Gt[p.dtb.bs.y[1]]," tháng ",be[p.dtb.bs.m[0]]," ",Gt[p.dtb.bs.m[1]]," ngày ",be[p.dtb.bs.d[0]]," ",Gt[p.dtb.bs.d[1]]," giờ ",Gt[p.dtb.bs.h[1]]]}),d.jsxs("span",{className:"block",children:["Tiết khí ",$c[p.dtb.tki[0]]," - ",qt(u.vBorn).format("YYYY/MM/DD")," lúc ",qt(u.vBorn).format("HH:mm")]})]}),d.jsx("button",{className:"bg-orange-300 text-black px-4 py-2 rounded hover:bg-orange-400 transition-colors",onClick:()=>S(!0),children:"Click hoặc di chuột để hiện lá số"})]})})})()})}),d.jsxs("div",{className:"grpLsAction",children:[d.jsxs("div",{className:"mb-3 grid grid-cols-4 gap-2",children:[d.jsx("div",{className:"bgInset btnSave",onClick:()=>{r((t=>t+1)),setTimeout((()=>{r(0)}),200)},children:d.jsx("button",{className:"btnColorFull btnLsAction max-md:text-[11px]",children:"Lưu Ảnh Lớn"})}),d.jsx("div",{className:"bgInset btnSave",onClick:async()=>{if(H)Dc.fire({title:"Thông báo",text:"Đang trong quá trình copy, vui lòng đợi...",icon:"info"});else try{V(!0),s((t=>t+1)),await new Promise((t=>setTimeout(t,1e3))),s(0),V(!1)}catch(t){console.error("Lỗi khi copy:",t),V(!1),Dc.fire({title:"Lỗi",text:"Có lỗi xảy ra khi copy lá số",icon:"error"})}},children:d.jsx("button",{className:"btnLsAction btnColorFull max-md:text-[11px]",children:H?"Đang copy...":"Copy Ảnh"})}),d.jsx("div",{className:"bgInset btnSave",onClick:()=>{const t=typeof window<"u"?window.location.href:`${k9.site}/${a}`;window.navigator.clipboard.writeText(t),P({copyState:!0}),setTimeout((()=>{P({copyState:!1})}),2e3)},children:d.jsxs("button",{className:"btnColorFull btnLsAction max-md:text-[11px] AVvXsEi94KYr1tqpyhdMUCD9vh4d3LAOE3",children:["Chia Sẻ ",u.copyState?"(Copy...)":""]})}),d.jsx("div",{className:"bgInset btnSave",onClick:()=>{Dc.fire({width:"70%",title:"Lấy dữ liệu sao dạng text",html:d.jsxs("div",{children:[d.jsxs("p",{children:["Để có thể dùng ",d.jsx("b",{children:"Tinh Mệnh Đồ GPT"})," cần lấy dữ liệu sao dạng text dưới đây ",d.jsx("b",{children:"bằng nút sao chép"})," sau đó vào link sau",d.jsx("a",{href:"https://chatgpt.com/g/g-BHVwAwPzS-tu-vi-va-nghien-cuu-so-menh-tinh-menh-do",target:"_blank",rel:"noopener noreferrer",className:"mx-1 text-orange-400",children:"Mở Tinh Mệnh Đồ GPT"}),"và dán dữ liệu sao đó vào ô Chat với GPT"]}),d.jsx("br",{}),d.jsx("div",{children:d.jsx(O9,{ls:p})}),d.jsx("br",{}),d.jsx("br",{})]}),icon:"success"})},children:d.jsx("button",{onClick:()=>{},className:"btnColorFull btnLsAction max-md:text-[11px]",children:"Hỗ trợ GPT"})})]}),d.jsxs("div",{className:"py-4",children:[d.jsx("h3",{className:"mr-1 inline",children:"Các lá số tử vi liên quan:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(((t,e)=>d.jsx("a",{className:"hover:text-orange-500 transition-colors",href:t.href,title:t.title,suppressHydrationWarning:!0,children:t.text},e)))})]})]}),d.jsx("div",{className:"py-1 text-[15px]",children:d.jsxs("span",{className:"",children:["Font chữ hiển thị lỗi"," ",d.jsx("a",{className:"cursor-pointer text-orange-400",href:"/",children:"Click vào đây"}),". Phục hồi cài đặt gốc"," ",d.jsx("strong",{className:"cursor-pointer text-orange-400",onClick:()=>{const t=Qr(u.vBorn,u.vView,u.sex,[...Wn]);window.location.href=t.url},children:"Click phục hồi"})," ","- Version ",t.version," -"," ",d.jsx("a",{href:"https://t.me/TinhMenhDoBot/app",className:"font-bold text-[#0088cc]",children:"Click dùng Tinh Mệnh Đồ trên Telegram"})]})}),d.jsx(Ew,{ls:p},"pcsID"),d.jsx("div",{className:"mt-8",children:d.jsx(Pw,{ls:p})}),d.jsx("div",{className:"mt-8",children:d.jsx(m9,{})})]})]})}),d.jsx(Lw,{cfgLs:u.cfgLs,onConfigChange:(t,e)=>{const n=pw(u.cfgLs,t,e);P({cfgLs:n}),u.first||P({first:!0}),C()},sex:u.sex,onSexChange:t=>{P({sex:t,first:!0})},dateTimeBorn:u.vBorn,dateTimeView:u.vView,onDateChange:(t,e)=>{j("dateTimeBorn"===t?"dateTimeBorn":"dateTimeView",qt(e))}}),d.jsx("style",{children:"\n        .konva-container {\n          position: relative;\n          width: 100%;\n          height: 100%;\n        }\n        .konva-container canvas {\n          position: absolute;\n          top: 0;\n          left: 0;\n        }\n      "})]})};function tC(t){return d.jsx(xy,{basename:"/tu-vi",children:d.jsxs(vy,{children:[d.jsx(Aa,{path:"/",element:d.jsx(Fc,{...t,defaultType:t.defaultType})}),d.jsx(Aa,{path:"/la-so-tu-vi-viet-nam/*",element:d.jsx(Fc,{...t,defaultType:0})}),zc.map(((e,n)=>d.jsx(Aa,{path:`/${e}/*`,element:d.jsx(Fc,{...t,defaultType:n})},e)))]})})}export{U7 as A,W7 as C,JS as K,B7 as L,ax as R,Da as S,xx as T,Nt as Z,jh as _,bt as a,Ta as b,QS as c,tC as d,n0 as i,ZS as v,gw as w};
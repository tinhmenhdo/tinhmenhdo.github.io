import{j as s}from"./DzZ8jI8_.js";import{r as d}from"./l2PZgWEW.js";import{b as C,C as r,a as i,c as p,d as u,L as x,e as h}from"./Cdz1STHP.js";import{c as _}from"./CJ1eAlAe.js";const D=["https://worldtimeapi.org/api/timezone/Asia/Ho_Chi_Minh","https://api.weatherapi.com/v1/timezone.json?key=0155aa8ee0e3416ab5851326241611&q=Ho_Chi_Minh","https://timeapi.io/api/Time/current/zone?timeZone=Asia/Ho_Chi_Minh","https://www.timeapi.io/api/Time/current/zone?timeZone=Asia/Ho_Chi_Minh","https://www.timeapi.dev/api/Time/current/zone?timeZone=Asia/Ho_Chi_Minh","https://api.sunrise-sunset.org/json?lat=10.8231&lng=106.6297&formatted=0",{url:"https://time.vuquyettam.workers.dev",noCors:!0}],I=(e,s)=>{try{return s.includes("weatherapi")?new Date(e.location.localtime):s.includes("worldtimeapi")?new Date(e.datetime):s.includes("timeapi.io")||s.includes("timeapi.dev")?new Date(e.dateTime):s.includes("sunrise-sunset")?new Date(e.results.solar_noon):s.includes("vuquyettam")?new Date(e.timestamp):null}catch{return null}},A=()=>{const[e,t]=d.useState(new Date),[a,n]=d.useState(0),[o,l]=d.useState(!1);const c=async()=>{for(const e of D)try{const s="string"==typeof e?e:e.url,a={headers:{}};"string"!=typeof e&&e.noCors&&(a.mode="no-cors");const i=await fetch(s,a);if(!i.ok&&"opaque"!==i.type)continue;if("opaque"===i.type){const e=new Date;return n(0),t(e),!0}const o=await i.json(),r=I(o,s);if(!r||isNaN(r.getTime()))continue;const l=new Date,c=r.getTime()-l.getTime();if(Math.abs(c)>864e5)continue;return n(c),t(r),!0}catch{continue}return!1};d.useEffect((()=>{o||(c(),l(!0));const e=setInterval((()=>{const e=new Date(Date.now()+a);t(e),0===e.getMinutes()&&0===e.getSeconds()&&e.getHours()%2==0&&(location.href="/")}),1e3),s=setInterval(c,36e5);return()=>{clearInterval(e),clearInterval(s),clearTimeout(undefined)}}),[a]);const m=_(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes()),b=C(m);return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"text-center mb-7",children:s.jsxs("h2",{className:"text-[20px] mb-3 max-sm:mb-2",children:["Lịch âm hôm nay là",s.jsxs("strong",{className:"mx-1 font-bold text-orange-300 max-md:block",children:["ngày ",m.d," tháng ",m.m]}),"năm",s.jsxs("span",{className:"mx-1 font-bold darkColor",children:[s.jsx("span",{className:"font-bold uppercase",children:r[b.bs.y[0]]})," ",s.jsx("span",{className:"font-bold uppercase",children:i[b.bs.y[1]]})]}),"hiện tại là giờ ",s.jsx("strong",{className:"font-bold uppercase",children:i[b.bs.h[1]]})]})}),s.jsxs("div",{className:"grid grid-cols-4 text-center w-[800px] max-md:w-full mx-auto gap-3 text-[2.5em] max-md:text-[1.3em] font-mono darkColor",children:[s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Năm"}),s.jsx("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${b.sn.y}`,children:b.sn.y}),s.jsx("div",{className:"font-bold uppercase text-gray-500",children:" "}),s.jsx("div",{className:`font-bold uppercase color${p[b.bs.y[0]]}`,children:r[b.bs.y[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[b.bs.y[1]]}`,children:i[b.bs.y[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[b.bs.y[2]]}`,children:h[b.bs.y[2]]})]}),s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Tháng"}),s.jsx("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${b.sn.y}-${b.sn.m}`,children:b.sn.m}),s.jsx("div",{className:"font-bold uppercase",children:s.jsx("span",{className:"px-3 text-gray-500 bg-white/80 rounded-2xl",children:b.ln.m})}),s.jsx("div",{className:`font-bold uppercase color${p[b.bs.m[0]]}`,children:r[b.bs.m[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[b.bs.m[1]]}`,children:i[b.bs.m[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[b.bs.m[2]]}`,children:h[b.bs.m[2]]})]}),s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Ngày"}),s.jsx("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${b.sn.y}-${b.sn.m}-${b.sn.d}`,children:b.sn.d}),s.jsx("div",{className:"font-bold uppercase",children:s.jsx("span",{className:"px-3 text-gray-500 bg-white/80 rounded-2xl",children:b.ln.d})}),s.jsx("div",{className:`font-bold uppercase color${p[b.bs.d[0]]}`,children:r[b.bs.d[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[b.bs.d[1]]}`,children:i[b.bs.d[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[b.bs.d[2]]}`,children:h[b.bs.d[2]]})]}),s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Giờ"}),s.jsxs("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${b.sn.h}:${e.getMinutes()}`,children:[b.sn.h,"h",e.getMinutes().toString().padStart(2,"0")]}),s.jsx("div",{className:"font-bold uppercase text-gray-500",children:" "}),s.jsx("div",{className:`font-bold uppercase color${p[b.bs.h[0]]}`,children:r[b.bs.h[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[b.bs.h[1]]}`,children:i[b.bs.h[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[b.bs.h[2]]}`,children:h[b.bs.h[2]]})]})]})]})};export{A as default};
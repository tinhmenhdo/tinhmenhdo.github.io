let e=[],t=0;const l=(()=>{let l=[],n={get:()=>(n.lc||n.listen((()=>{}))(),n.value),lc:0,listen:o=>(n.lc=l.push(o),()=>{for(let l=t+4;l<e.length;)e[l]===o?e.splice(l,4):l+=4;let a=l.indexOf(o);~a&&(l.splice(a,1),--n.lc||n.off())}),notify(o,a){let i=!e.length;for(let t of l)e.push(t,n.value,o,a);if(i){for(t=0;t<e.length;t+=4)e[t](e[t+1],e[t+2],e[t+3]);e.length=0}},off(){},set(e){let t=n.value;t!==e&&(n.value=e,n.notify(t))},subscribe(e){let t=n.listen(e);return e(n.value),t},value:"sidebar"};return n})();function setLayout(e){l.set(e),window.innerWidth>=1366&&localStorage.setItem("layoutPreference",e),document.documentElement.setAttribute("data-layout",e)}function initLayout(){window.innerWidth<1366?setLayout("header"):setLayout(localStorage.getItem("layoutPreference")||"sidebar")}export{initLayout as i,l,setLayout as s};
import{c as createComponent,r as renderTemplate,b as addAttribute,i as defineScriptVars,d as createAstro,a as renderComponent,u as unescapeHTML,F as Fragment,s as spreadAttributes,j as defineStyleVars,e as renderSlot,k as renderHead}from"./4CUkstck.js";import{f as getAsset,U as UI,c as getCanonical,S as SITE,I as I18N,M as METADATA,h as ANALYTICS}from"./C5YRDgqU.js";import"kleur/colors";import"clsx";import merge from"lodash.merge";import{escape}from"html-escaper";import{g as getImage}from"./ByBy9K6Y.js";const $$CommonMeta=createComponent(((e,t,n)=>renderTemplate`<meta charset="UTF-8"><meta name="viewport" content="width=device-width, viewport-fit=cover"><link rel="sitemap"${addAttribute(getAsset("/sitemap-index.xml"),"href")}><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500;900&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&family=Material+Icons+Round&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Arizonia&display=swap" rel="stylesheet">`),"/root/code/tmd_astro/src/components/common/CommonMeta.astro",void 0),favIcon="/aiJUzXuO/PqkOVO35.ico",favIconSvg=new Proxy({src:"/aiJUzXuO/u4bVfwPl.svg",width:289,height:289,format:"svg"},{get:(e,t,n)=>"clone"===t?structuredClone(e):"fsPath"===t?"/root/code/tmd_astro/src/assets/favicons/favicon.svg":(void 0!==e[t]&&globalThis.astroAsset&&globalThis.astroAsset?.referencedImages.add("/root/code/tmd_astro/src/assets/favicons/favicon.svg"),e[t])}),appleTouchIcon=new Proxy({src:"/aiJUzXuO/CcqVVc0S.png",width:180,height:180,format:"png"},{get:(e,t,n)=>"clone"===t?structuredClone(e):"fsPath"===t?"/root/code/tmd_astro/src/assets/favicons/apple-touch-icon.png":(void 0!==e[t]&&globalThis.astroAsset&&globalThis.astroAsset?.referencedImages.add("/root/code/tmd_astro/src/assets/favicons/apple-touch-icon.png"),e[t])}),$$Favicons=createComponent(((e,t,n)=>renderTemplate`<link rel="shortcut icon"${addAttribute(favIcon,"href")}><link rel="icon" type="image/svg+xml"${addAttribute(favIconSvg.src,"href")}><link rel="mask-icon"${addAttribute(favIconSvg.src,"href")} color="#8D46E7"><link rel="apple-touch-icon" sizes="180x180"${addAttribute(appleTouchIcon.src,"href")}>`),"/root/code/tmd_astro/src/components/Favicons.astro",void 0),$$CustomStyles=createComponent(((e,t,n)=>renderTemplate`<style>
  :root {
    --aw-font-sans: 'Roboto';
    --aw-font-serif: 'Roboto';
    --aw-font-heading: 'Roboto';

    --aw-color-primary: rgb(1 97 239);
    --aw-color-secondary: rgb(1 84 207);
    --aw-color-accent: rgb(109 40 217);

    --aw-color-text-heading: rgb(0 0 0);
    --aw-color-text-default: rgb(16 16 16);
    --aw-color-text-muted: rgb(16 16 16 / 66%);
    --aw-color-bg-page: rgb(255 255 255);

    --aw-color-bg-page-dark: rgb(3 6 32);

    ::selection {
      background-color: lavender;
    }
  }

  .dark {
    --aw-font-sans: 'Roboto';
    --aw-font-serif: 'Roboto';
    --aw-font-heading: 'Roboto';

    --aw-color-primary: rgb(1 97 239);
    --aw-color-secondary: rgb(1 84 207);
    --aw-color-accent: rgb(109 40 217);

    --aw-color-text-heading: rgb(247, 248, 248);
    --aw-color-text-default: rgb(229 236 246);
    --aw-color-text-muted: rgb(229 236 246 / 66%);
    --aw-color-bg-page: rgb(3 6 32);

    ::selection {
      background-color: black;
      color: snow;
    }
  }

  /* Thêm style cho SweetAlert2 */
  .swal2-container {
    z-index: 9999;
  }

  .swal2-popup {
    font-size: 1rem !important;
    background: rgba(13, 12, 34, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 20px !important;
    padding: 2rem !important;
  }

  .swal2-backdrop-show {
    background: rgba(0, 0, 0, 0.8) !important;
    backdrop-filter: blur(5px) !important;
  }

  .swal2-title {
    font-size: 1.8rem !important;
    color: #f5b042 !important;
    font-weight: 600 !important;
    text-shadow: 0 0 10px rgba(245, 176, 66, 0.5) !important;
  }

  .swal2-html-container {
    font-size: 1.1rem !important;
    color: #fff !important;
    margin-top: 1.5rem !important;
    line-height: 1.6 !important;
  }

  .swal2-confirm,
  .swal2-cancel {
    font-size: 1.1rem !important;
    padding: 0.8rem 2rem !important;
    border-radius: 30px !important;
    font-weight: 500 !important;
    transition: all 0.3s ease !important;
    border: 2px solid transparent !important;
  }

  .swal2-confirm {
    background: linear-gradient(135deg, #f5b042 0%, #f77f39 100%) !important;
    color: #fff !important;
  }

  .swal2-confirm:hover {
    background: transparent !important;
    border-color: #f5b042 !important;
    color: #f5b042 !important;
    box-shadow: 0 0 15px rgba(245, 176, 66, 0.4) !important;
  }

  .swal2-cancel {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #fff !important;
  }

  .swal2-cancel:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.2) !important;
  }

  /* Custom animations */
  @keyframes swal2-show {
    0% {
      transform: scale(0.8);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  /* Hiệu ứng cho backdrop */
  .swal2-backdrop-show {
    background: rgba(0, 0, 0, 0.8) !important;
    backdrop-filter: blur(5px) !important;
    animation: swal2-backdrop-in 0.5s ease-out !important;
  }

  @keyframes swal2-backdrop-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  /* Custom style cho links trong popup */
  .swal2-html-container a {
    color: #f5b042 !important;
    text-decoration: none !important;
    transition: all 0.3s ease !important;
    position: relative !important;
  }

  .swal2-html-container a:hover {
    color: #f77f39 !important;
    text-shadow: 0 0 8px rgba(245, 176, 66, 0.4) !important;
  }

  .swal2-html-container a::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 1px;
    bottom: -2px;
    left: 0;
    background: linear-gradient(90deg, #f5b042, #f77f39);
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s ease;
  }

  .swal2-html-container a:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }

  /* Style cho images trong popup */
  .swal2-html-container img {
    border-radius: 10px !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important;
    transition: transform 0.3s ease !important;
  }

  .swal2-html-container img:hover {
    transform: scale(1.02) !important;
  }

  /* Custom scrollbar cho popup */
  .swal2-html-container::-webkit-scrollbar {
    width: 8px;
  }

  .swal2-html-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
  }

  .swal2-html-container::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #f5b042 0%, #f77f39 100%);
    border-radius: 4px;
  }

  /* Style cho dark mode */
  .dark .swal2-popup {
    box-shadow: 0 0 30px rgba(245, 176, 66, 0.1) !important;
  }

  .dark .swal2-title,
  .dark .swal2-html-container {
    color: #fff !important;
  }

  .konvajs-content canvas {
    font-family: 'Roboto Slab', serif;
  }
</style>`),"/root/code/tmd_astro/src/components/CustomStyles.astro",void 0);var _a$3,__freeze$3=Object.freeze,__defProp$3=Object.defineProperty,__template$3=(e,t)=>__freeze$3(__defProp$3(e,"raw",{value:__freeze$3(e.slice())}));const $$ApplyColorMode=createComponent(((e,t,n)=>renderTemplate(_a$3||(_a$3=__template$3(["<script>(function(){","\n  function applyTheme(theme) {\n    if (theme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n    const matches = document.querySelectorAll('[data-aw-toggle-color-scheme] > input');\n\n    if (matches && matches.length) {\n      matches.forEach((elem) => {\n        elem.checked = theme !== 'dark';\n      });\n    }\n  }\n\n  if ((defaultTheme && defaultTheme.endsWith(':only')) || (!localStorage.theme && defaultTheme !== 'system')) {\n    applyTheme(defaultTheme.replace(':only', ''));\n  } else if (\n    localStorage.theme === 'dark' ||\n    (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)\n  ) {\n    applyTheme('dark');\n  } else {\n    applyTheme('light');\n  }\n})();<\/script>"])),defineScriptVars({defaultTheme:UI.theme}))),"/root/code/tmd_astro/src/components/common/ApplyColorMode.astro",void 0),createMetaTag=e=>`<meta ${Object.entries(e).map((([e,t])=>`${e}="${escape(t)}"`)).join(" ")}>`,createLinkTag=e=>`<link ${Object.entries(e).map((([e,t])=>`${e}="${escape(t)}"`)).join(" ")}>`,createOpenGraphTag=(e,t)=>createMetaTag({property:`og:${e}`,content:t}),buildOpenGraphMediaTags=(e,t)=>{let n="";const a=e=>{n+=e+"\n"};return t.forEach((t=>{a(createOpenGraphTag(e,t.url)),t.alt&&a(createOpenGraphTag(`${e}:alt`,t.alt)),t.secureUrl&&a(createOpenGraphTag(`${e}:secure_url`,t.secureUrl)),t.type&&a(createOpenGraphTag(`${e}:type`,t.type)),t.width&&a(createOpenGraphTag(`${e}:width`,t.width.toString())),t.height&&a(createOpenGraphTag(`${e}:height`,t.height.toString()))})),n},buildTags=e=>{let t="";const n=e=>{t+=e+"\n"};if(e.title){const t=e.titleTemplate?e.titleTemplate.replace("%s",e.title):e.title;n(`<title>${escape(t)}</title>`)}e.description&&n(createMetaTag({name:"description",content:e.description}));let a=[];if(void 0!==e.noindex&&a.push(e.noindex?"noindex":"index"),void 0!==e.nofollow&&a.push(e.nofollow?"nofollow":"follow"),e.robotsProps){const{nosnippet:t,maxSnippet:n,maxImagePreview:r,noarchive:o,unavailableAfter:s,noimageindex:i,notranslate:c}=e.robotsProps;t&&a.push("nosnippet"),"number"==typeof n&&a.push(`max-snippet:${n}`),r&&a.push(`max-image-preview:${r}`),o&&a.push("noarchive"),s&&a.push(`unavailable_after:${s}`),i&&a.push("noimageindex"),c&&a.push("notranslate")}if(a.length>0&&n(createMetaTag({name:"robots",content:a.join(",")})),e.canonical&&n(createLinkTag({rel:"canonical",href:e.canonical})),e.mobileAlternate&&n(createLinkTag({rel:"alternate",media:e.mobileAlternate.media,href:e.mobileAlternate.href})),e.languageAlternates&&e.languageAlternates.length>0&&e.languageAlternates.forEach((e=>{n(createLinkTag({rel:"alternate",hreflang:e.hreflang,href:e.href}))})),e.openGraph){const t=e.openGraph?.title||e.title;t&&n(createOpenGraphTag("title",t));const a=e.openGraph?.description||e.description;a&&n(createOpenGraphTag("description",a)),e.openGraph.url&&n(createOpenGraphTag("url",e.openGraph.url)),e.openGraph.type&&n(createOpenGraphTag("type",e.openGraph.type)),e.openGraph.images&&e.openGraph.images.length&&n(buildOpenGraphMediaTags("image",e.openGraph.images)),e.openGraph.videos&&e.openGraph.videos.length&&n(buildOpenGraphMediaTags("video",e.openGraph.videos)),e.openGraph.locale&&n(createOpenGraphTag("locale",e.openGraph.locale)),e.openGraph.site_name&&n(createOpenGraphTag("site_name",e.openGraph.site_name)),e.openGraph.profile&&(e.openGraph.profile.firstName&&n(createOpenGraphTag("profile:first_name",e.openGraph.profile.firstName)),e.openGraph.profile.lastName&&n(createOpenGraphTag("profile:last_name",e.openGraph.profile.lastName)),e.openGraph.profile.username&&n(createOpenGraphTag("profile:username",e.openGraph.profile.username)),e.openGraph.profile.gender&&n(createOpenGraphTag("profile:gender",e.openGraph.profile.gender))),e.openGraph.book&&(e.openGraph.book.authors&&e.openGraph.book.authors.length&&e.openGraph.book.authors.forEach((e=>{n(createOpenGraphTag("book:author",e))})),e.openGraph.book.isbn&&n(createOpenGraphTag("book:isbn",e.openGraph.book.isbn)),e.openGraph.book.releaseDate&&n(createOpenGraphTag("book:release_date",e.openGraph.book.releaseDate)),e.openGraph.book.tags&&e.openGraph.book.tags.length&&e.openGraph.book.tags.forEach((e=>{n(createOpenGraphTag("book:tag",e))}))),e.openGraph.article&&(e.openGraph.article.publishedTime&&n(createOpenGraphTag("article:published_time",e.openGraph.article.publishedTime)),e.openGraph.article.modifiedTime&&n(createOpenGraphTag("article:modified_time",e.openGraph.article.modifiedTime)),e.openGraph.article.expirationTime&&n(createOpenGraphTag("article:expiration_time",e.openGraph.article.expirationTime)),e.openGraph.article.authors&&e.openGraph.article.authors.length&&e.openGraph.article.authors.forEach((e=>{n(createOpenGraphTag("article:author",e))})),e.openGraph.article.section&&n(createOpenGraphTag("article:section",e.openGraph.article.section)),e.openGraph.article.tags&&e.openGraph.article.tags.length&&e.openGraph.article.tags.forEach((e=>{n(createOpenGraphTag("article:tag",e))}))),e.openGraph.video&&(e.openGraph.video.actors&&e.openGraph.video.actors.length&&e.openGraph.video.actors.forEach((e=>{n(createOpenGraphTag("video:actor",e.profile)),e.role&&n(createOpenGraphTag("video:actor:role",e.role))})),e.openGraph.video.directors&&e.openGraph.video.directors.length&&e.openGraph.video.directors.forEach((e=>{n(createOpenGraphTag("video:director",e))})),e.openGraph.video.writers&&e.openGraph.video.writers.length&&e.openGraph.video.writers.forEach((e=>{n(createOpenGraphTag("video:writer",e))})),e.openGraph.video.duration&&n(createOpenGraphTag("video:duration",e.openGraph.video.duration.toString())),e.openGraph.video.releaseDate&&n(createOpenGraphTag("video:release_date",e.openGraph.video.releaseDate)),e.openGraph.video.tags&&e.openGraph.video.tags.length&&e.openGraph.video.tags.forEach((e=>{n(createOpenGraphTag("video:tag",e))})),e.openGraph.video.series&&n(createOpenGraphTag("video:series",e.openGraph.video.series)))}return e.facebook&&e.facebook.appId&&n(createMetaTag({property:"fb:app_id",content:e.facebook.appId})),e.twitter&&(e.twitter.cardType&&n(createMetaTag({name:"twitter:card",content:e.twitter.cardType})),e.twitter.site&&n(createMetaTag({name:"twitter:site",content:e.twitter.site})),e.twitter.handle&&n(createMetaTag({name:"twitter:creator",content:e.twitter.handle}))),e.additionalMetaTags&&e.additionalMetaTags.length>0&&e.additionalMetaTags.forEach((e=>{const t={content:e.content};"name"in e&&e.name?t.name=e.name:"property"in e&&e.property?t.property=e.property:"httpEquiv"in e&&e.httpEquiv&&(t["http-equiv"]=e.httpEquiv),n(createMetaTag(t))})),e.additionalLinkTags&&e.additionalLinkTags.length>0&&e.additionalLinkTags.forEach((e=>{const t={rel:e.rel,href:e.href};e.sizes&&(t.sizes=e.sizes),e.media&&(t.media=e.media),e.type&&(t.type=e.type),e.color&&(t.color=e.color),e.as&&(t.as=e.as),e.crossOrigin&&(t.crossorigin=e.crossOrigin),n(createLinkTag(t))})),t.trim()},$$Astro$4=createAstro("https://tinhmenhdo.com"),$$AstroSeo=createComponent(((e,t,n)=>{const a=e.createAstro($$Astro$4,t,n);a.self=$$AstroSeo;const{title:r,titleTemplate:o,noindex:s,nofollow:i,robotsProps:c,description:l,canonical:d,mobileAlternate:p,languageAlternates:m,openGraph:h,facebook:u,twitter:g,additionalMetaTags:f,additionalLinkTags:w}=a.props;return renderTemplate`${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${unescapeHTML(buildTags({title:r,titleTemplate:o,noindex:s,nofollow:i,robotsProps:c,description:l,canonical:d,mobileAlternate:p,languageAlternates:m,openGraph:h,facebook:u,twitter:g,additionalMetaTags:f,additionalLinkTags:w}))}`})}`}),"/root/code/tmd_astro/node_modules/@astrolib/seo/src/AstroSeo.astro",void 0),load=async function(){let e;try{e=Object.assign({"/src/assets/images/144x114.png":()=>import("./C74DPHXW.js"),"/src/assets/images/192x192.png":()=>import("./sZyJ7BZ7.js"),"/src/assets/images/196x196.png":()=>import("./OsOatIlA.js"),"/src/assets/images/72x72.png":()=>import("./D-ms_hx8.js"),"/src/assets/images/TinhMenhDo-GPT.png":()=>import("./NJOcnTgZ.js"),"/src/assets/images/YinYang.webp":()=>import("./OlcxnMiK.js"),"/src/assets/images/am-duong.png":()=>import("./D3VdX274.js"),"/src/assets/images/app-store.png":()=>import("./D0-mcAzS.js"),"/src/assets/images/architecture.png":()=>import("./BlrCUQCA.js"),"/src/assets/images/arrows.png":()=>import("./HTiJVKUv.js"),"/src/assets/images/bg.jpg":()=>import("./Cfw3H7pS.js"),"/src/assets/images/birthday-cake.png":()=>import("./CLmzIc1u.js"),"/src/assets/images/brain.png":()=>import("./BIhIoNg9.js"),"/src/assets/images/calendar.png":()=>import("./DxUkSOan.js"),"/src/assets/images/curve-arrow.png":()=>import("./BAdCsDir.js"),"/src/assets/images/default.png":()=>import("./DZ_Uzmrl.js"),"/src/assets/images/default.webp":()=>import("./Du8I-40d.js"),"/src/assets/images/diaban.png":()=>import("./DMVtFRpD.js"),"/src/assets/images/earth.png":()=>import("./CHjKw_cw.js"),"/src/assets/images/fav.png":()=>import("./BbGlR3EB.js"),"/src/assets/images/google-play.png":()=>import("./geuniUVv.js"),"/src/assets/images/hero-image.png":()=>import("./Dtz7Z9jJ.js"),"/src/assets/images/icon.png":()=>import("./h_W8KuvQ.js"),"/src/assets/images/logo.png":()=>import("./YVu07jTn.js"),"/src/assets/images/man.png":()=>import("./BsIoo3j2.js"),"/src/assets/images/pattern_optimize.jpg":()=>Promise.resolve().then((()=>pattern_optimize)),"/src/assets/images/scale.png":()=>import("./Ct7vdr-y.js"),"/src/assets/images/star.png":()=>import("./CkZqjuTZ.js"),"/src/assets/images/universe.png":()=>import("./Dv5kfV-F.js"),"/src/assets/images/view.png":()=>import("./DfziqJPt.js"),"/src/assets/images/woman.png":()=>import("./Nv9x64NZ.js"),"/src/assets/images/yinyang.png":()=>import("./DA70RNkY.js"),"/src/assets/images/yinyang2.webp":()=>import("./C7MYjrrk.js")})}catch(e){}return e};let _images;const fetchLocalImages=async()=>(_images=_images||await load(),_images),findImage=async e=>{if("string"!=typeof e)return e;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/"))return e;if(!e.startsWith("~/assets/images"))return e;const t=await fetchLocalImages(),n=e.replace("~/","/src/");return t&&"function"==typeof t[n]?(await t[n]()).default:null},adaptOpenGraphImages=async(e={},t=new URL(""))=>{if(!e?.images?.length)return e;const n=e.images,a=await Promise.all(n.map((async e=>{if(e?.url){const t=await findImage(e.url);if(!t)return{url:""};const n=await getImage({src:t,alt:"Placeholder alt",width:e?.width||1200,height:e?.height||626});return"object"==typeof n?{url:"src"in n&&"string"==typeof n.src?n.src:"pepe",width:"width"in n&&"number"==typeof n.width?n.width:void 0,height:"height"in n&&"number"==typeof n.height?n.height:void 0}:{url:""}}return{url:""}})));return{...e,...a?{images:a}:{}}},$$Astro$3=createAstro("https://tinhmenhdo.com"),$$Metadata=createComponent((async(e,t,n)=>{const a=e.createAstro($$Astro$3,t,n);a.self=$$Metadata;const{title:r,ignoreTitleTemplate:o=!1,canonical:s=String(getCanonical(String(a.url.pathname))),robots:i={},description:c,openGraph:l={},twitter:d={}}=a.props,p=merge({title:"",titleTemplate:"%s",canonical:s,noindex:!0,nofollow:!0,description:void 0,openGraph:{url:s,site_name:SITE?.name,images:[],locale:I18N?.language,type:"website"},twitter:{cardType:l?.images?.length?"summary_large_image":"summary"}},{title:METADATA?.title?.default,titleTemplate:METADATA?.title?.template,noindex:!METADATA.robots.index,nofollow:!METADATA.robots.follow,description:METADATA?.description,openGraph:METADATA?.openGraph,twitter:METADATA?.twitter},{title:r,titleTemplate:o?"%s":void 0,canonical:s,noindex:void 0!==i?.index?!i.index:void 0,nofollow:void 0!==i?.follow?!i.follow:void 0,description:c,openGraph:{url:s,...l},twitter:d});return renderTemplate`${renderComponent(e,"AstroSeo",$$AstroSeo,{...{...p,openGraph:await adaptOpenGraphImages(p?.openGraph,a.site)}})}`}),"/root/code/tmd_astro/src/components/common/Metadata.astro",void 0),$$SiteVerification=createComponent(((e,t,n)=>renderTemplate`${renderTemplate`<meta name="google-site-verification"${addAttribute(SITE.googleSiteVerificationId,"content")}>`}`),"/root/code/tmd_astro/src/components/common/SiteVerification.astro",void 0);var _a$2,__freeze$2=Object.freeze,__defProp$2=Object.defineProperty,__template$2=(e,t)=>__freeze$2(__defProp$2(e,"raw",{value:__freeze$2(e.slice())}));const $$Astro$2=createAstro("https://tinhmenhdo.com"),$$Analytics=createComponent(((e,t,n)=>{const a=e.createAstro($$Astro$2,t,n);a.self=$$Analytics;const{id:r=ANALYTICS.vendors.googleTagManager.id,partytown:o=ANALYTICS.vendors.googleTagManager.partytown}=a.props,s=o?{type:"text/partytown"}:{};return renderTemplate`${renderTemplate(_a$2||(_a$2=__template$2(["<script",">(function(){","\n      if (window.location.hostname !== 'localhost') {\n        (function(w,d,s,l,i) {\n        w[l] = w[l] || [];\n        w[l].push({\n          'gtm.start': new Date().getTime(),\n          event: 'gtm.js'\n        });\n        \n        const f = d.getElementsByTagName(s)[0];\n        const j = d.createElement(s);\n        const dl = l != 'dataLayer' ? '&l=' + l : '';\n        \n        j.async = true;\n        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n        f.parentNode.insertBefore(j,f);\n      })(window,document,'script','dataLayer',id);\n      }\n    })();<\/script>"])),spreadAttributes(s),defineScriptVars({id:r}))}`}),"/root/code/tmd_astro/src/components/common/Analytics.astro",void 0);var _a$1,__freeze$1=Object.freeze,__defProp$1=Object.defineProperty,__template$1=(e,t)=>__freeze$1(__defProp$1(e,"raw",{value:__freeze$1(t||e.slice())}));const $$BasicScripts=createComponent(((e,t,n)=>renderTemplate(_a$1||(_a$1=__template$1(["<script>(function(){","\n  if (window.basic_script) {\n    return;\n  }\n\n  window.basic_script = true;\n\n  function applyTheme(theme) {\n    if (theme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }\n\n  const initTheme = function () {\n    if ((defaultTheme && defaultTheme.endsWith(':only')) || (!localStorage.theme && defaultTheme !== 'system')) {\n      applyTheme(defaultTheme.replace(':only', ''));\n    } else if (\n      localStorage.theme === 'dark' ||\n      (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)\n    ) {\n      applyTheme('dark');\n    } else {\n      applyTheme('light');\n    }\n  };\n  initTheme();\n\n  function attachEvent(selector, event, fn) {\n    const matches = typeof selector === 'string' ? document.querySelectorAll(selector) : selector;\n    if (matches && matches.length) {\n      matches.forEach((elem) => {\n        elem.addEventListener(event, (e) => fn(e, elem), false);\n      });\n    }\n  }\n\n  const onLoad = function () {\n    let lastKnownScrollPosition = window.scrollY;\n    let ticking = true;\n\n    attachEvent('#header nav', 'click', function () {\n      document.querySelector('[data-aw-toggle-menu]')?.classList.remove('expanded');\n      document.body.classList.remove('overflow-hidden');\n      document.getElementById('header')?.classList.remove('h-screen');\n      document.getElementById('header')?.classList.remove('expanded');\n      document.getElementById('header')?.classList.remove('bg-page');\n      document.querySelector('#header nav')?.classList.add('hidden');\n      document.querySelector('#header > div > div:last-child')?.classList.add('hidden');\n    });\n\n    attachEvent('[data-aw-toggle-menu]', 'click', function (_, elem) {\n      elem.classList.toggle('expanded');\n      document.body.classList.toggle('overflow-hidden');\n      document.getElementById('header')?.classList.toggle('h-screen');\n      document.getElementById('header')?.classList.toggle('expanded');\n      document.getElementById('header')?.classList.toggle('bg-page');\n      document.querySelector('#header nav')?.classList.toggle('hidden');\n      document.querySelector('#header > div > div:last-child')?.classList.toggle('hidden');\n    });\n\n    attachEvent('[data-aw-toggle-color-scheme]', 'click', function () {\n      if (defaultTheme.endsWith(':only')) {\n        return;\n      }\n      document.documentElement.classList.toggle('dark');\n      localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';\n    });\n\n    attachEvent('[data-aw-social-share]', 'click', function (_, elem) {\n      const network = elem.getAttribute('data-aw-social-share');\n      const url = encodeURIComponent(elem.getAttribute('data-aw-url'));\n      const text = encodeURIComponent(elem.getAttribute('data-aw-text'));\n\n      let href;\n      switch (network) {\n        case 'facebook':\n          href = `https://www.facebook.com/sharer.php?u=${url}`;\n          break;\n        case 'twitter':\n          href = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;\n          break;\n        case 'linkedin':\n          href = `https://www.linkedin.com/shareArticle?mini=true&url=${url}&title=${text}`;\n          break;\n        case 'whatsapp':\n          href = `https://wa.me/?text=${text}%20${url}`;\n          break;\n        case 'mail':\n          href = `mailto:?subject=%22${text}%22&body=${text}%20${url}`;\n          break;\n\n        default:\n          return;\n      }\n\n      const newlink = document.createElement('a');\n      newlink.target = '_blank';\n      newlink.href = href;\n      newlink.click();\n    });\n\n    const screenSize = window.matchMedia('(max-width: 767px)');\n    screenSize.addEventListener('change', function () {\n      document.querySelector('[data-aw-toggle-menu]')?.classList.remove('expanded');\n      document.body.classList.remove('overflow-hidden');\n      document.getElementById('header')?.classList.remove('h-screen');\n      document.getElementById('header')?.classList.remove('expanded');\n      document.getElementById('header')?.classList.remove('bg-page');\n      document.querySelector('#header nav')?.classList.add('hidden');\n      document.querySelector('#header > div > div:last-child')?.classList.add('hidden');\n    });\n\n    function applyHeaderStylesOnScroll() {\n      const header = document.querySelector('#header[data-aw-sticky-header]');\n      if (!header) return;\n      if (lastKnownScrollPosition > 60 && !header.classList.contains('scroll')) {\n        header.classList.add('scroll');\n      } else if (lastKnownScrollPosition <= 60 && header.classList.contains('scroll')) {\n        header.classList.remove('scroll');\n      }\n      ticking = false;\n    }\n    applyHeaderStylesOnScroll();\n\n    attachEvent([document], 'scroll', function () {\n      lastKnownScrollPosition = window.scrollY;\n\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          applyHeaderStylesOnScroll();\n        });\n        ticking = true;\n      }\n    });\n  };\n  const onPageShow = function () {\n    document.documentElement.classList.add('motion-safe:scroll-smooth');\n    const elem = document.querySelector('[data-aw-toggle-menu]');\n    if (elem) {\n      elem.classList.remove('expanded');\n    }\n    document.body.classList.remove('overflow-hidden');\n    document.getElementById('header')?.classList.remove('h-screen');\n    document.getElementById('header')?.classList.remove('expanded');\n    document.querySelector('#header nav')?.classList.add('hidden');\n  };\n\n  window.onload = onLoad;\n  window.onpageshow = onPageShow;\n\n  document.addEventListener('astro:after-swap', () => {\n    initTheme();\n    onLoad();\n    onPageShow();\n  });\n\n  // Thêm logic bảo vệ vào runtime\n\n  const ᚗ = atob('X19jYWNoZV92');\n  if (!sessionStorage[ᚗ]) {\n    const ᚘ = document, ᚙ = window;\n    const ᚚ = ᚙ['\\x6c\\x6f\\x63\\x61\\x74\\x69\\x6f\\x6e'];\n    const ᚐ = [\n      ['\\x6c\\x6f\\x63\\x61\\x6c\\x68\\x6f\\x73\\x74','4321'],\n      [atob('dGluaG1lbmhkby5jb20=')],\n      [atob('ZGV2LnRpbmhtZW5oZG8uY29t')],\n      [atob('dGluaG1lbmhkby5naXRodWIuaW8=')],\n      [atob('dGluaG1lbmhkby5wYWdlcy5kZXY=')]\n    ];\n    \n    const ᚑ = () => ᚐ['\\x73\\x6f\\x6d\\x65'](ᚒ => \n      ᚒ[0] === ᚚ['\\x68\\x6f\\x73\\x74\\x6e\\x61\\x6d\\x65'] && (!ᚒ[1] || ᚒ[1] === ᚚ['\\x70\\x6f\\x72\\x74'])\n    );\n    \n    const ᚓ = () => {\n      if (ᚙ.__ᚔ) return;\n      const ᚕ = ᚚ['\\x70\\x61\\x74\\x68\\x6e\\x61\\x6d\\x65'];\n      const ᚖ = ᚚ['\\x73\\x65\\x61\\x72\\x63\\x68'];\n      try {\n        sessionStorage[ᚗ] = '1';\n        ᚙ.__ᚔ = true;\n        ᚚ['\\x68\\x72\\x65\\x66'] = atob('aHR0cHM6Ly90aW5obWVuaGRvLmNvbQ==') + ᚕ + ᚖ;\n      } catch {\n        console.debug('Failed');\n      }\n    };\n\n    if (!ᚑ()) ᚓ();\n\n    const ᚋ = setInterval(() => {\n      if (!ᚑ()) {\n        clearInterval(ᚋ);\n        ᚓ();\n      }\n    }, 1e3 + ~~(5e2 * Math.random()));\n\n    const ᚌ = new MutationObserver(() => {\n      if (!ᚑ()) ᚓ();\n    });\n\n    ᚌ.observe(ᚘ, {childList: true, subtree: true});\n  }\n})();<\/script>"],["<script>(function(){","\n  if (window.basic_script) {\n    return;\n  }\n\n  window.basic_script = true;\n\n  function applyTheme(theme) {\n    if (theme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }\n\n  const initTheme = function () {\n    if ((defaultTheme && defaultTheme.endsWith(':only')) || (!localStorage.theme && defaultTheme !== 'system')) {\n      applyTheme(defaultTheme.replace(':only', ''));\n    } else if (\n      localStorage.theme === 'dark' ||\n      (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)\n    ) {\n      applyTheme('dark');\n    } else {\n      applyTheme('light');\n    }\n  };\n  initTheme();\n\n  function attachEvent(selector, event, fn) {\n    const matches = typeof selector === 'string' ? document.querySelectorAll(selector) : selector;\n    if (matches && matches.length) {\n      matches.forEach((elem) => {\n        elem.addEventListener(event, (e) => fn(e, elem), false);\n      });\n    }\n  }\n\n  const onLoad = function () {\n    let lastKnownScrollPosition = window.scrollY;\n    let ticking = true;\n\n    attachEvent('#header nav', 'click', function () {\n      document.querySelector('[data-aw-toggle-menu]')?.classList.remove('expanded');\n      document.body.classList.remove('overflow-hidden');\n      document.getElementById('header')?.classList.remove('h-screen');\n      document.getElementById('header')?.classList.remove('expanded');\n      document.getElementById('header')?.classList.remove('bg-page');\n      document.querySelector('#header nav')?.classList.add('hidden');\n      document.querySelector('#header > div > div:last-child')?.classList.add('hidden');\n    });\n\n    attachEvent('[data-aw-toggle-menu]', 'click', function (_, elem) {\n      elem.classList.toggle('expanded');\n      document.body.classList.toggle('overflow-hidden');\n      document.getElementById('header')?.classList.toggle('h-screen');\n      document.getElementById('header')?.classList.toggle('expanded');\n      document.getElementById('header')?.classList.toggle('bg-page');\n      document.querySelector('#header nav')?.classList.toggle('hidden');\n      document.querySelector('#header > div > div:last-child')?.classList.toggle('hidden');\n    });\n\n    attachEvent('[data-aw-toggle-color-scheme]', 'click', function () {\n      if (defaultTheme.endsWith(':only')) {\n        return;\n      }\n      document.documentElement.classList.toggle('dark');\n      localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';\n    });\n\n    attachEvent('[data-aw-social-share]', 'click', function (_, elem) {\n      const network = elem.getAttribute('data-aw-social-share');\n      const url = encodeURIComponent(elem.getAttribute('data-aw-url'));\n      const text = encodeURIComponent(elem.getAttribute('data-aw-text'));\n\n      let href;\n      switch (network) {\n        case 'facebook':\n          href = \\`https://www.facebook.com/sharer.php?u=\\${url}\\`;\n          break;\n        case 'twitter':\n          href = \\`https://twitter.com/intent/tweet?url=\\${url}&text=\\${text}\\`;\n          break;\n        case 'linkedin':\n          href = \\`https://www.linkedin.com/shareArticle?mini=true&url=\\${url}&title=\\${text}\\`;\n          break;\n        case 'whatsapp':\n          href = \\`https://wa.me/?text=\\${text}%20\\${url}\\`;\n          break;\n        case 'mail':\n          href = \\`mailto:?subject=%22\\${text}%22&body=\\${text}%20\\${url}\\`;\n          break;\n\n        default:\n          return;\n      }\n\n      const newlink = document.createElement('a');\n      newlink.target = '_blank';\n      newlink.href = href;\n      newlink.click();\n    });\n\n    const screenSize = window.matchMedia('(max-width: 767px)');\n    screenSize.addEventListener('change', function () {\n      document.querySelector('[data-aw-toggle-menu]')?.classList.remove('expanded');\n      document.body.classList.remove('overflow-hidden');\n      document.getElementById('header')?.classList.remove('h-screen');\n      document.getElementById('header')?.classList.remove('expanded');\n      document.getElementById('header')?.classList.remove('bg-page');\n      document.querySelector('#header nav')?.classList.add('hidden');\n      document.querySelector('#header > div > div:last-child')?.classList.add('hidden');\n    });\n\n    function applyHeaderStylesOnScroll() {\n      const header = document.querySelector('#header[data-aw-sticky-header]');\n      if (!header) return;\n      if (lastKnownScrollPosition > 60 && !header.classList.contains('scroll')) {\n        header.classList.add('scroll');\n      } else if (lastKnownScrollPosition <= 60 && header.classList.contains('scroll')) {\n        header.classList.remove('scroll');\n      }\n      ticking = false;\n    }\n    applyHeaderStylesOnScroll();\n\n    attachEvent([document], 'scroll', function () {\n      lastKnownScrollPosition = window.scrollY;\n\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          applyHeaderStylesOnScroll();\n        });\n        ticking = true;\n      }\n    });\n  };\n  const onPageShow = function () {\n    document.documentElement.classList.add('motion-safe:scroll-smooth');\n    const elem = document.querySelector('[data-aw-toggle-menu]');\n    if (elem) {\n      elem.classList.remove('expanded');\n    }\n    document.body.classList.remove('overflow-hidden');\n    document.getElementById('header')?.classList.remove('h-screen');\n    document.getElementById('header')?.classList.remove('expanded');\n    document.querySelector('#header nav')?.classList.add('hidden');\n  };\n\n  window.onload = onLoad;\n  window.onpageshow = onPageShow;\n\n  document.addEventListener('astro:after-swap', () => {\n    initTheme();\n    onLoad();\n    onPageShow();\n  });\n\n  // Thêm logic bảo vệ vào runtime\n\n  const ᚗ = atob('X19jYWNoZV92');\n  if (!sessionStorage[ᚗ]) {\n    const ᚘ = document, ᚙ = window;\n    const ᚚ = ᚙ['\\\\x6c\\\\x6f\\\\x63\\\\x61\\\\x74\\\\x69\\\\x6f\\\\x6e'];\n    const ᚐ = [\n      ['\\\\x6c\\\\x6f\\\\x63\\\\x61\\\\x6c\\\\x68\\\\x6f\\\\x73\\\\x74','4321'],\n      [atob('dGluaG1lbmhkby5jb20=')],\n      [atob('ZGV2LnRpbmhtZW5oZG8uY29t')],\n      [atob('dGluaG1lbmhkby5naXRodWIuaW8=')],\n      [atob('dGluaG1lbmhkby5wYWdlcy5kZXY=')]\n    ];\n    \n    const ᚑ = () => ᚐ['\\\\x73\\\\x6f\\\\x6d\\\\x65'](ᚒ => \n      ᚒ[0] === ᚚ['\\\\x68\\\\x6f\\\\x73\\\\x74\\\\x6e\\\\x61\\\\x6d\\\\x65'] && (!ᚒ[1] || ᚒ[1] === ᚚ['\\\\x70\\\\x6f\\\\x72\\\\x74'])\n    );\n    \n    const ᚓ = () => {\n      if (ᚙ.__ᚔ) return;\n      const ᚕ = ᚚ['\\\\x70\\\\x61\\\\x74\\\\x68\\\\x6e\\\\x61\\\\x6d\\\\x65'];\n      const ᚖ = ᚚ['\\\\x73\\\\x65\\\\x61\\\\x72\\\\x63\\\\x68'];\n      try {\n        sessionStorage[ᚗ] = '1';\n        ᚙ.__ᚔ = true;\n        ᚚ['\\\\x68\\\\x72\\\\x65\\\\x66'] = atob('aHR0cHM6Ly90aW5obWVuaGRvLmNvbQ==') + ᚕ + ᚖ;\n      } catch {\n        console.debug('Failed');\n      }\n    };\n\n    if (!ᚑ()) ᚓ();\n\n    const ᚋ = setInterval(() => {\n      if (!ᚑ()) {\n        clearInterval(ᚋ);\n        ᚓ();\n      }\n    }, 1e3 + ~~(5e2 * Math.random()));\n\n    const ᚌ = new MutationObserver(() => {\n      if (!ᚑ()) ᚓ();\n    });\n\n    ᚌ.observe(ᚘ, {childList: true, subtree: true});\n  }\n})();<\/script>"])),defineScriptVars({defaultTheme:UI.theme}))),"/root/code/tmd_astro/src/components/common/BasicScripts.astro",void 0),bgImage=new Proxy({src:"/aiJUzXuO/ohNuKRVx.jpg",width:91,height:62,format:"jpg",orientation:1},{get:(e,t,n)=>"clone"===t?structuredClone(e):"fsPath"===t?"/root/code/tmd_astro/src/assets/images/pattern_optimize.jpg":(void 0!==e[t]&&globalThis.astroAsset&&globalThis.astroAsset?.referencedImages.add("/root/code/tmd_astro/src/assets/images/pattern_optimize.jpg"),e[t])}),pattern_optimize=Object.freeze(Object.defineProperty({__proto__:null,default:bgImage},Symbol.toStringTag,{value:"Module"})),$$Astro$1=createAstro("https://tinhmenhdo.com"),$$ViewTransitions=createComponent(((e,t,n)=>{const a=e.createAstro($$Astro$1,t,n);a.self=$$ViewTransitions;const{fallback:r="animate"}=a.props;return renderTemplate`<meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback"${addAttribute(r,"content")}>`}),"/root/code/tmd_astro/node_modules/astro/components/ViewTransitions.astro",void 0);var _a,__freeze=Object.freeze,__defProp=Object.defineProperty,__template=(e,t)=>__freeze(__defProp(e,"raw",{value:__freeze(t||e.slice())}));const $$Astro=createAstro("https://tinhmenhdo.com"),$$Layout=createComponent(((e,t,n)=>{const a=e.createAstro($$Astro,t,n);a.self=$$Layout;const{metadata:r={}}=a.props,{language:o,textDirection:s}=I18N,i=defineStyleVars([{bgImage:`url(${bgImage.src})`}]);return renderTemplate(_a||(_a=__template(["<html","","","> <head>","","","","","","","","<script>\n      (() => {\n        // Danh sách các pattern URL cần kiểm tra\n        const slugPatterns = [\n          'la-so-tu-vi',\n          'luong-phai-nam-phai',\n          'kham-thien-tu-hoa-nam-phai',\n          'tu-vi-nam-phai',\n          'tu-vi-phi-tinh-luong-phai',\n          'tu-vi-kham-thien-tu-hoa',\n          'tu-vi-trung-chau-phai',\n          'tu-vi-trung-chau-phai-kham-thien',\n          'tu-vi-trung-chau-luong-phai',\n        ];\n\n        function parseOldUrl(url) {\n          try {\n            const isNu = /-nu-/.test(url);\n            const matches = url.match(/(?:nam|nu)-(\\d{4}).*sinh-(\\d{4})-(\\d{1,2})-(\\d{1,2})-(\\d{1,2})-(\\d{1,2}).*xem-(\\d{4})-(\\d{1,2})-(\\d{1,2})-(\\d{1,2}).*cf-(\\d+)/);\n            \n            if (!matches) return null;\n\n            const [_, _year, birthYear, birthMonth, birthDay, birthHour, birthMinute, \n                   viewYear, viewMonth, viewDay, viewHour, cfg] = matches;\n\n            return {\n              sex: isNu ? '0' : '1',\n              born: `${birthYear}.${birthMonth.padStart(2,'0')}.${birthDay.padStart(2,'0')}.${birthHour.padStart(2,'0')}.${birthMinute.padStart(2,'0')}`,\n              view: `${viewYear}.${viewMonth.padStart(2,'0')}.${viewDay.padStart(2,'0')}.${viewHour.padStart(2,'0')}`,\n              cfg: cfg\n            };\n          } catch (error) {\n            console.error('Error parsing URL:', error);\n            return null;\n          }\n        }\n\n        function convertOldUrlToNew(oldUrl) {\n          try {\n            // Tìm pattern phù hợp\n            let matchedPattern = slugPatterns.find(pattern => oldUrl.includes(pattern));\n            \n            // Xử lý đặc biệt cho \"la-so-tu-vi\"\n            if (oldUrl.includes('la-so-tu-vi')) {\n              matchedPattern = 'la-so-tu-vi-viet-nam';\n            } else if (!matchedPattern) {\n              return null;\n            }\n\n            // Parse thông tin từ URL cũ\n            const info = parseOldUrl(oldUrl);\n            if (!info) return null;\n\n            // Tạo URL mới\n            return `/tu-vi/${matchedPattern}?s=${info.sex}&b=${info.born}&v=${info.view}&cf=${info.cfg}`;\n          } catch (error) {\n            console.error('Error converting URL:', error);\n            return null;\n          }\n        }\n\n        // Thực hiện chuyển hướng\n        const currentPath = window.location.pathname + window.location.search;\n        const isOldFormat = currentPath.includes('-nam-') || currentPath.includes('-nu-');\n        const hasBirthInfo = currentPath.includes('-sinh-');\n        const isNotNewFormat = !currentPath.includes('la-so-tu-vi-viet-nam');\n        const isNotExactTuViPath = !currentPath.match(/^\\/tu-vi\\/?$/);\n\n        const needsRedirect = slugPatterns.some(pattern => \n          currentPath.includes(pattern) && \n          isOldFormat && \n          hasBirthInfo &&\n          isNotNewFormat && \n          isNotExactTuViPath\n        );\n\n        if (needsRedirect && !window.__redirected) {\n          const newUrl = convertOldUrlToNew(currentPath);\n          if (newUrl) {\n            window.__redirected = true;\n            window.location.href = newUrl;\n          }\n        }\n      })();\n    <\/script>",'</head> <body class="antialiased text-default bg-page tracking-tight"',"> "," ","  </body> </html>"],["<html","","","> <head>","","","","","","","","<script>\n      (() => {\n        // Danh sách các pattern URL cần kiểm tra\n        const slugPatterns = [\n          'la-so-tu-vi',\n          'luong-phai-nam-phai',\n          'kham-thien-tu-hoa-nam-phai',\n          'tu-vi-nam-phai',\n          'tu-vi-phi-tinh-luong-phai',\n          'tu-vi-kham-thien-tu-hoa',\n          'tu-vi-trung-chau-phai',\n          'tu-vi-trung-chau-phai-kham-thien',\n          'tu-vi-trung-chau-luong-phai',\n        ];\n\n        function parseOldUrl(url) {\n          try {\n            const isNu = /-nu-/.test(url);\n            const matches = url.match(/(?:nam|nu)-(\\\\d{4}).*sinh-(\\\\d{4})-(\\\\d{1,2})-(\\\\d{1,2})-(\\\\d{1,2})-(\\\\d{1,2}).*xem-(\\\\d{4})-(\\\\d{1,2})-(\\\\d{1,2})-(\\\\d{1,2}).*cf-(\\\\d+)/);\n            \n            if (!matches) return null;\n\n            const [_, _year, birthYear, birthMonth, birthDay, birthHour, birthMinute, \n                   viewYear, viewMonth, viewDay, viewHour, cfg] = matches;\n\n            return {\n              sex: isNu ? '0' : '1',\n              born: \\`\\${birthYear}.\\${birthMonth.padStart(2,'0')}.\\${birthDay.padStart(2,'0')}.\\${birthHour.padStart(2,'0')}.\\${birthMinute.padStart(2,'0')}\\`,\n              view: \\`\\${viewYear}.\\${viewMonth.padStart(2,'0')}.\\${viewDay.padStart(2,'0')}.\\${viewHour.padStart(2,'0')}\\`,\n              cfg: cfg\n            };\n          } catch (error) {\n            console.error('Error parsing URL:', error);\n            return null;\n          }\n        }\n\n        function convertOldUrlToNew(oldUrl) {\n          try {\n            // Tìm pattern phù hợp\n            let matchedPattern = slugPatterns.find(pattern => oldUrl.includes(pattern));\n            \n            // Xử lý đặc biệt cho \"la-so-tu-vi\"\n            if (oldUrl.includes('la-so-tu-vi')) {\n              matchedPattern = 'la-so-tu-vi-viet-nam';\n            } else if (!matchedPattern) {\n              return null;\n            }\n\n            // Parse thông tin từ URL cũ\n            const info = parseOldUrl(oldUrl);\n            if (!info) return null;\n\n            // Tạo URL mới\n            return \\`/tu-vi/\\${matchedPattern}?s=\\${info.sex}&b=\\${info.born}&v=\\${info.view}&cf=\\${info.cfg}\\`;\n          } catch (error) {\n            console.error('Error converting URL:', error);\n            return null;\n          }\n        }\n\n        // Thực hiện chuyển hướng\n        const currentPath = window.location.pathname + window.location.search;\n        const isOldFormat = currentPath.includes('-nam-') || currentPath.includes('-nu-');\n        const hasBirthInfo = currentPath.includes('-sinh-');\n        const isNotNewFormat = !currentPath.includes('la-so-tu-vi-viet-nam');\n        const isNotExactTuViPath = !currentPath.match(/^\\\\/tu-vi\\\\/?$/);\n\n        const needsRedirect = slugPatterns.some(pattern => \n          currentPath.includes(pattern) && \n          isOldFormat && \n          hasBirthInfo &&\n          isNotNewFormat && \n          isNotExactTuViPath\n        );\n\n        if (needsRedirect && !window.__redirected) {\n          const newUrl = convertOldUrlToNew(currentPath);\n          if (newUrl) {\n            window.__redirected = true;\n            window.location.href = newUrl;\n          }\n        }\n      })();\n    <\/script>",'</head> <body class="antialiased text-default bg-page tracking-tight"',"> "," ","  </body> </html>"])),addAttribute(o,"lang"),addAttribute(s,"dir"),addAttribute(i,"style"),renderComponent(e,"CommonMeta",$$CommonMeta,{}),renderComponent(e,"Favicons",$$Favicons,{}),renderComponent(e,"CustomStyles",$$CustomStyles,{}),renderComponent(e,"ApplyColorMode",$$ApplyColorMode,{}),renderComponent(e,"Metadata",$$Metadata,{...r}),renderComponent(e,"SiteVerification",$$SiteVerification,{}),renderComponent(e,"Analytics",$$Analytics,{}),renderComponent(e,"ViewTransitions",$$ViewTransitions,{fallback:"swap"}),renderHead(),addAttribute(i,"style"),renderSlot(e,n.default),renderComponent(e,"BasicScripts",$$BasicScripts,{}))}),"/root/code/tmd_astro/src/layouts/Layout.astro",void 0);export{$$Layout as $,findImage as f};
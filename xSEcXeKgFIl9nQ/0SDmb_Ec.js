import{i as e}from"./C0SZ43gy.js";class InternMap extends Map{constructor(e,n=t){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(const[n,t]of e)this.set(n,t)}get(e){return super.get(n(this,e))}has(e){return super.has(n(this,e))}set(e,n){return super.set(function({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):(e.set(r,t),t)}(this,e),n)}delete(e){return super.delete(function({_intern:e,_key:n},t){const r=n(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}(this,e))}}function n({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):t}function t(e){return null!==e&&"object"==typeof e?e.valueOf():e}const r=Symbol("implicit");function s(){var n=new InternMap,t=[],u=[],o=r;function i(e){let s=n.get(e);if(void 0===s){if(o!==r)return o;n.set(e,s=t.push(e)-1)}return u[s%u.length]}return i.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new InternMap;for(const r of e)n.has(r)||n.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(u=Array.from(e),i):u.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return s(t,u).unknown(o)},e.apply(i,arguments),i}export{s as o};
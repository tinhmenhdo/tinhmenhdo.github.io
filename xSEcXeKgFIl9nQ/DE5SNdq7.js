import{b as createAstro,c as createComponent,r as renderComponent,g as Fragment,a as renderTemplate,f as addAttribute,m as maybeRenderHead,s as spreadAttributes,u as unescapeHTML}from"./W3zfNG2i.js";import"kleur/colors";import{g as getPermalink}from"./DE1IM2Yh.js";import{f as findImage}from"./D76NAskv.js";import{g as getImage}from"./Wci35KNG.js";import{parseUrl,transformUrl}from"unpic";import{$ as $$Icon}from"./D4O6exOK.js";import{twMerge}from"tailwind-merge";const $$Astro$2=createAstro("https://tinhmenhdo.com"),$$Tags=createComponent(((e,t,r)=>{const s=e.createAstro($$Astro$2,t,r);s.self=$$Tags;const{tags:o,class:a="text-sm",title:i,isCategory:n=!1}=s.props;return renderTemplate`${o&&Array.isArray(o)&&renderTemplate`${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${void 0!==i&&renderTemplate`${maybeRenderHead()}<span class="align-super font-normal underline underline-offset-4 decoration-2 dark:text-slate-400">${i}</span>`}`})}<ul${addAttribute(a,"class")}>${o.map((e=>renderTemplate`<li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 rtl:mr-0 rtl:ml-2 mb-2 py-0.5 px-2 lowercase font-medium">${renderTemplate`<a${addAttribute(getPermalink(e.slug,n?"category":"tag"),"href")} class="text-muted dark:text-slate-300 hover:text-primary dark:hover:text-gray-200">${e.title}</a>`}</li>`))}</ul>`})}`}`}),"/root/code/tmd_astro/src/components/blog/Tags.astro",void 0),config={deviceSizes:[640,750,828,960,1080,1280,1668,1920,2048,2560,3200,3840,4480,5120,6016]};function computeHeight(e,t){return Math.floor(e/t)}function parseAspectRatio(e){if("number"==typeof e)return e;if("string"==typeof e){const t=e.match(/(\d+)\s*[/:]\s*(\d+)/);if(t){const[,e,r]=t.map(Number);if(r&&!Number.isNaN(e))return e/r}else{const t=Number.parseFloat(e);if(!Number.isNaN(t))return t}}}function getSizes(e,t){if(e&&t)switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}}const pixelate=e=>e||0===e?`${e}px`:void 0;function getStyle({width:e,height:t,aspectRatio:r,layout:s,objectFit:o="cover",objectPosition:a="center",background:i}){const n=[["object-fit",o],["object-position",a]];i?.startsWith("https:")||i?.startsWith("http:")||i?.startsWith("data:")?(n.push(["background-image",`url(${i})`]),n.push(["background-size","cover"]),n.push(["background-repeat","no-repeat"])):n.push(["background",i]),"fixed"===s&&(n.push(["width",pixelate(e)]),n.push(["height",pixelate(t)]),n.push(["object-position","top left"])),"constrained"===s&&(n.push(["max-width",pixelate(e)]),n.push(["max-height",pixelate(t)]),n.push(["aspect-ratio",r?`${r}`:void 0]),n.push(["width","100%"])),"fullWidth"===s&&(n.push(["width","100%"]),n.push(["aspect-ratio",r?`${r}`:void 0]),n.push(["height",pixelate(t)])),"responsive"===s&&(n.push(["width","100%"]),n.push(["height","auto"]),n.push(["aspect-ratio",r?`${r}`:void 0])),"contained"===s&&(n.push(["max-width","100%"]),n.push(["max-height","100%"]),n.push(["object-fit","contain"]),n.push(["aspect-ratio",r?`${r}`:void 0])),"cover"===s&&(n.push(["max-width","100%"]),n.push(["max-height","100%"]));const c=Object.fromEntries(n.filter((([,e])=>e)));return Object.entries(c).map((([e,t])=>`${e}: ${t};`)).join(" ")}function getBreakpoints({width:e,breakpoints:t,layout:r}){if("fullWidth"===r||"cover"===r||"responsive"===r||"contained"===r)return t||config.deviceSizes;if(!e)return[];const s=2*e;return"fixed"===r?[e,s]:"constrained"===r?[e,s,...(t||config.deviceSizes).filter((e=>e<s))]:[]}const astroAsseetsOptimizer=async(e,t,r,s)=>e?Promise.all(t.map((async t=>({src:(await getImage({src:e,width:t,inferSize:!0})).src,width:t})))):[];function isUnpicCompatible(e){return void 0!==parseUrl(e)}const unpicOptimizer=async(e,t,r,s)=>{if(!e||"string"!=typeof e)return[];const o=parseUrl(e);return o?Promise.all(t.map((async t=>{const a=transformUrl({url:e,width:t,height:r&&s?computeHeight(t,r/s):s,cdn:o.cdn})||e;return{src:String(a),width:t}}))):[]};async function getImagesOptimized(e,{src:t,width:r,height:s,sizes:o,aspectRatio:a,widths:i,layout:n="constrained",style:c="",...p},d=()=>Promise.resolve([])){"string"!=typeof e&&(r||=Number(e.width)||void 0,s||="number"==typeof r?computeHeight(r,e.width/e.height):void 0),r=r&&Number(r)||void 0,s=s&&Number(s)||void 0,i||=config.deviceSizes,o||=getSizes(Number(r)||void 0,n),(a=parseAspectRatio(a))?r?s||(s=r/a):s?r=Number(s*a):"fullWidth"!==n&&(console.error("When aspectRatio is set, either width or height must also be set"),console.error("Image",e)):r&&s?a=r/s:"fullWidth"!==n&&(console.error("Either aspectRatio or both width and height must be set"),console.error("Image",e));let m=getBreakpoints({width:r,breakpoints:i,layout:n});m=[...new Set(m)].sort(((e,t)=>e-t));const l=(await d(e,m,Number(r)||void 0,Number(s)||void 0)).map((({src:e,width:t})=>`${e} ${t}w`)).join(", ");return{src:"string"==typeof e?e:e.src,attributes:{width:r,height:s,srcset:l||void 0,sizes:o,style:`${getStyle({width:r,height:s,aspectRatio:a,layout:n})}${c??""}`,...p}}}const $$Astro$1=createAstro("https://tinhmenhdo.com"),$$Image=createComponent((async(e,t,r)=>{const s=e.createAstro($$Astro$1,t,r);s.self=$$Image;const o=s.props;if(void 0===o.alt||null===o.alt)throw new Error("alt is required");"string"==typeof o.width&&(o.width=Number.parseInt(o.width)),"string"==typeof o.height&&(o.height=Number.parseInt(o.height)),o.loading||(o.loading="lazy"),o.decoding||(o.decoding="async");const a=await findImage(o.src);let i;return"string"==typeof a?i=(a.startsWith("http://")||a.startsWith("https://"))&&isUnpicCompatible(a)?await getImagesOptimized(a,o,unpicOptimizer):{src:a,attributes:{...o,src:void 0}}:a&&(i=await getImagesOptimized(a,o,astroAsseetsOptimizer)),renderTemplate`${i?renderTemplate`${maybeRenderHead()}<img${addAttribute(i.src,"src")} crossorigin="anonymous" referrerpolicy="no-referrer"${spreadAttributes(i.attributes)}>`:renderTemplate`${renderComponent(e,"Fragment",Fragment,{})}`}`}),"/root/code/tmd_astro/src/components/common/Image.astro",void 0),$$Astro=createAstro("https://tinhmenhdo.com"),$$Button=createComponent(((e,t,r)=>{const s=e.createAstro($$Astro,t,r);s.self=$$Button;const{variant:o="secondary",target:a,text:i=s.slots.render("default"),icon:n="",class:c="",type:p,...d}=s.props,m={primary:"btn-primary",secondary:"btn-secondary",tertiary:"btn btn-tertiary",link:"cursor-pointer hover:text-primary"};return renderTemplate`${"button"===p||"submit"===p||"reset"===p?renderTemplate`${maybeRenderHead()}<button${addAttribute(p,"type")}${addAttribute(twMerge(m[o]||"",c),"class")}${spreadAttributes(d)}>${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${unescapeHTML(i)}`})}${n&&renderTemplate`${renderComponent(e,"Icon",$$Icon,{name:n,class:"w-5 h-5 ml-1 -mr-1.5 rtl:mr-1 rtl:-ml-1.5 inline-block"})}`}</button>`:renderTemplate`<a${addAttribute(twMerge(m[o]||"",c),"class")}${spreadAttributes(a?{target:a,rel:"noopener noreferrer"}:{})}${spreadAttributes(d)}>${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${unescapeHTML(i)}`})}${n&&renderTemplate`${renderComponent(e,"Icon",$$Icon,{name:n,class:"w-5 h-5 ml-1 -mr-1.5 rtl:mr-1 rtl:-ml-1.5 inline-block"})}`}</a>`}`}),"/root/code/tmd_astro/src/components/ui/Button.astro",void 0);export{$$Image as $,$$Tags as a,$$Button as b};
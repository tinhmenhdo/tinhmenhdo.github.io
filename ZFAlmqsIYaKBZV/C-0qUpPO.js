import{j as t}from"./Bq1fMrfD.js";import{r as s,R as React}from"./Ct-_TUOu.js";var i=Object.defineProperty,e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,s,e)=>s in t?i(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,h=(t,s)=>{for(var i in s||(s={}))a.call(s,i)&&r(t,i,s[i]);if(e)for(var i of e(s))n.call(s,i)&&r(t,i,s[i]);return t},o=(t,s)=>{var i={};for(var r in t)a.call(t,r)&&s.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&e)for(var r of e(t))s.indexOf(r)<0&&n.call(t,r)&&(i[r]=t[r]);return i};const c={starsCount:400,starsColor:"#FFFFFF",starsRotationSpeed:3,cometFrequence:15,nebulasIntensity:10,bgColor:"rgb(8,8,8)",sunScale:1,planetsScale:1,solarSystemOrbite:65,solarSystemSpeedOrbit:100},l=t=>Object.assign({},c,t),d=t=>{const s=(t.includes("#")?function(t){let s="0",i="0",e="0";return t.length<=5?(s="0x"+t[1]+t[1],i="0x"+t[2]+t[2],e="0x"+t[3]+t[3]):t.length>=7&&(s="0x"+t[1]+t[2],i="0x"+t[3]+t[4],e="0x"+t[5]+t[6]),"rgb("+ +s+","+ +i+","+ +e+")"}(t):t).split(/[\(|,|\)]/);return[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10)]},g=(t,s)=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${s})`;class Drawable{constructor({ctx:t}){this.ctx=t}getCanvasWidth(){return this.ctx.canvas.width}getCanvasHeight(){return this.ctx.canvas.height}get canvasMinSide(){return Math.min(this.getCanvasHeight(),this.getCanvasWidth())}get canvasMaxSide(){return Math.max(this.getCanvasHeight(),this.getCanvasWidth())}}class Astre extends Drawable{constructor({ctx:t,width:s,speed:i,distance:e,rgb:a,origin:n,startAngle:r=360*Math.random()}){super({ctx:t}),this.relativeWidth=s,this.rgb=a,this.speed=i,this.relativeDistance=e,this.origin=n,this.angle=Math.PI/180*(null!=r?r:0)}rotate(){this.angle=(this.angle+Math.PI/180*this.speed)%360}get width(){return this.relativeWidth/100*this.canvasMinSide}get distance(){return this.relativeDistance/100*this.canvasMinSide}getAngle(){return this.angle}getRefAngle(){var t,s;return this.getAngle()+(null!=(s=null==(t=this.origin)?void 0:t.getAngle())?s:0)}getWidth(){return this.width}getOriginCoords(){if(this.origin){const t=this.origin.getOriginCoords();return[t[0]+Math.cos(this.origin.getAngle()+this.angle)*(this.distance+this.origin.getWidth()),t[1]+Math.sin(this.origin.getAngle()+this.angle)*(this.distance+this.origin.getWidth())]}{const t=[this.getCanvasWidth()/2,this.getCanvasHeight()/2];return[t[0]+Math.cos(this.angle)*this.distance,t[1]+Math.sin(this.angle)*this.distance]}}}const u=t=>[Math.round(t[0]),Math.round(t[1])];class Star extends Astre{constructor(t){var s=o(t,[]);super(h({},s)),this.draw=()=>{this.rotate(),this.ctx.shadowBlur=0,this.ctx.beginPath();const t=u(this.getOriginCoords());this.ctx.arc(...t,Math.round(this.width),0,2*Math.PI),this.ctx.closePath(),this.ctx.fillStyle=`rgba(${this.rgb[0]}, ${this.rgb[1]}, ${this.rgb[2]}, 1)`,this.ctx.fill()}}}const f=(t,s)=>t+Math.random()*(s-t),x=(t,s,i)=>("%"===i&&(s*=t),t-s+Math.random()*s*2),p=({canvas:t,drawings:s,bgColor:i,fps:e=0})=>{const a=t.width,n=t.height,r=t.getContext("2d");if(!r)return()=>{};let h;r.save();let o=0,c=1e3/e;const l=()=>{if(e){h=requestAnimationFrame(l);const t=Date.now();if(t-o<c)return;o=t}r.clearRect(0,0,a,n),i&&(r.fillStyle=i,r.fillRect(0,0,a,n)),s.forEach((t=>t.draw()))};return l(),()=>{r.restore(),h&&cancelAnimationFrame(h)}};class Sun extends Astre{constructor(t){var s=o(t,[]);super(h({},s)),this.draw=()=>{this.rotate(),this.ctx.shadowBlur=0,this.ctx.beginPath();const t=u(this.getOriginCoords());this.ctx.arc(...t,Math.round(this.width),0,2*Math.PI),this.ctx.fillStyle="white",this.ctx.fill(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(...t,Math.round(5*this.width),0,2*Math.PI),this.ctx.closePath(),this.ctx.fillStyle=this.getGradiant(),this.ctx.fill()}}getGradiant(){const t=u(this.getOriginCoords()),s=this.ctx.createRadialGradient(...t,0,...t,Math.round(5*this.width));return s.addColorStop(0,g(this.rgb,.2)),s.addColorStop(.1,g(this.rgb,.3)),s.addColorStop(.16,g(this.rgb,.6)),s.addColorStop(.2,g(this.rgb,1)),s.addColorStop(.2,g(this.rgb,.4)),s.addColorStop(.23,g(this.rgb,.08)),s.addColorStop(.5,g(this.rgb,.02)),s.addColorStop(.9,g(this.rgb,.005)),s.addColorStop(1,g(this.rgb,0)),s}}class Planet extends Astre{constructor(t){var s=o(t,[]);super(h({},s)),this.draw=()=>{this.rotate(),this.ctx.shadowBlur=0,this.ctx.beginPath();const t=u(this.getOriginCoords());this.ctx.arc(...t,Math.round(this.width),0,2*Math.PI),this.ctx.fillStyle="black",this.ctx.fill(),this.ctx.closePath();const s=this.ctx.createRadialGradient(Math.round(t[0]-.4*this.width*Math.cos(this.getRefAngle())),Math.round(t[1]-.4*this.width*Math.sin(this.getRefAngle())),0,...t,Math.round(this.width));s.addColorStop(0,g(this.rgb,1)),s.addColorStop(1,g(this.rgb,.5)),this.ctx.fillStyle=s,this.ctx.fill()}}}class Comet extends Drawable{constructor({ctx:t,frequence:s}){super({ctx:t}),this.speed=115,this.x=0,this.y=0,this.opacity=0,this.draw=()=>{if(this.move(),!this.showConfig)return;this.ctx.save(),this.ctx.ellipse(this.x,this.y,this.showConfig.width,90,this.showConfig.direction+Math.PI/2,0,2*Math.PI),this.ctx.globalAlpha=this.opacity;const t=this.ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,90);t.addColorStop(0,g(this.showConfig.rgb,1)),t.addColorStop(1,g(this.showConfig.rgb,0)),this.ctx.fillStyle=t,this.ctx.fill(),this.ctx.restore()},this.ctx=t,this.frequence=s}move(){if(this.showConfig){this.x+=this.speed*Math.cos(this.showConfig.direction),this.y+=this.speed*Math.sin(this.showConfig.direction);const{x:t,y:s}=this.showConfig.startCoords,i=Math.sqrt(Math.pow(this.x-t,2)+Math.pow(this.y-s,2)),e=i/this.showConfig.distanceToTarget;return this.opacity=Math.max(.7,Math.min(e<.3?e:1-e,1)),void(i>this.showConfig.distanceToTarget&&(this.showConfig=void 0))}if(Math.random()>1-this.frequence/100/40){const t=f(0,2*Math.PI),s=Math.max(this.getCanvasHeight(),this.getCanvasWidth());this.showConfig={startCoords:{x:x(Math.cos(t)*s/3,.5,"%")+this.getCanvasWidth()/2,y:x(Math.sin(t)*s/3,.5,"%")+this.getCanvasHeight()/2},direction:f(t+Math.PI-Math.PI/6,t+Math.PI+Math.PI/6),distanceToTarget:x(.6*s,.3),speed:x(115,.15,"%"),rgb:d("rgb(255,207,207)"),width:f(.2,.8),startOpacity:0},this.x=this.showConfig.startCoords.x,this.y=this.showConfig.startCoords.y}}}const b=["rgb(6,2,122)","rgb(6,66,18)","#57046e"];class NebulaColoration extends Drawable{constructor({ctx:t,intensity:s}){super({ctx:t}),this.draw=()=>{const t=this.ctx.getImageData(0,0,this.getCanvasWidth(),this.getCanvasHeight()),s=this.getCanvasWidth(),i=Array.from(t.data);for(let t=0;t<i.length;t+=4){const e=t/4,a=e%s,n=Math.floor(e/s);this.colorations.forEach((s=>{const e=C(s,a,n)*this.intensity;if(e>0)for(let a=0;a<3;a++)i[t+a]=e*s.rgb[a]+i[a+t]*(1-e)}));for(let s=0;s<3;s++){const e=i[t+s];e>0&&(i[t+s]=Math.round(e-1+Math.random()))}}t.data.set(i),this.ctx.putImageData(t,0,0)},this.intensity=.025*s;const i=w(3*b.length);this.colorations=b.flatMap((t=>new Array(3).fill(0).map((()=>{const s=i.pop();return{coords:{x:s.x*this.getCanvasWidth(),y:s.y*this.getCanvasHeight()},rgb:d(t),ratio:x(Math.PI/4,.2),width:f(5,8)*this.canvasMinSide*.08}}))))}setIntensity(t){this.intensity=.025*t}}const w=t=>{const s=2*Math.PI*Math.random();return(t=>{const s=t.slice();for(let t=s.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1)),e=s[t];s[t]=s[i],s[i]=e}return s})(new Array(t).fill(0).map(((i,e)=>{const a=s+x(e*Math.PI*2/t,.32),n=f(.8,1.1);return{x:(Math.cos(a)*n+1)/2,y:(Math.sin(a)*n+1)/2}})))},C=(t,s,i)=>{const e=s-t.coords.x,a=i-t.coords.y,n=Math.sqrt(Math.pow(e*Math.cos(t.ratio),2)+Math.pow(a*Math.sin(t.ratio),2)),r=(t.width-n)/t.width;return Math.max(r,0)},v="width: 100%;height: 100%;position:absolute;will-change:transform;top: 0;left:0;";class Nebula{constructor({config:t,element:s}){this.cancelAnimations=[],this.stars=[],this.comets=[],this.planets=[],this.onResize=()=>{this.styleCanvas(),this.init()},this.styleCanvas=()=>{this.bgCanvas.setAttribute("style",v),this.bgCanvas.width=this.element.offsetWidth/3,this.bgCanvas.height=this.element.offsetHeight/3,this.canvas.setAttribute("style",v),this.canvas.width=2*this.element.offsetWidth,this.canvas.height=2*this.element.offsetHeight},this.element=s,this.bgCanvas=document.createElement("CANVAS"),this.canvas=document.createElement("CANVAS"),s.append(this.bgCanvas),s.append(this.canvas),this.styleCanvas(),window.addEventListener("resize",this.onResize),this.config=l(t),this.setConfig(t)}setConfig(t){this.config=l(t),this.coloration=(({ctx:t,coloration:s,intensity:i})=>s?(s.setIntensity(i),s):new NebulaColoration({ctx:t,intensity:i}))({coloration:this.coloration,ctx:this.bgCanvas.getContext("2d"),intensity:this.config.nebulasIntensity}),this.stars=(({stars:t,count:s,color:i,rotationSpeed:e,ctx:a})=>{let n;const r=s-t.length;if(r<=0)n=t.slice(0,s);else{const s=new Array(r).fill(0).map((()=>new Star({ctx:a,width:f(.03,.1),distance:120*Math.pow(Math.random()*Math.random(),.5),speed:x(.015*e,.005),rgb:d(i)})));n=t.concat(s)}return n.map((t=>(t.speed=x(.015*e,.005),t)))})({stars:this.stars,ctx:this.canvas.getContext("2d"),color:this.config.starsColor,count:this.config.starsCount,rotationSpeed:this.config.starsRotationSpeed}),this.planets=(({planets:t,sunScale:s,scale:i,rotationSpeed:e,distance:a,ctx:n})=>{const r=new Sun({ctx:n,width:1.9*s,distance:a/2,startAngle:0,speed:.0033*e,rgb:d("rgb(208,141,16)")}),h=new Planet({ctx:n,width:.48*i,distance:5*i,speed:.01*e,rgb:d("rgb(19,102,150)"),origin:r});return[r,new Planet({ctx:n,width:.15*i,distance:4.2,speed:.017*e,rgb:d("rgb(180, 144, 88)"),origin:r}),h,new Planet({ctx:n,width:.12*i,distance:1.6*i,speed:.0212*e,rgb:d("rgb(200, 200, 200)"),origin:h}),new Planet({ctx:n,width:.32*i,distance:6.4*i,speed:.0066*e,rgb:d("rgb(233, 88, 26)"),origin:r}),new Planet({ctx:n,width:.72*i,distance:8.8*i,speed:.0046*e,rgb:d("rgb(169, 109, 45)"),origin:r}),new Planet({ctx:n,width:.6*i,distance:11*i,speed:.004*e,rgb:d("rgb(164,127,84)"),origin:r}),new Planet({ctx:n,width:.38*i,distance:12.6*i,speed:.0037*e,rgb:d("rgb(84,149,164)"),origin:r}),new Planet({ctx:n,width:.31*i,distance:13.6*i,speed:.0033*e,rgb:d("rgb(36,82,154)"),origin:r})]})({planets:this.planets,sunScale:this.config.sunScale,scale:this.config.planetsScale,ctx:this.canvas.getContext("2d"),rotationSpeed:this.config.solarSystemSpeedOrbit,distance:this.config.solarSystemOrbite}),this.comets=(({ctx:t,frequence:s})=>new Array(1).fill(0).flatMap((()=>[new Comet({ctx:t,frequence:s})])))({ctx:this.canvas.getContext("2d"),frequence:this.config.cometFrequence}),this.init()}init(){this.draw()}draw(){this.cancelAnimations.forEach((t=>t())),this.cancelAnimations=[p({canvas:this.bgCanvas,drawings:[this.coloration],bgColor:this.config.bgColor}),p({canvas:this.canvas,drawings:[...this.stars,...this.comets,...this.planets],fps:40})]}destroy(){var t,s;window.removeEventListener("resize",this.onResize),this.cancelAnimations.forEach((t=>t())),this.cancelAnimations=[],null==(t=this.bgCanvas.parentElement)||t.removeChild(this.bgCanvas),null==(s=this.canvas.parentElement)||s.removeChild(this.canvas)}}const m=({config:t={}})=>{const i=s.useRef(),e=s.useRef(null);return s.useLayoutEffect((()=>{var s;i.current&&(null==(s=i.current)||s.setConfig(t))}),[t]),s.useLayoutEffect((()=>(i.current||(i.current=new Nebula({config:t,element:e.current})),()=>{var t;null==(t=i.current)||t.destroy(),i.current=void 0})),[]),React.createElement("div",{ref:e,style:{overflow:"hidden",background:"#0a1929",height:"100%",width:"100%",position:"absolute"}})};function M(){return t.jsx(t.Fragment,{children:t.jsx("div",{className:"opacity-100",children:t.jsx(m,{config:{starsCount:600,starsColor:"#FFFFFF",starsRotationSpeed:2,cometFrequence:100,nebulasIntensity:30,bgColor:"rgb(42,112,25)",sunScale:0,planetsScale:0,solarSystemOrbite:70,solarSystemSpeedOrbit:100}})})})}export{M as default};
<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>Clear All Cache & Service Workers</title><style>body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;max-width:800px;margin:0 auto;padding:20px;background:#f5f5f5}.container{background:#fff;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.1)}.button{background:#dc3545;color:#fff;padding:12px 24px;border:none;border-radius:6px;font-size:16px;cursor:pointer;margin:10px 5px;transition:background .3s}.button:hover{background:#c82333}.button.safe{background:#28a745}.button.safe:hover{background:#218838}.status{margin:15px 0;padding:15px;border-radius:6px;font-family:monospace;font-size:14px}.success{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.error{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.info{background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.warning{background:#fff3cd;color:#856404;border:1px solid #ffeaa7}.steps{background:#f8f9fa;padding:20px;border-radius:6px;margin:20px 0}.step{margin:10px 0;padding:10px;border-left:4px solid #007bff;background:#fff}pre{background:#2d3748;color:#e2e8f0;padding:15px;border-radius:6px;overflow-x:auto;font-size:14px}.highlight{background:#fff3cd;padding:2px 4px;border-radius:3px}</style></head><body><div class="container"><h1>üßπ Clear All Cache & Service Workers</h1><div class="warning"><strong>‚ö†Ô∏è Ch√∫ √Ω:</strong> Trang n√†y s·∫Ω x√≥a ho√†n to√†n t·∫•t c·∫£ cache, service workers, localStorage, sessionStorage v√† IndexedDB. Ch·ªâ s·ª≠ d·ª•ng khi g·∫∑p v·∫•n ƒë·ªÅ v·ªõi PWA ho·∫∑c Service Worker!</div><div class="steps"><h3>üéØ C√°ch s·ª≠ d·ª•ng:</h3><div class="step"><strong>C√°ch 1 - Automatic:</strong> Click n√∫t "Clear All Cache" b√™n d∆∞·ªõi</div><div class="step"><strong>C√°ch 2 - Manual:</strong> M·ªü DevTools (F12) > Console > Copy/paste script b√™n d∆∞·ªõi</div><div class="step"><strong>C√°ch 3 - Direct:</strong> Truy c·∫≠p <code>/clear-all-cache.js</code> r·ªìi copy script v√†o console</div></div><div style="text-align:center;margin:30px 0"><button class="button" onclick="clearAllCache()">üóëÔ∏è Clear All Cache</button> <button class="button safe" onclick="window.location.href=&#34;/&#34;">üè† Back to Home</button></div><div id="status"></div><details><summary><strong>üìã Manual Script (Copy v√†o Console)</strong></summary><pre id="script-content">
// ƒêang load script...
            </pre></details><div class="info"><h4>üîß T√πy ch·ªçn kh√°c:</h4><ul><li><strong>Chrome:</strong> Settings > Privacy > Clear browsing data</li><li><strong>Firefox:</strong> Options > Privacy > Clear Data</li><li><strong>Safari:</strong> Develop > Empty Caches</li></ul></div></div><script>function logStatus(e,t="info"){const s=document.getElementById("status"),a=document.createElement("div");a.className=`status ${t}`,a.textContent=(new Date).toLocaleTimeString()+": "+e,s.appendChild(a),console.log(e)}async function clearAllCache(){logStatus("üö® B·∫Øt ƒë·∫ßu clear cache...","warning");try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();for(const t of e)await t.unregister(),logStatus("üíÄ Service worker unregistered: "+t.scope,"success");e.length>0?logStatus(`‚úÖ Unregistered ${e.length} service worker(s)`,"success"):logStatus("‚ÑπÔ∏è Kh√¥ng c√≥ service worker n√†o ƒë·ªÉ x√≥a","info")}if("caches"in window){const e=await caches.keys();for(const t of e)await caches.delete(t),logStatus("üíÄ Cache deleted: "+t,"success");e.length>0?logStatus(`‚úÖ Deleted ${e.length} cache(s)`,"success"):logStatus("‚ÑπÔ∏è Kh√¥ng c√≥ cache n√†o ƒë·ªÉ x√≥a","info")}if(localStorage.clear(),logStatus("üíÄ localStorage cleared","success"),sessionStorage.clear(),logStatus("üíÄ sessionStorage cleared","success"),"indexedDB"in window)try{const e=await indexedDB.databases();for(const t of e)indexedDB.deleteDatabase(t.name),logStatus("üíÄ IndexedDB deleted: "+t.name,"success")}catch(e){logStatus("üíÄ IndexedDB cleared (if any)","success")}logStatus("‚úÖ CACHE CLEARING COMPLETED!","success"),logStatus("üîÑ S·∫Ω refresh trang sau 3 gi√¢y...","info"),setTimeout((()=>{logStatus("üîÑ ƒêang refresh trang...","info"),window.location.reload()}),3e3)}catch(e){logStatus("‚ùå L·ªói khi clear cache: "+e.message,"error")}}fetch("/clear-all-cache.js").then((e=>e.text())).then((e=>{document.getElementById("script-content").textContent=e})).catch((e=>{document.getElementById("script-content").textContent="Error loading script: "+e.message}))</script></body></html>
import{j as t}from"./CY20i357.js";import{r as s,R as React}from"./Csf0KwDX.js";import"./CVVDEXDJ.js";var i=Object.defineProperty,e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,s)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,__spreadValues=(t,s)=>{for(var i in s||(s={}))a.call(s,i)&&__defNormalProp(t,i,s[i]);if(e)for(var i of e(s))n.call(s,i)&&__defNormalProp(t,i,s[i]);return t},__objRest=(t,s)=>{var i={};for(var o in t)a.call(t,o)&&s.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&e)for(var o of e(t))s.indexOf(o)<0&&n.call(t,o)&&(i[o]=t[o]);return i};const r={starsCount:400,starsColor:"#FFFFFF",starsRotationSpeed:3,cometFrequence:15,nebulasIntensity:10,bgColor:"rgb(8,8,8)",sunScale:1,planetsScale:1,solarSystemOrbite:65,solarSystemSpeedOrbit:100},fillConfig=t=>Object.assign({},r,t),parseColor=t=>{const e=(t.includes("#")?function(t){let e="0",s="0",i="0";return t.length<=5?(e="0x"+t[1]+t[1],s="0x"+t[2]+t[2],i="0x"+t[3]+t[3]):t.length>=7&&(e="0x"+t[1]+t[2],s="0x"+t[3]+t[4],i="0x"+t[5]+t[6]),"rgb("+ +e+","+ +s+","+ +i+")"}(t):t).split(/[\(|,|\)]/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]},getRGB=(t,e)=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${e})`;class Drawable{constructor({ctx:t}){this.ctx=t}getCanvasWidth(){return this.ctx.canvas.width}getCanvasHeight(){return this.ctx.canvas.height}get canvasMinSide(){return Math.min(this.getCanvasHeight(),this.getCanvasWidth())}get canvasMaxSide(){return Math.max(this.getCanvasHeight(),this.getCanvasWidth())}}class Astre extends Drawable{constructor({ctx:t,width:e,speed:s,distance:i,rgb:a,origin:n,startAngle:o=360*Math.random()}){super({ctx:t}),this.relativeWidth=e,this.rgb=a,this.speed=s,this.relativeDistance=i,this.origin=n,this.angle=Math.PI/180*(null!=o?o:0)}rotate(){this.angle=(this.angle+Math.PI/180*this.speed)%360}get width(){return this.relativeWidth/100*this.canvasMinSide}get distance(){return this.relativeDistance/100*this.canvasMinSide}getAngle(){return this.angle}getRefAngle(){var t,e;return this.getAngle()+(null!=(e=null==(t=this.origin)?void 0:t.getAngle())?e:0)}getWidth(){return this.width}getOriginCoords(){if(this.origin){const t=this.origin.getOriginCoords();return[t[0]+Math.cos(this.origin.getAngle()+this.angle)*(this.distance+this.origin.getWidth()),t[1]+Math.sin(this.origin.getAngle()+this.angle)*(this.distance+this.origin.getWidth())]}{const t=[this.getCanvasWidth()/2,this.getCanvasHeight()/2];return[t[0]+Math.cos(this.angle)*this.distance,t[1]+Math.sin(this.angle)*this.distance]}}}const roundCoords=t=>[Math.round(t[0]),Math.round(t[1])];class Star extends Astre{constructor(t){var e=__objRest(t,[]);super(__spreadValues({},e)),this.draw=()=>{this.rotate(),this.ctx.shadowBlur=0,this.ctx.beginPath();const t=roundCoords(this.getOriginCoords());this.ctx.arc(...t,Math.round(this.width),0,2*Math.PI),this.ctx.closePath(),this.ctx.fillStyle=`rgba(${this.rgb[0]}, ${this.rgb[1]}, ${this.rgb[2]}, 1)`,this.ctx.fill()}}}const Random_between=(t,e)=>t+Math.random()*(e-t),Random_around=(t,e,s)=>("%"===s&&(e*=t),t-e+Math.random()*e*2),drawOnCanvas=({canvas:t,drawings:e,bgColor:s,fps:i=0})=>{const a=t.width,n=t.height,o=t.getContext("2d");if(!o)return()=>{};let r;o.save();let h=0,c=1e3/i;const l=()=>{if(i){r=requestAnimationFrame(l);const t=Date.now();if(t-h<c)return;h=t}o.clearRect(0,0,a,n),s&&(o.fillStyle=s,o.fillRect(0,0,a,n)),e.forEach((t=>t.draw()))};return l(),()=>{o.restore(),r&&cancelAnimationFrame(r)}};class Sun extends Astre{constructor(t){var e=__objRest(t,[]);super(__spreadValues({},e)),this.draw=()=>{this.rotate(),this.ctx.shadowBlur=0,this.ctx.beginPath();const t=roundCoords(this.getOriginCoords());this.ctx.arc(...t,Math.round(this.width),0,2*Math.PI),this.ctx.fillStyle="white",this.ctx.fill(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(...t,Math.round(5*this.width),0,2*Math.PI),this.ctx.closePath(),this.ctx.fillStyle=this.getGradiant(),this.ctx.fill()}}getGradiant(){const t=roundCoords(this.getOriginCoords()),e=this.ctx.createRadialGradient(...t,0,...t,Math.round(5*this.width));return e.addColorStop(0,getRGB(this.rgb,.2)),e.addColorStop(.1,getRGB(this.rgb,.3)),e.addColorStop(.16,getRGB(this.rgb,.6)),e.addColorStop(.2,getRGB(this.rgb,1)),e.addColorStop(.2,getRGB(this.rgb,.4)),e.addColorStop(.23,getRGB(this.rgb,.08)),e.addColorStop(.5,getRGB(this.rgb,.02)),e.addColorStop(.9,getRGB(this.rgb,.005)),e.addColorStop(1,getRGB(this.rgb,0)),e}}class Planet extends Astre{constructor(t){var e=__objRest(t,[]);super(__spreadValues({},e)),this.draw=()=>{this.rotate(),this.ctx.shadowBlur=0,this.ctx.beginPath();const t=roundCoords(this.getOriginCoords());this.ctx.arc(...t,Math.round(this.width),0,2*Math.PI),this.ctx.fillStyle="black",this.ctx.fill(),this.ctx.closePath();const e=this.ctx.createRadialGradient(Math.round(t[0]-.4*this.width*Math.cos(this.getRefAngle())),Math.round(t[1]-.4*this.width*Math.sin(this.getRefAngle())),0,...t,Math.round(this.width));e.addColorStop(0,getRGB(this.rgb,1)),e.addColorStop(1,getRGB(this.rgb,.5)),this.ctx.fillStyle=e,this.ctx.fill()}}}class Comet extends Drawable{constructor({ctx:t,frequence:e}){super({ctx:t}),this.speed=115,this.x=0,this.y=0,this.opacity=0,this.draw=()=>{if(this.move(),!this.showConfig)return;this.ctx.save(),this.ctx.ellipse(this.x,this.y,this.showConfig.width,90,this.showConfig.direction+Math.PI/2,0,2*Math.PI),this.ctx.globalAlpha=this.opacity;const t=this.ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,90);t.addColorStop(0,getRGB(this.showConfig.rgb,1)),t.addColorStop(1,getRGB(this.showConfig.rgb,0)),this.ctx.fillStyle=t,this.ctx.fill(),this.ctx.restore()},this.ctx=t,this.frequence=e}move(){if(this.showConfig){this.x+=this.speed*Math.cos(this.showConfig.direction),this.y+=this.speed*Math.sin(this.showConfig.direction);const{x:t,y:e}=this.showConfig.startCoords,s=Math.sqrt(Math.pow(this.x-t,2)+Math.pow(this.y-e,2)),i=s/this.showConfig.distanceToTarget;return this.opacity=Math.max(.7,Math.min(i<.3?i:1-i,1)),void(s>this.showConfig.distanceToTarget&&(this.showConfig=void 0))}if(Math.random()>1-this.frequence/100/40){const t=Random_between(0,2*Math.PI),e=Math.max(this.getCanvasHeight(),this.getCanvasWidth());this.showConfig={startCoords:{x:Random_around(Math.cos(t)*e/3,.5,"%")+this.getCanvasWidth()/2,y:Random_around(Math.sin(t)*e/3,.5,"%")+this.getCanvasHeight()/2},direction:Random_between(t+Math.PI-Math.PI/6,t+Math.PI+Math.PI/6),distanceToTarget:Random_around(.6*e,.3),speed:Random_around(115,.15,"%"),rgb:parseColor("rgb(255,207,207)"),width:Random_between(.2,.8),startOpacity:0},this.x=this.showConfig.startCoords.x,this.y=this.showConfig.startCoords.y}}}const h=["rgb(6,2,122)","rgb(6,66,18)","#57046e"];class NebulaColoration extends Drawable{constructor({ctx:t,intensity:e}){super({ctx:t}),this.draw=()=>{const t=this.ctx.getImageData(0,0,this.getCanvasWidth(),this.getCanvasHeight()),e=this.getCanvasWidth(),s=Array.from(t.data);for(let t=0;t<s.length;t+=4){const i=t/4,a=i%e,n=Math.floor(i/e);this.colorations.forEach((e=>{const i=getColorationOpacity(e,a,n)*this.intensity;if(i>0)for(let a=0;a<3;a++)s[t+a]=i*e.rgb[a]+s[a+t]*(1-i)}));for(let e=0;e<3;e++){const i=s[t+e];i>0&&(s[t+e]=Math.round(i-1+Math.random()))}}t.data.set(s),this.ctx.putImageData(t,0,0)},this.intensity=.025*e;const s=getGrid(3*h.length);this.colorations=h.flatMap((t=>new Array(3).fill(0).map((()=>{const e=s.pop();return{coords:{x:e.x*this.getCanvasWidth(),y:e.y*this.getCanvasHeight()},rgb:parseColor(t),ratio:Random_around(Math.PI/4,.2),width:Random_between(5,8)*this.canvasMinSide*.08}}))))}setIntensity(t){this.intensity=.025*t}}const getGrid=t=>{const e=2*Math.PI*Math.random();return(t=>{const e=t.slice();for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[s],e[s]=i}return e})(new Array(t).fill(0).map(((s,i)=>{const a=e+Random_around(i*Math.PI*2/t,.32),n=Random_between(.8,1.1);return{x:(Math.cos(a)*n+1)/2,y:(Math.sin(a)*n+1)/2}})))},getColorationOpacity=(t,e,s)=>{const i=e-t.coords.x,a=s-t.coords.y,n=Math.sqrt(Math.pow(i*Math.cos(t.ratio),2)+Math.pow(a*Math.sin(t.ratio),2)),o=(t.width-n)/t.width;return Math.max(o,0)},o="width: 100%;height: 100%;position:absolute;will-change:transform;top: 0;left:0;";class Nebula{constructor({config:t,element:e}){this.cancelAnimations=[],this.stars=[],this.comets=[],this.planets=[],this.onResize=()=>{this.styleCanvas(),this.init()},this.styleCanvas=()=>{this.bgCanvas.setAttribute("style",o),this.bgCanvas.width=this.element.offsetWidth/3,this.bgCanvas.height=this.element.offsetHeight/3,this.canvas.setAttribute("style",o),this.canvas.width=2*this.element.offsetWidth,this.canvas.height=2*this.element.offsetHeight},this.element=e,this.bgCanvas=document.createElement("CANVAS"),this.canvas=document.createElement("CANVAS"),e.append(this.bgCanvas),e.append(this.canvas),this.styleCanvas(),window.addEventListener("resize",this.onResize),this.config=fillConfig(t),this.setConfig(t)}setConfig(t){this.config=fillConfig(t),this.coloration=(({ctx:t,coloration:e,intensity:s})=>e?(e.setIntensity(s),e):new NebulaColoration({ctx:t,intensity:s}))({coloration:this.coloration,ctx:this.bgCanvas.getContext("2d"),intensity:this.config.nebulasIntensity}),this.stars=(({stars:t,count:e,color:s,rotationSpeed:i,ctx:a})=>{let n;const o=e-t.length;if(o<=0)n=t.slice(0,e);else{const e=new Array(o).fill(0).map((()=>new Star({ctx:a,width:Random_between(.03,.1),distance:120*Math.pow(Math.random()*Math.random(),.5),speed:Random_around(.015*i,.005),rgb:parseColor(s)})));n=t.concat(e)}return n.map((t=>(t.speed=Random_around(.015*i,.005),t)))})({stars:this.stars,ctx:this.canvas.getContext("2d"),color:this.config.starsColor,count:this.config.starsCount,rotationSpeed:this.config.starsRotationSpeed}),this.planets=(({planets:t,sunScale:e,scale:s,rotationSpeed:i,distance:a,ctx:n})=>{const o=new Sun({ctx:n,width:1.9*e,distance:a/2,startAngle:0,speed:.0033*i,rgb:parseColor("rgb(208,141,16)")}),r=new Planet({ctx:n,width:.48*s,distance:5*s,speed:.01*i,rgb:parseColor("rgb(19,102,150)"),origin:o});return[o,new Planet({ctx:n,width:.15*s,distance:4.2,speed:.017*i,rgb:parseColor("rgb(180, 144, 88)"),origin:o}),r,new Planet({ctx:n,width:.12*s,distance:1.6*s,speed:.0212*i,rgb:parseColor("rgb(200, 200, 200)"),origin:r}),new Planet({ctx:n,width:.32*s,distance:6.4*s,speed:.0066*i,rgb:parseColor("rgb(233, 88, 26)"),origin:o}),new Planet({ctx:n,width:.72*s,distance:8.8*s,speed:.0046*i,rgb:parseColor("rgb(169, 109, 45)"),origin:o}),new Planet({ctx:n,width:.6*s,distance:11*s,speed:.004*i,rgb:parseColor("rgb(164,127,84)"),origin:o}),new Planet({ctx:n,width:.38*s,distance:12.6*s,speed:.0037*i,rgb:parseColor("rgb(84,149,164)"),origin:o}),new Planet({ctx:n,width:.31*s,distance:13.6*s,speed:.0033*i,rgb:parseColor("rgb(36,82,154)"),origin:o})]})({planets:this.planets,sunScale:this.config.sunScale,scale:this.config.planetsScale,ctx:this.canvas.getContext("2d"),rotationSpeed:this.config.solarSystemSpeedOrbit,distance:this.config.solarSystemOrbite}),this.comets=(({ctx:t,frequence:e})=>new Array(1).fill(0).flatMap((()=>[new Comet({ctx:t,frequence:e})])))({ctx:this.canvas.getContext("2d"),frequence:this.config.cometFrequence}),this.init()}init(){this.draw()}draw(){this.cancelAnimations.forEach((t=>t())),this.cancelAnimations=[drawOnCanvas({canvas:this.bgCanvas,drawings:[this.coloration],bgColor:this.config.bgColor}),drawOnCanvas({canvas:this.canvas,drawings:[...this.stars,...this.comets,...this.planets],fps:40})]}destroy(){var t,e;window.removeEventListener("resize",this.onResize),this.cancelAnimations.forEach((t=>t())),this.cancelAnimations=[],null==(t=this.bgCanvas.parentElement)||t.removeChild(this.bgCanvas),null==(e=this.canvas.parentElement)||e.removeChild(this.canvas)}}const ReactNebula=({config:t={}})=>{const e=s.useRef(),i=s.useRef(null);return s.useLayoutEffect((()=>{var s;e.current&&(null==(s=e.current)||s.setConfig(t))}),[t]),s.useLayoutEffect((()=>(e.current||(e.current=new Nebula({config:t,element:i.current})),()=>{var t;null==(t=e.current)||t.destroy(),e.current=void 0})),[]),React.createElement("div",{ref:i,style:{overflow:"hidden",background:"#0a1929",height:"100%",width:"100%",position:"absolute"}})};function StarEffectClient(){return t.jsx(t.Fragment,{children:t.jsx("div",{className:"opacity-100",children:t.jsx(ReactNebula,{config:{starsCount:600,starsColor:"#FFFFFF",starsRotationSpeed:2,cometFrequence:100,nebulasIntensity:30,bgColor:"rgb(42,112,25)",sunScale:0,planetsScale:0,solarSystemOrbite:70,solarSystemSpeedOrbit:100}})})})}export{StarEffectClient as default};
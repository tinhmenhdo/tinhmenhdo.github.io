import{d as createAstro,c as createComponent,r as renderTemplate,a as renderComponent,m as maybeRenderHead,b as addAttribute,s as spreadAttributes,F as Fragment,u as unescapeHTML}from"./4CUkstck.js";import{f as findImage}from"./eiMhdnlD.js";import{g as getImage}from"./BCzj0W3d.js";import{parseUrl,transformUrl}from"unpic";import"kleur/colors";import{g as getPermalink}from"./ByxGNdoU.js";import{$ as $$Icon}from"./CXYkg3Co.js";import{twMerge}from"tailwind-merge";const config={imageSizes:[16,32,48,64,96,128,256,384],deviceSizes:[640,750,828,960,1080,1280,1668,1920,2048,2560,3200,3840,4480,5120,6016],formats:["image/webp"]},computeHeight=(e,t)=>Math.floor(e/t),parseAspectRatio=e=>{if("number"==typeof e)return e;if("string"==typeof e){const t=e.match(/(\d+)\s*[/:]\s*(\d+)/);if(t){const[,e,r]=t.map(Number);if(r&&!isNaN(e))return e/r}else{const t=parseFloat(e);if(!isNaN(t))return t}}},getSizes=(e,t)=>{if(e&&t)switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},pixelate=e=>e||0===e?`${e}px`:void 0,getStyle=({width:e,height:t,aspectRatio:r,layout:s,objectFit:a="cover",objectPosition:i="center",background:o})=>{const n=[["object-fit",a],["object-position",i]];o?.startsWith("https:")||o?.startsWith("http:")||o?.startsWith("data:")?(n.push(["background-image",`url(${o})`]),n.push(["background-size","cover"]),n.push(["background-repeat","no-repeat"])):n.push(["background",o]),"fixed"===s&&(n.push(["width",pixelate(e)]),n.push(["height",pixelate(t)]),n.push(["object-position","top left"])),"constrained"===s&&(n.push(["max-width",pixelate(e)]),n.push(["max-height",pixelate(t)]),n.push(["aspect-ratio",r?`${r}`:void 0]),n.push(["width","100%"])),"fullWidth"===s&&(n.push(["width","100%"]),n.push(["aspect-ratio",r?`${r}`:void 0]),n.push(["height",pixelate(t)])),"responsive"===s&&(n.push(["width","100%"]),n.push(["height","auto"]),n.push(["aspect-ratio",r?`${r}`:void 0])),"contained"===s&&(n.push(["max-width","100%"]),n.push(["max-height","100%"]),n.push(["object-fit","contain"]),n.push(["aspect-ratio",r?`${r}`:void 0])),"cover"===s&&(n.push(["max-width","100%"]),n.push(["max-height","100%"]));const d=Object.fromEntries(n.filter((([,e])=>e)));return Object.entries(d).map((([e,t])=>`${e}: ${t};`)).join(" ")},getBreakpoints=({width:e,breakpoints:t,layout:r})=>{if("fullWidth"===r||"cover"===r||"responsive"===r||"contained"===r)return t||config.deviceSizes;if(!e)return[];const s=2*e;return"fixed"===r?[e,s]:"constrained"===r?[e,s,...(t||config.deviceSizes).filter((e=>e<s))]:[]},astroAsseetsOptimizer=async(e,t,r,s)=>e?Promise.all(t.map((async t=>({src:(await getImage({src:e,width:t,inferSize:!0})).src,width:t})))):[],isUnpicCompatible=e=>void 0!==parseUrl(e),unpicOptimizer=async(e,t,r,s)=>{if(!e||"string"!=typeof e)return[];const a=parseUrl(e);return a?Promise.all(t.map((async t=>{const i=transformUrl({url:e,width:t,height:r&&s?computeHeight(t,r/s):s,cdn:a.cdn})||e;return{src:String(i),width:t}}))):[]};async function getImagesOptimized(e,{src:t,width:r,height:s,sizes:a,aspectRatio:i,widths:o,layout:n="constrained",style:d="",...p},m=()=>Promise.resolve([])){"string"!=typeof e&&(r||=Number(e.width)||void 0,s||="number"==typeof r?computeHeight(r,e.width/e.height):void 0),r=r&&Number(r)||void 0,s=s&&Number(s)||void 0,o||=config.deviceSizes,a||=getSizes(Number(r)||void 0,n),(i=parseAspectRatio(i))?r?s||(s=r/i):s?r=Number(s*i):"fullWidth"!==n&&(console.error("When aspectRatio is set, either width or height must also be set"),console.error("Image",e)):r&&s?i=r/s:"fullWidth"!==n&&(console.error("Either aspectRatio or both width and height must be set"),console.error("Image",e));let c=getBreakpoints({width:r,breakpoints:o,layout:n});c=[...new Set(c)].sort(((e,t)=>e-t));const l=(await m(e,c,Number(r)||void 0,Number(s)||void 0)).map((({src:e,width:t})=>`${e} ${t}w`)).join(", ");return{src:"string"==typeof e?e:e.src,attributes:{width:r,height:s,srcset:l||void 0,sizes:a,style:`${getStyle({width:r,height:s,aspectRatio:i,layout:n})}${d??""}`,...p}}}const $$Astro$2=createAstro("https://tinhmenhdo.github.io"),$$Image=createComponent((async(e,t,r)=>{const s=e.createAstro($$Astro$2,t,r);s.self=$$Image;const a=s.props;if(void 0===a.alt||null===a.alt)throw new Error;"string"==typeof a.width&&(a.width=parseInt(a.width)),"string"==typeof a.height&&(a.height=parseInt(a.height)),a.loading||(a.loading="lazy"),a.decoding||(a.decoding="async");const i=await findImage(a.src);let o;return"string"==typeof i?o=(i.startsWith("http://")||i.startsWith("https://"))&&isUnpicCompatible(i)?await getImagesOptimized(i,a,unpicOptimizer):{src:i,attributes:{...a,src:void 0}}:i&&(o=await getImagesOptimized(i,a,astroAsseetsOptimizer)),renderTemplate`${o?renderTemplate`${maybeRenderHead()}<img${addAttribute(o.src,"src")} crossorigin="anonymous" referrerpolicy="no-referrer"${spreadAttributes(o.attributes)}>`:renderTemplate`${renderComponent(e,"Fragment",Fragment,{})}`}`}),"/root/code/tmd_astro/src/components/common/Image.astro",void 0),$$Astro$1=createAstro("https://tinhmenhdo.github.io"),$$Tags=createComponent(((e,t,r)=>{const s=e.createAstro($$Astro$1,t,r);s.self=$$Tags;const{tags:a,class:i="text-sm",title:o,isCategory:n=!1}=s.props;return renderTemplate`${a&&Array.isArray(a)&&renderTemplate`${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${void 0!==o&&renderTemplate`${maybeRenderHead()}<span class="align-super font-normal underline underline-offset-4 decoration-2 dark:text-slate-400">${o}</span>`}`})}<ul${addAttribute(i,"class")}>${a.map((e=>renderTemplate`<li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 rtl:mr-0 rtl:ml-2 mb-2 py-0.5 px-2 lowercase font-medium">${renderTemplate`<a${addAttribute(getPermalink(e.slug,n?"category":"tag"),"href")} class="text-muted dark:text-slate-300 hover:text-primary dark:hover:text-gray-200">${e.title}</a>`}</li>`))}</ul>`})}`}`}),"/root/code/tmd_astro/src/components/blog/Tags.astro",void 0),$$Astro=createAstro("https://tinhmenhdo.github.io"),$$Button=createComponent(((e,t,r)=>{const s=e.createAstro($$Astro,t,r);s.self=$$Button;const{variant:a="secondary",target:i,text:o=s.slots.render("default"),icon:n="",class:d="",type:p,...m}=s.props,c={primary:"btn-primary",secondary:"btn-secondary",tertiary:"btn btn-tertiary",link:"cursor-pointer hover:text-primary"};return renderTemplate`${"button"===p||"submit"===p||"reset"===p?renderTemplate`${maybeRenderHead()}<button${addAttribute(p,"type")}${addAttribute(twMerge(c[a]||"",d),"class")}${spreadAttributes(m)}>${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${unescapeHTML(o)}`})}${n&&renderTemplate`${renderComponent(e,"Icon",$$Icon,{name:n,class:"w-5 h-5 ml-1 -mr-1.5 rtl:mr-1 rtl:-ml-1.5 inline-block"})}`}</button>`:renderTemplate`<a${addAttribute(twMerge(c[a]||"",d),"class")}${spreadAttributes(i?{target:i,rel:"noopener noreferrer"}:{})}${spreadAttributes(m)}>${renderComponent(e,"Fragment",Fragment,{},{default:e=>renderTemplate`${unescapeHTML(o)}`})}${n&&renderTemplate`${renderComponent(e,"Icon",$$Icon,{name:n,class:"w-5 h-5 ml-1 -mr-1.5 rtl:mr-1 rtl:-ml-1.5 inline-block"})}`}</a>`}`}),"/root/code/tmd_astro/src/components/ui/Button.astro",void 0);export{$$Image as $,$$Tags as a,$$Button as b};
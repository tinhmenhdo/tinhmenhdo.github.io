import{j as s}from"./DzZ8jI8_.js";import{r as m}from"./l2PZgWEW.js";import{c as C,b as _,C as r,a as i,d as p,e as u,L as x,f as h}from"./DjqdDVwK.js";const D=["https://worldtimeapi.org/api/timezone/Asia/Ho_Chi_Minh","https://api.weatherapi.com/v1/timezone.json?key=0155aa8ee0e3416ab5851326241611&q=Ho_Chi_Minh","https://timeapi.io/api/Time/current/zone?timeZone=Asia/Ho_Chi_Minh","https://www.timeapi.io/api/Time/current/zone?timeZone=Asia/Ho_Chi_Minh","https://www.timeapi.dev/api/Time/current/zone?timeZone=Asia/Ho_Chi_Minh","https://api.sunrise-sunset.org/json?lat=10.8231&lng=106.6297&formatted=0",{url:"https://time.vuquyettam.workers.dev",noCors:!0}],I=(t,n)=>{try{return n.includes("weatherapi")?new Date(t.location.localtime):n.includes("worldtimeapi")?new Date(t.datetime):n.includes("timeapi.io")||n.includes("timeapi.dev")?new Date(t.dateTime):n.includes("sunrise-sunset")?new Date(t.results.solar_noon):n.includes("vuquyettam")?new Date(t.timestamp):null}catch{return null}},z=()=>{const[t,n]=m.useState(new Date),[f,N]=m.useState(0),[v,y]=m.useState(!1);let w;const g=async()=>{for(const a of D)try{const l=typeof a=="string"?a:a.url,o={headers:{}};typeof a!="string"&&a.noCors&&(o.mode="no-cors");const c=await fetch(l,o);if(!c.ok&&c.type!=="opaque")continue;if(c.type==="opaque"){const H=new Date;return N(0),n(H),!0}const T=await c.json(),d=I(T,l);if(!d||isNaN(d.getTime()))continue;const $=new Date,j=d.getTime()-$.getTime();if(Math.abs(j)>24*60*60*1e3)continue;return N(j),n(d),!0}catch{continue}return!1};m.useEffect(()=>{v||(g(),y(!0));const a=setInterval(()=>{const o=new Date(Date.now()+f);n(o),o.getMinutes()===0&&o.getSeconds()===0&&o.getHours()%2===0&&(location.href="/")},1e3),l=setInterval(g,36e5);return()=>{clearInterval(a),clearInterval(l),clearTimeout(w)}},[f]);const b=C(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()),e=_(b);return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"text-center mb-7",children:s.jsxs("h2",{className:"text-[20px] mb-3 max-sm:mb-2",children:["Lịch âm hôm nay là",s.jsxs("strong",{className:"mx-1 font-bold text-orange-300 max-md:block",children:["ngày ",b.d," tháng ",b.m]}),"năm",s.jsxs("span",{className:"mx-1 font-bold darkColor",children:[s.jsx("span",{className:"font-bold uppercase",children:r[e.bs.y[0]]})," ",s.jsx("span",{className:"font-bold uppercase",children:i[e.bs.y[1]]})]}),"hiện tại là giờ ",s.jsx("strong",{className:"font-bold uppercase",children:i[e.bs.h[1]]})]})}),s.jsxs("div",{className:"grid grid-cols-4 text-center w-[800px] max-md:w-full mx-auto gap-3 text-[2.5em] max-md:text-[1.3em] font-mono darkColor",children:[s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Năm"}),s.jsx("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${e.sn.y}`,children:e.sn.y}),s.jsx("div",{className:"font-bold uppercase text-gray-500",children:" "}),s.jsx("div",{className:`font-bold uppercase color${p[e.bs.y[0]]}`,children:r[e.bs.y[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[e.bs.y[1]]}`,children:i[e.bs.y[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[e.bs.y[2]]}`,children:h[e.bs.y[2]]})]}),s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Tháng"}),s.jsx("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${e.sn.y}-${e.sn.m}`,children:e.sn.m}),s.jsx("div",{className:"font-bold uppercase",children:s.jsx("span",{className:"px-3 text-gray-500 bg-white/80 rounded-2xl",children:e.ln.m})}),s.jsx("div",{className:`font-bold uppercase color${p[e.bs.m[0]]}`,children:r[e.bs.m[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[e.bs.m[1]]}`,children:i[e.bs.m[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[e.bs.m[2]]}`,children:h[e.bs.m[2]]})]}),s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Ngày"}),s.jsx("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${e.sn.y}-${e.sn.m}-${e.sn.d}`,children:e.sn.d}),s.jsx("div",{className:"font-bold uppercase",children:s.jsx("span",{className:"px-3 text-gray-500 bg-white/80 rounded-2xl",children:e.ln.d})}),s.jsx("div",{className:`font-bold uppercase color${p[e.bs.d[0]]}`,children:r[e.bs.d[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[e.bs.d[1]]}`,children:i[e.bs.d[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[e.bs.d[2]]}`,children:h[e.bs.d[2]]})]}),s.jsxs("div",{className:"py-5 bg-black/55 rounded-xl",children:[s.jsx("div",{className:"font-bold uppercase text-white/40",children:"Giờ"}),s.jsxs("time",{className:"font-bold uppercase text-orange-200 text-[1.15em] max-md:text-[1.2em]",dateTime:`${e.sn.h}:${t.getMinutes()}`,children:[e.sn.h,"h",t.getMinutes().toString().padStart(2,"0")]}),s.jsx("div",{className:"font-bold uppercase text-gray-500",children:" "}),s.jsx("div",{className:`font-bold uppercase color${p[e.bs.h[0]]}`,children:r[e.bs.h[0]]}),s.jsx("div",{className:`font-bold uppercase color${u[e.bs.h[1]]}`,children:i[e.bs.h[1]]}),s.jsx("div",{className:`text-[0.6em] font-sans color${x[e.bs.h[2]]}`,children:h[e.bs.h[2]]})]})]})]})};export{z as default};

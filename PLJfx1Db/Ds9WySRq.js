import{j as e}from"./DzZ8jI8_.js";import{r as h}from"./l2PZgWEW.js";import{I as v,a as d}from"./Bw4_-Et7.js";const H=()=>{const[o,g]=h.useState([]),[c,x]=h.useState(!1),[u,b]=h.useState(null),p=t=>{const l=()=>{const m=new Uint8Array(1);return crypto.getRandomValues(m),m[0]<128?"N":"S"},a=Array(3).fill(null).map(()=>l()),n=a.filter(m=>m==="N").length;let s,i,r="";return n===3?(s="amDong",i="— —",r="(Âm Động)"):n===0?(s="duongDong",i="———",r="(Dương Động)"):n===2?(s="duong",i="———",r=""):(s="am",i="— —",r=""),{coins:a,type:s,symbol:i,trangThai:r,haoNumber:t}},f=t=>{const a=[...t].sort((s,i)=>s.haoNumber-i.haoNumber).map(s=>s.type==="duong"||s.type==="duongDong"?"1":"0").join(""),n=v.findIndex(s=>s.map(r=>r.toString()).join("")===a);return n!==-1?{queIcon:d[n][0],queTen:d[n][1],queMeaning:d[n][2]}:null},N=async()=>{if(c||o.length>=6)return;x(!0);const t=o.length+1;await new Promise(n=>setTimeout(n,1e3));const l=p(t),a=[...o,l];if(g(a),x(!1),a.length===6){const n=f(a);n&&b({haoResults:a,queIcon:n.queIcon,queTen:n.queTen,queMeaning:n.queMeaning})}},y=()=>{g([]),b(null)},j=[...o].sort((t,l)=>t.haoNumber-l.haoNumber);return e.jsxs("div",{className:"relative z-10 my-8 mb-96 mt-4 px-5",children:[e.jsxs("h1",{className:"mb-5 mt-10 text-center text-xl font-bold",children:["Gieo quẻ hỏi việc ",new Date().getFullYear()]}),e.jsxs("div",{className:"mb-5 mt-10",children:[e.jsx("p",{children:"Đây là nơi bạn có thể khám phá và hiểu rõ hơn về vận mệnh của mình thông qua 64 quẻ Kinh Dịch, một trong những hệ thống dự đoán cổ xưa và uyên thâm nhất của nhân loại."}),e.jsx("p",{children:"Hãy dành một chút thời gian, nhắm mắt lại và tập trung suy nghĩ về việc bạn đang cần hỏi. Khi bạn đã sẵn sàng, chỉ cần nhấp chuột vào đây để gieo quẻ. Bạn sẽ nhận được một quẻ, mang đến những gợi ý và lời khuyên hữu ích cho cuộc sống hiện tại."}),e.jsx("div",{className:"text-center",children:e.jsx("b",{children:"Ấn vào vòng sau để gieo quẻ"})}),e.jsx("div",{className:"flex justify-center",children:o.length<6?e.jsxs("button",{onClick:N,disabled:c,className:`relative mt-4 rounded-xl bg-amber-500 px-6 py-3 font-semibold text-white shadow-lg 
                transition-all hover:bg-amber-600 disabled:bg-gray-400`,children:[c?"Đang tung...":`Tung 3 đồng xu (Hào ${o.length+1})`,c&&e.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-4 flex space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-400 animate-bounce"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-400 animate-bounce delay-100"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-400 animate-bounce delay-200"})]})]}):e.jsx("button",{onClick:y,className:"mt-4 rounded-xl bg-blue-500 px-6 py-3 font-semibold text-white shadow-lg",children:"Gieo quẻ mới"})}),o.length>0&&e.jsxs("div",{className:"mx-auto mt-8 max-w-2xl rounded-lg bg-white p-6 shadow-xl",children:[e.jsx("div",{className:"mb-4 space-y-2 flex flex-col-reverse",children:j.map(t=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"w-20",children:["Hào ",t.haoNumber,":"]}),e.jsx("span",{className:"font-mono w-12",children:t.symbol}),e.jsx("div",{className:"flex space-x-2",children:t.coins.map((l,a)=>e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center
                          ${l==="N"?"bg-yellow-400":"bg-gray-400"}`,children:l},a))}),e.jsx("span",{className:"text-gray-600",children:t.trangThai})]},t.haoNumber))}),u&&e.jsxs("div",{className:"mt-6 border-t pt-4",children:[e.jsx("div",{className:"mb-2 text-center vw:text-[100px] font-semibold",children:u.queIcon}),e.jsxs("h3",{className:"mb-2 text-center text-2xl font-semibold",children:["Quẻ: ",u.queTen]}),e.jsx("p",{className:"text-gray-700 text-xl",children:u.queMeaning})]})]})]})]})};export{H as default};

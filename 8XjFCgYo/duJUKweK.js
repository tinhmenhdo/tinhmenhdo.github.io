import{d as createAstro,c as createComponent,r as renderTemplate,m as maybeRenderHead,b as addAttribute,s as spreadAttributes,a as renderComponent,u as unescapeHTML,F as Fragment}from"./UJWqr72G.js";import{$ as $$Icon}from"./DZvIDL3O.js";import{twMerge}from"tailwind-merge";import{f as findImage}from"./BlqSA6To.js";import{g as getImage}from"./s9VTTYDj.js";import{parseUrl,transformUrl}from"unpic";const $$Astro$1=createAstro("https://tinhmenhdo.github.io"),$$Button=createComponent(((t,e,r)=>{const i=t.createAstro($$Astro$1,e,r);i.self=$$Button;const{variant:s="secondary",target:o,text:a=i.slots.render("default"),icon:n="",class:p="",type:c,...d}=i.props,m={primary:"btn-primary",secondary:"btn-secondary",tertiary:"btn btn-tertiary",link:"cursor-pointer hover:text-primary"};return renderTemplate`${"button"===c||"submit"===c||"reset"===c?renderTemplate`${maybeRenderHead()}<button${addAttribute(c,"type")}${addAttribute(twMerge(m[s]||"",p),"class")}${spreadAttributes(d)}>${renderComponent(t,"Fragment",Fragment,{},{default:t=>renderTemplate`${unescapeHTML(a)}`})}${n&&renderTemplate`${renderComponent(t,"Icon",$$Icon,{name:n,class:"w-5 h-5 ml-1 -mr-1.5 rtl:mr-1 rtl:-ml-1.5 inline-block"})}`}</button>`:renderTemplate`<a${addAttribute(twMerge(m[s]||"",p),"class")}${spreadAttributes(o?{target:o,rel:"noopener noreferrer"}:{})}${spreadAttributes(d)}>${renderComponent(t,"Fragment",Fragment,{},{default:t=>renderTemplate`${unescapeHTML(a)}`})}${n&&renderTemplate`${renderComponent(t,"Icon",$$Icon,{name:n,class:"w-5 h-5 ml-1 -mr-1.5 rtl:mr-1 rtl:-ml-1.5 inline-block"})}`}</a>`}`}),"/root/code/tmd_astro/src/components/ui/Button.astro",void 0),config={imageSizes:[16,32,48,64,96,128,256,384],deviceSizes:[640,750,828,960,1080,1280,1668,1920,2048,2560,3200,3840,4480,5120,6016],formats:["image/webp"]},computeHeight=(t,e)=>Math.floor(t/e),parseAspectRatio=t=>{if("number"==typeof t)return t;if("string"==typeof t){const e=t.match(/(\d+)\s*[/:]\s*(\d+)/);if(e){const[,t,r]=e.map(Number);if(r&&!isNaN(t))return t/r}else{const e=parseFloat(t);if(!isNaN(e))return e}}},getSizes=(t,e)=>{if(t&&e)switch(e){case"constrained":return`(min-width: ${t}px) ${t}px, 100vw`;case"fixed":return`${t}px`;case"fullWidth":return"100vw";default:return}},pixelate=t=>t||0===t?`${t}px`:void 0,getStyle=({width:t,height:e,aspectRatio:r,layout:i,objectFit:s="cover",objectPosition:o="center",background:a})=>{const n=[["object-fit",s],["object-position",o]];a?.startsWith("https:")||a?.startsWith("http:")||a?.startsWith("data:")?(n.push(["background-image",`url(${a})`]),n.push(["background-size","cover"]),n.push(["background-repeat","no-repeat"])):n.push(["background",a]),"fixed"===i&&(n.push(["width",pixelate(t)]),n.push(["height",pixelate(e)]),n.push(["object-position","top left"])),"constrained"===i&&(n.push(["max-width",pixelate(t)]),n.push(["max-height",pixelate(e)]),n.push(["aspect-ratio",r?`${r}`:void 0]),n.push(["width","100%"])),"fullWidth"===i&&(n.push(["width","100%"]),n.push(["aspect-ratio",r?`${r}`:void 0]),n.push(["height",pixelate(e)])),"responsive"===i&&(n.push(["width","100%"]),n.push(["height","auto"]),n.push(["aspect-ratio",r?`${r}`:void 0])),"contained"===i&&(n.push(["max-width","100%"]),n.push(["max-height","100%"]),n.push(["object-fit","contain"]),n.push(["aspect-ratio",r?`${r}`:void 0])),"cover"===i&&(n.push(["max-width","100%"]),n.push(["max-height","100%"]));const p=Object.fromEntries(n.filter((([,t])=>t)));return Object.entries(p).map((([t,e])=>`${t}: ${e};`)).join(" ")},getBreakpoints=({width:t,breakpoints:e,layout:r})=>{if("fullWidth"===r||"cover"===r||"responsive"===r||"contained"===r)return e||config.deviceSizes;if(!t)return[];const i=2*t;return"fixed"===r?[t,i]:"constrained"===r?[t,i,...(e||config.deviceSizes).filter((t=>t<i))]:[]},astroAsseetsOptimizer=async(t,e,r,i)=>t?Promise.all(e.map((async e=>({src:(await getImage({src:t,width:e,inferSize:!0})).src,width:e})))):[],isUnpicCompatible=t=>void 0!==parseUrl(t),unpicOptimizer=async(t,e,r,i)=>{if(!t||"string"!=typeof t)return[];const s=parseUrl(t);return s?Promise.all(e.map((async e=>{const o=transformUrl({url:t,width:e,height:r&&i?computeHeight(e,r/i):i,cdn:s.cdn})||t;return{src:String(o),width:e}}))):[]};async function getImagesOptimized(t,{src:e,width:r,height:i,sizes:s,aspectRatio:o,widths:a,layout:n="constrained",style:p="",...c},d=()=>Promise.resolve([])){"string"!=typeof t&&(r||=Number(t.width)||void 0,i||="number"==typeof r?computeHeight(r,t.width/t.height):void 0),r=r&&Number(r)||void 0,i=i&&Number(i)||void 0,a||=config.deviceSizes,s||=getSizes(Number(r)||void 0,n),(o=parseAspectRatio(o))?r?i||(i=r/o):i?r=Number(i*o):"fullWidth"!==n&&(console.error("When aspectRatio is set, either width or height must also be set"),console.error("Image",t)):r&&i?o=r/i:"fullWidth"!==n&&(console.error("Either aspectRatio or both width and height must be set"),console.error("Image",t));let m=getBreakpoints({width:r,breakpoints:a,layout:n});m=[...new Set(m)].sort(((t,e)=>t-e));const h=(await d(t,m,Number(r)||void 0,Number(i)||void 0)).map((({src:t,width:e})=>`${t} ${e}w`)).join(", ");return{src:"string"==typeof t?t:t.src,attributes:{width:r,height:i,srcset:h||void 0,sizes:s,style:`${getStyle({width:r,height:i,aspectRatio:o,layout:n})}${p??""}`,...c}}}const $$Astro=createAstro("https://tinhmenhdo.github.io"),$$Image=createComponent((async(t,e,r)=>{const i=t.createAstro($$Astro,e,r);i.self=$$Image;const s=i.props;if(void 0===s.alt||null===s.alt)throw new Error;"string"==typeof s.width&&(s.width=parseInt(s.width)),"string"==typeof s.height&&(s.height=parseInt(s.height)),s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async");const o=await findImage(s.src);let a;return"string"==typeof o?a=(o.startsWith("http://")||o.startsWith("https://"))&&isUnpicCompatible(o)?await getImagesOptimized(o,s,unpicOptimizer):{src:o,attributes:{...s,src:void 0}}:o&&(a=await getImagesOptimized(o,s,astroAsseetsOptimizer)),renderTemplate`${a?renderTemplate`${maybeRenderHead()}<img${addAttribute(a.src,"src")} crossorigin="anonymous" referrerpolicy="no-referrer"${spreadAttributes(a.attributes)}>`:renderTemplate`${renderComponent(t,"Fragment",Fragment,{})}`}`}),"/root/code/tmd_astro/src/components/common/Image.astro",void 0);export{$$Button as $,$$Image as a};